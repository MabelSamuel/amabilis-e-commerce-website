var D0=t=>{throw TypeError(t)};var rp=(t,e,n)=>e.has(t)||D0("Cannot "+n);var L=(t,e,n)=>(rp(t,e,"read from private field"),n?n.call(t):e.get(t)),ve=(t,e,n)=>e.has(t)?D0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),oe=(t,e,n,r)=>(rp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ae=(t,e,n)=>(rp(t,e,"access private method"),n);var Hc=(t,e,n,r)=>({set _(s){oe(t,e,s,n)},get _(){return L(t,e,r)}});function WI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function KI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mx={exports:{}},Qh={},gx={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic=Symbol.for("react.element"),QI=Symbol.for("react.portal"),GI=Symbol.for("react.fragment"),ZI=Symbol.for("react.strict_mode"),JI=Symbol.for("react.profiler"),YI=Symbol.for("react.provider"),XI=Symbol.for("react.context"),eC=Symbol.for("react.forward_ref"),tC=Symbol.for("react.suspense"),nC=Symbol.for("react.memo"),rC=Symbol.for("react.lazy"),L0=Symbol.iterator;function sC(t){return t===null||typeof t!="object"?null:(t=L0&&t[L0]||t["@@iterator"],typeof t=="function"?t:null)}var yx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vx=Object.assign,_x={};function Ba(t,e,n){this.props=t,this.context=e,this.refs=_x,this.updater=n||yx}Ba.prototype.isReactComponent={};Ba.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ba.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wx(){}wx.prototype=Ba.prototype;function qg(t,e,n){this.props=t,this.context=e,this.refs=_x,this.updater=n||yx}var Hg=qg.prototype=new wx;Hg.constructor=qg;vx(Hg,Ba.prototype);Hg.isPureReactComponent=!0;var M0=Array.isArray,xx=Object.prototype.hasOwnProperty,Wg={current:null},Ex={key:!0,ref:!0,__self:!0,__source:!0};function Tx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)xx.call(e,r)&&!Ex.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ic,type:t,key:i,ref:o,props:s,_owner:Wg.current}}function iC(t,e){return{$$typeof:ic,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kg(t){return typeof t=="object"&&t!==null&&t.$$typeof===ic}function oC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var V0=/\/+/g;function sp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oC(""+t.key):e.toString(36)}function yd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ic:case QI:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+sp(o,0):r,M0(s)?(n="",t!=null&&(n=t.replace(V0,"$&/")+"/"),yd(s,e,n,"",function(c){return c})):s!=null&&(Kg(s)&&(s=iC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(V0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",M0(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+sp(i,a);o+=yd(i,e,n,u,s)}else if(u=sC(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+sp(i,a++),o+=yd(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wc(t,e,n){if(t==null)return t;var r=[],s=0;return yd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function aC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},vd={transition:null},lC={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:vd,ReactCurrentOwner:Wg};function Sx(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Wc,forEach:function(t,e,n){Wc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wc(t,function(){e++}),e},toArray:function(t){return Wc(t,function(e){return e})||[]},only:function(t){if(!Kg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Ba;Ie.Fragment=GI;Ie.Profiler=JI;Ie.PureComponent=qg;Ie.StrictMode=ZI;Ie.Suspense=tC;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lC;Ie.act=Sx;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Wg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)xx.call(e,u)&&!Ex.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ic,type:t.type,key:s,ref:i,props:r,_owner:o}};Ie.createContext=function(t){return t={$$typeof:XI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YI,_context:t},t.Consumer=t};Ie.createElement=Tx;Ie.createFactory=function(t){var e=Tx.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:eC,render:t}};Ie.isValidElement=Kg;Ie.lazy=function(t){return{$$typeof:rC,_payload:{_status:-1,_result:t},_init:aC}};Ie.memo=function(t,e){return{$$typeof:nC,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=vd.transition;vd.transition={};try{t()}finally{vd.transition=e}};Ie.unstable_act=Sx;Ie.useCallback=function(t,e){return pn.current.useCallback(t,e)};Ie.useContext=function(t){return pn.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return pn.current.useEffect(t,e)};Ie.useId=function(){return pn.current.useId()};Ie.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return pn.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};Ie.useRef=function(t){return pn.current.useRef(t)};Ie.useState=function(t){return pn.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return pn.current.useTransition()};Ie.version="18.3.1";gx.exports=Ie;var z=gx.exports;const ct=KI(z),tm=WI({__proto__:null,default:ct},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC=z,cC=Symbol.for("react.element"),dC=Symbol.for("react.fragment"),hC=Object.prototype.hasOwnProperty,fC=uC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pC={key:!0,ref:!0,__self:!0,__source:!0};function bx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hC.call(e,r)&&!pC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:cC,type:t,key:i,ref:o,props:s,_owner:fC.current}}Qh.Fragment=dC;Qh.jsx=bx;Qh.jsxs=bx;mx.exports=Qh;var d=mx.exports,nm={},Ix={exports:{}},Vn={},Cx={exports:{}},Ax={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,de){var he=J.length;J.push(de);e:for(;0<he;){var Ue=he-1>>>1,Oe=J[Ue];if(0<s(Oe,de))J[Ue]=de,J[he]=Oe,he=Ue;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var de=J[0],he=J.pop();if(he!==de){J[0]=he;e:for(var Ue=0,Oe=J.length,Ke=Oe>>>1;Ue<Ke;){var gn=2*(Ue+1)-1,kt=J[gn],$t=gn+1,qt=J[$t];if(0>s(kt,he))$t<Oe&&0>s(qt,kt)?(J[Ue]=qt,J[$t]=he,Ue=$t):(J[Ue]=kt,J[gn]=he,Ue=gn);else if($t<Oe&&0>s(qt,he))J[Ue]=qt,J[$t]=he,Ue=$t;else break e}}return de}function s(J,de){var he=J.sortIndex-de.sortIndex;return he!==0?he:J.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,m=null,p=3,v=!1,y=!1,b=!1,P=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(J){for(var de=n(c);de!==null;){if(de.callback===null)r(c);else if(de.startTime<=J)r(c),de.sortIndex=de.expirationTime,e(u,de);else break;de=n(c)}}function D(J){if(b=!1,S(J),!y)if(n(u)!==null)y=!0,vt(V);else{var de=n(c);de!==null&&Ye(D,de.startTime-J)}}function V(J,de){y=!1,b&&(b=!1,E(_),_=-1),v=!0;var he=p;try{for(S(de),m=n(u);m!==null&&(!(m.expirationTime>de)||J&&!O());){var Ue=m.callback;if(typeof Ue=="function"){m.callback=null,p=m.priorityLevel;var Oe=Ue(m.expirationTime<=de);de=t.unstable_now(),typeof Oe=="function"?m.callback=Oe:m===n(u)&&r(u),S(de)}else r(u);m=n(u)}if(m!==null)var Ke=!0;else{var gn=n(c);gn!==null&&Ye(D,gn.startTime-de),Ke=!1}return Ke}finally{m=null,p=he,v=!1}}var q=!1,C=null,_=-1,I=5,R=-1;function O(){return!(t.unstable_now()-R<I)}function j(){if(C!==null){var J=t.unstable_now();R=J;var de=!0;try{de=C(!0,J)}finally{de?A():(q=!1,C=null)}}else q=!1}var A;if(typeof w=="function")A=function(){w(j)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Ve=ge.port2;ge.port1.onmessage=j,A=function(){Ve.postMessage(null)}}else A=function(){P(j,0)};function vt(J){C=J,q||(q=!0,A())}function Ye(J,de){_=P(function(){J(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,vt(V))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(J){switch(p){case 1:case 2:case 3:var de=3;break;default:de=p}var he=p;p=de;try{return J()}finally{p=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,de){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var he=p;p=J;try{return de()}finally{p=he}},t.unstable_scheduleCallback=function(J,de,he){var Ue=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ue+he:Ue):he=Ue,J){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=he+Oe,J={id:h++,callback:de,priorityLevel:J,startTime:he,expirationTime:Oe,sortIndex:-1},he>Ue?(J.sortIndex=he,e(c,J),n(u)===null&&J===n(c)&&(b?(E(_),_=-1):b=!0,Ye(D,he-Ue))):(J.sortIndex=Oe,e(u,J),y||v||(y=!0,vt(V))),J},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(J){var de=p;return function(){var he=p;p=de;try{return J.apply(this,arguments)}finally{p=he}}}})(Ax);Cx.exports=Ax;var mC=Cx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC=z,Mn=mC;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rx=new Set,uu={};function mo(t,e){Ta(t,e),Ta(t+"Capture",e)}function Ta(t,e){for(uu[t]=e,t=0;t<e.length;t++)Rx.add(e[t])}var cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rm=Object.prototype.hasOwnProperty,yC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,F0={},U0={};function vC(t){return rm.call(U0,t)?!0:rm.call(F0,t)?!1:yC.test(t)?U0[t]=!0:(F0[t]=!0,!1)}function _C(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wC(t,e,n,r){if(e===null||typeof e>"u"||_C(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qg=/[\-:]([a-z])/g;function Gg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qg,Gg);zt[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qg,Gg);zt[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qg,Gg);zt[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zg(t,e,n,r){var s=zt.hasOwnProperty(e)?zt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wC(e,n,s,r)&&(n=null),r||s===null?vC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _s=gC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kc=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Lo=Symbol.for("react.fragment"),Jg=Symbol.for("react.strict_mode"),sm=Symbol.for("react.profiler"),kx=Symbol.for("react.provider"),Px=Symbol.for("react.context"),Yg=Symbol.for("react.forward_ref"),im=Symbol.for("react.suspense"),om=Symbol.for("react.suspense_list"),Xg=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),Nx=Symbol.for("react.offscreen"),z0=Symbol.iterator;function vl(t){return t===null||typeof t!="object"?null:(t=z0&&t[z0]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,ip;function Pl(t){if(ip===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ip=e&&e[1]||""}return`
`+ip+t}var op=!1;function ap(t,e){if(!t||op)return"";op=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{op=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pl(t):""}function xC(t){switch(t.tag){case 5:return Pl(t.type);case 16:return Pl("Lazy");case 13:return Pl("Suspense");case 19:return Pl("SuspenseList");case 0:case 2:case 15:return t=ap(t.type,!1),t;case 11:return t=ap(t.type.render,!1),t;case 1:return t=ap(t.type,!0),t;default:return""}}function am(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Lo:return"Fragment";case Do:return"Portal";case sm:return"Profiler";case Jg:return"StrictMode";case im:return"Suspense";case om:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Px:return(t.displayName||"Context")+".Consumer";case kx:return(t._context.displayName||"Context")+".Provider";case Yg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xg:return e=t.displayName||null,e!==null?e:am(t.type)||"Memo";case ks:e=t._payload,t=t._init;try{return am(t(e))}catch{}}return null}function EC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return am(e);case 8:return e===Jg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function li(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TC(t){var e=jx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qc(t){t._valueTracker||(t._valueTracker=TC(t))}function Ox(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lm(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function B0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=li(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dx(t,e){e=e.checked,e!=null&&Zg(t,"checked",e,!1)}function um(t,e){Dx(t,e);var n=li(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cm(t,e.type,n):e.hasOwnProperty("defaultValue")&&cm(t,e.type,li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cm(t,e,n){(e!=="number"||Bd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Nl=Array.isArray;function Jo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+li(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function dm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function q0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(Nl(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:li(n)}}function Lx(t,e){var n=li(e.value),r=li(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function H0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Mx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Mx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gc,Vx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gc=Gc||document.createElement("div"),Gc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SC=["Webkit","ms","Moz","O"];Object.keys(Hl).forEach(function(t){SC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hl[e]=Hl[t]})});function Fx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hl.hasOwnProperty(t)&&Hl[t]?(""+e).trim():e+"px"}function Ux(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Fx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var bC=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fm(t,e){if(e){if(bC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function pm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mm=null;function ey(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gm=null,Yo=null,Xo=null;function W0(t){if(t=lc(t)){if(typeof gm!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Xh(e),gm(t.stateNode,t.type,e))}}function zx(t){Yo?Xo?Xo.push(t):Xo=[t]:Yo=t}function Bx(){if(Yo){var t=Yo,e=Xo;if(Xo=Yo=null,W0(t),e)for(t=0;t<e.length;t++)W0(e[t])}}function $x(t,e){return t(e)}function qx(){}var lp=!1;function Hx(t,e,n){if(lp)return t(e,n);lp=!0;try{return $x(t,e,n)}finally{lp=!1,(Yo!==null||Xo!==null)&&(qx(),Bx())}}function du(t,e){var n=t.stateNode;if(n===null)return null;var r=Xh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var ym=!1;if(cs)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){ym=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{ym=!1}function IC(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Wl=!1,$d=null,qd=!1,vm=null,CC={onError:function(t){Wl=!0,$d=t}};function AC(t,e,n,r,s,i,o,a,u){Wl=!1,$d=null,IC.apply(CC,arguments)}function RC(t,e,n,r,s,i,o,a,u){if(AC.apply(this,arguments),Wl){if(Wl){var c=$d;Wl=!1,$d=null}else throw Error(G(198));qd||(qd=!0,vm=c)}}function go(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Wx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function K0(t){if(go(t)!==t)throw Error(G(188))}function kC(t){var e=t.alternate;if(!e){if(e=go(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return K0(s),t;if(i===r)return K0(s),e;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function Kx(t){return t=kC(t),t!==null?Qx(t):null}function Qx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Qx(t);if(e!==null)return e;t=t.sibling}return null}var Gx=Mn.unstable_scheduleCallback,Q0=Mn.unstable_cancelCallback,PC=Mn.unstable_shouldYield,NC=Mn.unstable_requestPaint,ft=Mn.unstable_now,jC=Mn.unstable_getCurrentPriorityLevel,ty=Mn.unstable_ImmediatePriority,Zx=Mn.unstable_UserBlockingPriority,Hd=Mn.unstable_NormalPriority,OC=Mn.unstable_LowPriority,Jx=Mn.unstable_IdlePriority,Gh=null,Pr=null;function DC(t){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(Gh,t,void 0,(t.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:VC,LC=Math.log,MC=Math.LN2;function VC(t){return t>>>=0,t===0?32:31-(LC(t)/MC|0)|0}var Zc=64,Jc=4194304;function jl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=jl(a):(i&=o,i!==0&&(r=jl(i)))}else o=n&~s,o!==0?r=jl(o):i!==0&&(r=jl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-lr(e),s=1<<n,r|=t[n],e&=~s;return r}function FC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-lr(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=FC(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function _m(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yx(){var t=Zc;return Zc<<=1,!(Zc&4194240)&&(Zc=64),t}function up(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function oc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lr(e),t[e]=n}function zC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-lr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ny(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-lr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ze=0;function Xx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eE,ry,tE,nE,rE,wm=!1,Yc=[],Zs=null,Js=null,Ys=null,hu=new Map,fu=new Map,Ns=[],BC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function G0(t,e){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":hu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(e.pointerId)}}function wl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=lc(e),e!==null&&ry(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function $C(t,e,n,r,s){switch(e){case"focusin":return Zs=wl(Zs,t,e,n,r,s),!0;case"dragenter":return Js=wl(Js,t,e,n,r,s),!0;case"mouseover":return Ys=wl(Ys,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return hu.set(i,wl(hu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,fu.set(i,wl(fu.get(i)||null,t,e,n,r,s)),!0}return!1}function sE(t){var e=Oi(t.target);if(e!==null){var n=go(e);if(n!==null){if(e=n.tag,e===13){if(e=Wx(n),e!==null){t.blockedOn=e,rE(t.priority,function(){tE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _d(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mm=r,n.target.dispatchEvent(r),mm=null}else return e=lc(n),e!==null&&ry(e),t.blockedOn=n,!1;e.shift()}return!0}function Z0(t,e,n){_d(t)&&n.delete(e)}function qC(){wm=!1,Zs!==null&&_d(Zs)&&(Zs=null),Js!==null&&_d(Js)&&(Js=null),Ys!==null&&_d(Ys)&&(Ys=null),hu.forEach(Z0),fu.forEach(Z0)}function xl(t,e){t.blockedOn===e&&(t.blockedOn=null,wm||(wm=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,qC)))}function pu(t){function e(s){return xl(s,t)}if(0<Yc.length){xl(Yc[0],t);for(var n=1;n<Yc.length;n++){var r=Yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zs!==null&&xl(Zs,t),Js!==null&&xl(Js,t),Ys!==null&&xl(Ys,t),hu.forEach(e),fu.forEach(e),n=0;n<Ns.length;n++)r=Ns[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ns.length&&(n=Ns[0],n.blockedOn===null);)sE(n),n.blockedOn===null&&Ns.shift()}var ea=_s.ReactCurrentBatchConfig,Kd=!0;function HC(t,e,n,r){var s=ze,i=ea.transition;ea.transition=null;try{ze=1,sy(t,e,n,r)}finally{ze=s,ea.transition=i}}function WC(t,e,n,r){var s=ze,i=ea.transition;ea.transition=null;try{ze=4,sy(t,e,n,r)}finally{ze=s,ea.transition=i}}function sy(t,e,n,r){if(Kd){var s=xm(t,e,n,r);if(s===null)_p(t,e,r,Qd,n),G0(t,r);else if($C(s,t,e,n,r))r.stopPropagation();else if(G0(t,r),e&4&&-1<BC.indexOf(t)){for(;s!==null;){var i=lc(s);if(i!==null&&eE(i),i=xm(t,e,n,r),i===null&&_p(t,e,r,Qd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else _p(t,e,r,null,n)}}var Qd=null;function xm(t,e,n,r){if(Qd=null,t=ey(r),t=Oi(t),t!==null)if(e=go(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Wx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qd=t,null}function iE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jC()){case ty:return 1;case Zx:return 4;case Hd:case OC:return 16;case Jx:return 536870912;default:return 16}default:return 16}}var Ws=null,iy=null,wd=null;function oE(){if(wd)return wd;var t,e=iy,n=e.length,r,s="value"in Ws?Ws.value:Ws.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return wd=s.slice(t,1<r?1-r:void 0)}function xd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xc(){return!0}function J0(){return!1}function Fn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xc:J0,this.isPropagationStopped=J0,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),e}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oy=Fn($a),ac=st({},$a,{view:0,detail:0}),KC=Fn(ac),cp,dp,El,Zh=st({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ay,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==El&&(El&&t.type==="mousemove"?(cp=t.screenX-El.screenX,dp=t.screenY-El.screenY):dp=cp=0,El=t),cp)},movementY:function(t){return"movementY"in t?t.movementY:dp}}),Y0=Fn(Zh),QC=st({},Zh,{dataTransfer:0}),GC=Fn(QC),ZC=st({},ac,{relatedTarget:0}),hp=Fn(ZC),JC=st({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),YC=Fn(JC),XC=st({},$a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eA=Fn(XC),tA=st({},$a,{data:0}),X0=Fn(tA),nA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sA[t])?!!e[t]:!1}function ay(){return iA}var oA=st({},ac,{key:function(t){if(t.key){var e=nA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ay,charCode:function(t){return t.type==="keypress"?xd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aA=Fn(oA),lA=st({},Zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e_=Fn(lA),uA=st({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ay}),cA=Fn(uA),dA=st({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),hA=Fn(dA),fA=st({},Zh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pA=Fn(fA),mA=[9,13,27,32],ly=cs&&"CompositionEvent"in window,Kl=null;cs&&"documentMode"in document&&(Kl=document.documentMode);var gA=cs&&"TextEvent"in window&&!Kl,aE=cs&&(!ly||Kl&&8<Kl&&11>=Kl),t_=" ",n_=!1;function lE(t,e){switch(t){case"keyup":return mA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mo=!1;function yA(t,e){switch(t){case"compositionend":return uE(e);case"keypress":return e.which!==32?null:(n_=!0,t_);case"textInput":return t=e.data,t===t_&&n_?null:t;default:return null}}function vA(t,e){if(Mo)return t==="compositionend"||!ly&&lE(t,e)?(t=oE(),wd=iy=Ws=null,Mo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aE&&e.locale!=="ko"?null:e.data;default:return null}}var _A={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_A[t.type]:e==="textarea"}function cE(t,e,n,r){zx(r),e=Gd(e,"onChange"),0<e.length&&(n=new oy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ql=null,mu=null;function wA(t){xE(t,0)}function Jh(t){var e=Uo(t);if(Ox(e))return t}function xA(t,e){if(t==="change")return e}var dE=!1;if(cs){var fp;if(cs){var pp="oninput"in document;if(!pp){var s_=document.createElement("div");s_.setAttribute("oninput","return;"),pp=typeof s_.oninput=="function"}fp=pp}else fp=!1;dE=fp&&(!document.documentMode||9<document.documentMode)}function i_(){Ql&&(Ql.detachEvent("onpropertychange",hE),mu=Ql=null)}function hE(t){if(t.propertyName==="value"&&Jh(mu)){var e=[];cE(e,mu,t,ey(t)),Hx(wA,e)}}function EA(t,e,n){t==="focusin"?(i_(),Ql=e,mu=n,Ql.attachEvent("onpropertychange",hE)):t==="focusout"&&i_()}function TA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jh(mu)}function SA(t,e){if(t==="click")return Jh(e)}function bA(t,e){if(t==="input"||t==="change")return Jh(e)}function IA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hr=typeof Object.is=="function"?Object.is:IA;function gu(t,e){if(hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!rm.call(e,s)||!hr(t[s],e[s]))return!1}return!0}function o_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function a_(t,e){var n=o_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=o_(n)}}function fE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pE(){for(var t=window,e=Bd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bd(t.document)}return e}function uy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function CA(t){var e=pE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fE(n.ownerDocument.documentElement,n)){if(r!==null&&uy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=a_(n,i);var o=a_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AA=cs&&"documentMode"in document&&11>=document.documentMode,Vo=null,Em=null,Gl=null,Tm=!1;function l_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tm||Vo==null||Vo!==Bd(r)||(r=Vo,"selectionStart"in r&&uy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gl&&gu(Gl,r)||(Gl=r,r=Gd(Em,"onSelect"),0<r.length&&(e=new oy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vo)))}function ed(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fo={animationend:ed("Animation","AnimationEnd"),animationiteration:ed("Animation","AnimationIteration"),animationstart:ed("Animation","AnimationStart"),transitionend:ed("Transition","TransitionEnd")},mp={},mE={};cs&&(mE=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Yh(t){if(mp[t])return mp[t];if(!Fo[t])return t;var e=Fo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mE)return mp[t]=e[n];return t}var gE=Yh("animationend"),yE=Yh("animationiteration"),vE=Yh("animationstart"),_E=Yh("transitionend"),wE=new Map,u_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(t,e){wE.set(t,e),mo(e,[t])}for(var gp=0;gp<u_.length;gp++){var yp=u_[gp],RA=yp.toLowerCase(),kA=yp[0].toUpperCase()+yp.slice(1);_i(RA,"on"+kA)}_i(gE,"onAnimationEnd");_i(yE,"onAnimationIteration");_i(vE,"onAnimationStart");_i("dblclick","onDoubleClick");_i("focusin","onFocus");_i("focusout","onBlur");_i(_E,"onTransitionEnd");Ta("onMouseEnter",["mouseout","mouseover"]);Ta("onMouseLeave",["mouseout","mouseover"]);Ta("onPointerEnter",["pointerout","pointerover"]);Ta("onPointerLeave",["pointerout","pointerover"]);mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ol));function c_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RC(r,e,void 0,t),t.currentTarget=null}function xE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;c_(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;c_(s,a,c),i=u}}}if(qd)throw t=vm,qd=!1,vm=null,t}function Ge(t,e){var n=e[Am];n===void 0&&(n=e[Am]=new Set);var r=t+"__bubble";n.has(r)||(EE(e,t,2,!1),n.add(r))}function vp(t,e,n){var r=0;e&&(r|=4),EE(n,t,r,e)}var td="_reactListening"+Math.random().toString(36).slice(2);function yu(t){if(!t[td]){t[td]=!0,Rx.forEach(function(n){n!=="selectionchange"&&(PA.has(n)||vp(n,!1,t),vp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[td]||(e[td]=!0,vp("selectionchange",!1,e))}}function EE(t,e,n,r){switch(iE(e)){case 1:var s=HC;break;case 4:s=WC;break;default:s=sy}n=s.bind(null,e,n,t),s=void 0,!ym||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function _p(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Oi(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Hx(function(){var c=i,h=ey(n),m=[];e:{var p=wE.get(t);if(p!==void 0){var v=oy,y=t;switch(t){case"keypress":if(xd(n)===0)break e;case"keydown":case"keyup":v=aA;break;case"focusin":y="focus",v=hp;break;case"focusout":y="blur",v=hp;break;case"beforeblur":case"afterblur":v=hp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Y0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=GC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=cA;break;case gE:case yE:case vE:v=YC;break;case _E:v=hA;break;case"scroll":v=KC;break;case"wheel":v=pA;break;case"copy":case"cut":case"paste":v=eA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=e_}var b=(e&4)!==0,P=!b&&t==="scroll",E=b?p!==null?p+"Capture":null:p;b=[];for(var w=c,S;w!==null;){S=w;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,E!==null&&(D=du(w,E),D!=null&&b.push(vu(w,D,S)))),P)break;w=w.return}0<b.length&&(p=new v(p,y,null,n,h),m.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==mm&&(y=n.relatedTarget||n.fromElement)&&(Oi(y)||y[ds]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?Oi(y):null,y!==null&&(P=go(y),y!==P||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(b=Y0,D="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(b=e_,D="onPointerLeave",E="onPointerEnter",w="pointer"),P=v==null?p:Uo(v),S=y==null?p:Uo(y),p=new b(D,w+"leave",v,n,h),p.target=P,p.relatedTarget=S,D=null,Oi(h)===c&&(b=new b(E,w+"enter",y,n,h),b.target=S,b.relatedTarget=P,D=b),P=D,v&&y)t:{for(b=v,E=y,w=0,S=b;S;S=Ro(S))w++;for(S=0,D=E;D;D=Ro(D))S++;for(;0<w-S;)b=Ro(b),w--;for(;0<S-w;)E=Ro(E),S--;for(;w--;){if(b===E||E!==null&&b===E.alternate)break t;b=Ro(b),E=Ro(E)}b=null}else b=null;v!==null&&d_(m,p,v,b,!1),y!==null&&P!==null&&d_(m,P,y,b,!0)}}e:{if(p=c?Uo(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var V=xA;else if(r_(p))if(dE)V=bA;else{V=TA;var q=EA}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(V=SA);if(V&&(V=V(t,c))){cE(m,V,n,h);break e}q&&q(t,p,c),t==="focusout"&&(q=p._wrapperState)&&q.controlled&&p.type==="number"&&cm(p,"number",p.value)}switch(q=c?Uo(c):window,t){case"focusin":(r_(q)||q.contentEditable==="true")&&(Vo=q,Em=c,Gl=null);break;case"focusout":Gl=Em=Vo=null;break;case"mousedown":Tm=!0;break;case"contextmenu":case"mouseup":case"dragend":Tm=!1,l_(m,n,h);break;case"selectionchange":if(AA)break;case"keydown":case"keyup":l_(m,n,h)}var C;if(ly)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Mo?lE(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(aE&&n.locale!=="ko"&&(Mo||_!=="onCompositionStart"?_==="onCompositionEnd"&&Mo&&(C=oE()):(Ws=h,iy="value"in Ws?Ws.value:Ws.textContent,Mo=!0)),q=Gd(c,_),0<q.length&&(_=new X0(_,t,null,n,h),m.push({event:_,listeners:q}),C?_.data=C:(C=uE(n),C!==null&&(_.data=C)))),(C=gA?yA(t,n):vA(t,n))&&(c=Gd(c,"onBeforeInput"),0<c.length&&(h=new X0("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:c}),h.data=C))}xE(m,e)})}function vu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=du(t,n),i!=null&&r.unshift(vu(t,i,s)),i=du(t,e),i!=null&&r.push(vu(t,i,s))),t=t.return}return r}function Ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function d_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=du(n,i),u!=null&&o.unshift(vu(n,u,a))):s||(u=du(n,i),u!=null&&o.push(vu(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var NA=/\r\n?/g,jA=/\u0000|\uFFFD/g;function h_(t){return(typeof t=="string"?t:""+t).replace(NA,`
`).replace(jA,"")}function nd(t,e,n){if(e=h_(e),h_(t)!==e&&n)throw Error(G(425))}function Zd(){}var Sm=null,bm=null;function Im(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cm=typeof setTimeout=="function"?setTimeout:void 0,OA=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,DA=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(t){return f_.resolve(null).then(t).catch(LA)}:Cm;function LA(t){setTimeout(function(){throw t})}function wp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),pu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);pu(e)}function Xs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function p_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qa=Math.random().toString(36).slice(2),Ar="__reactFiber$"+qa,_u="__reactProps$"+qa,ds="__reactContainer$"+qa,Am="__reactEvents$"+qa,MA="__reactListeners$"+qa,VA="__reactHandles$"+qa;function Oi(t){var e=t[Ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ds]||n[Ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=p_(t);t!==null;){if(n=t[Ar])return n;t=p_(t)}return e}t=n,n=t.parentNode}return null}function lc(t){return t=t[Ar]||t[ds],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Xh(t){return t[_u]||null}var Rm=[],zo=-1;function wi(t){return{current:t}}function Je(t){0>zo||(t.current=Rm[zo],Rm[zo]=null,zo--)}function We(t,e){zo++,Rm[zo]=t.current,t.current=e}var ui={},nn=wi(ui),xn=wi(!1),Xi=ui;function Sa(t,e){var n=t.type.contextTypes;if(!n)return ui;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function En(t){return t=t.childContextTypes,t!=null}function Jd(){Je(xn),Je(nn)}function m_(t,e,n){if(nn.current!==ui)throw Error(G(168));We(nn,e),We(xn,n)}function TE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(G(108,EC(t)||"Unknown",s));return st({},n,r)}function Yd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ui,Xi=nn.current,We(nn,t),We(xn,xn.current),!0}function g_(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=TE(t,e,Xi),r.__reactInternalMemoizedMergedChildContext=t,Je(xn),Je(nn),We(nn,t)):Je(xn),We(xn,n)}var Xr=null,ef=!1,xp=!1;function SE(t){Xr===null?Xr=[t]:Xr.push(t)}function FA(t){ef=!0,SE(t)}function xi(){if(!xp&&Xr!==null){xp=!0;var t=0,e=ze;try{var n=Xr;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xr=null,ef=!1}catch(s){throw Xr!==null&&(Xr=Xr.slice(t+1)),Gx(ty,xi),s}finally{ze=e,xp=!1}}return null}var Bo=[],$o=0,Xd=null,eh=0,$n=[],qn=0,eo=null,es=1,ts="";function ki(t,e){Bo[$o++]=eh,Bo[$o++]=Xd,Xd=t,eh=e}function bE(t,e,n){$n[qn++]=es,$n[qn++]=ts,$n[qn++]=eo,eo=t;var r=es;t=ts;var s=32-lr(r)-1;r&=~(1<<s),n+=1;var i=32-lr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,es=1<<32-lr(e)+s|n<<s|r,ts=i+t}else es=1<<i|n<<s|r,ts=t}function cy(t){t.return!==null&&(ki(t,1),bE(t,1,0))}function dy(t){for(;t===Xd;)Xd=Bo[--$o],Bo[$o]=null,eh=Bo[--$o],Bo[$o]=null;for(;t===eo;)eo=$n[--qn],$n[qn]=null,ts=$n[--qn],$n[qn]=null,es=$n[--qn],$n[qn]=null}var On=null,jn=null,Xe=!1,nr=null;function IE(t,e){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function y_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,On=t,jn=Xs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,On=t,jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=eo!==null?{id:es,overflow:ts}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,On=t,jn=null,!0):!1;default:return!1}}function km(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pm(t){if(Xe){var e=jn;if(e){var n=e;if(!y_(t,e)){if(km(t))throw Error(G(418));e=Xs(n.nextSibling);var r=On;e&&y_(t,e)?IE(r,n):(t.flags=t.flags&-4097|2,Xe=!1,On=t)}}else{if(km(t))throw Error(G(418));t.flags=t.flags&-4097|2,Xe=!1,On=t}}}function v_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;On=t}function rd(t){if(t!==On)return!1;if(!Xe)return v_(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Im(t.type,t.memoizedProps)),e&&(e=jn)){if(km(t))throw CE(),Error(G(418));for(;e;)IE(t,e),e=Xs(e.nextSibling)}if(v_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jn=Xs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jn=null}}else jn=On?Xs(t.stateNode.nextSibling):null;return!0}function CE(){for(var t=jn;t;)t=Xs(t.nextSibling)}function ba(){jn=On=null,Xe=!1}function hy(t){nr===null?nr=[t]:nr.push(t)}var UA=_s.ReactCurrentBatchConfig;function Tl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function sd(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function __(t){var e=t._init;return e(t._payload)}function AE(t){function e(E,w){if(t){var S=E.deletions;S===null?(E.deletions=[w],E.flags|=16):S.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=ri(E,w),E.index=0,E.sibling=null,E}function i(E,w,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<w?(E.flags|=2,w):S):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,S,D){return w===null||w.tag!==6?(w=Ap(S,E.mode,D),w.return=E,w):(w=s(w,S),w.return=E,w)}function u(E,w,S,D){var V=S.type;return V===Lo?h(E,w,S.props.children,D,S.key):w!==null&&(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ks&&__(V)===w.type)?(D=s(w,S.props),D.ref=Tl(E,w,S),D.return=E,D):(D=Ad(S.type,S.key,S.props,null,E.mode,D),D.ref=Tl(E,w,S),D.return=E,D)}function c(E,w,S,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Rp(S,E.mode,D),w.return=E,w):(w=s(w,S.children||[]),w.return=E,w)}function h(E,w,S,D,V){return w===null||w.tag!==7?(w=Gi(S,E.mode,D,V),w.return=E,w):(w=s(w,S),w.return=E,w)}function m(E,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ap(""+w,E.mode,S),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kc:return S=Ad(w.type,w.key,w.props,null,E.mode,S),S.ref=Tl(E,null,w),S.return=E,S;case Do:return w=Rp(w,E.mode,S),w.return=E,w;case ks:var D=w._init;return m(E,D(w._payload),S)}if(Nl(w)||vl(w))return w=Gi(w,E.mode,S,null),w.return=E,w;sd(E,w)}return null}function p(E,w,S,D){var V=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return V!==null?null:a(E,w,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Kc:return S.key===V?u(E,w,S,D):null;case Do:return S.key===V?c(E,w,S,D):null;case ks:return V=S._init,p(E,w,V(S._payload),D)}if(Nl(S)||vl(S))return V!==null?null:h(E,w,S,D,null);sd(E,S)}return null}function v(E,w,S,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return E=E.get(S)||null,a(w,E,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Kc:return E=E.get(D.key===null?S:D.key)||null,u(w,E,D,V);case Do:return E=E.get(D.key===null?S:D.key)||null,c(w,E,D,V);case ks:var q=D._init;return v(E,w,S,q(D._payload),V)}if(Nl(D)||vl(D))return E=E.get(S)||null,h(w,E,D,V,null);sd(w,D)}return null}function y(E,w,S,D){for(var V=null,q=null,C=w,_=w=0,I=null;C!==null&&_<S.length;_++){C.index>_?(I=C,C=null):I=C.sibling;var R=p(E,C,S[_],D);if(R===null){C===null&&(C=I);break}t&&C&&R.alternate===null&&e(E,C),w=i(R,w,_),q===null?V=R:q.sibling=R,q=R,C=I}if(_===S.length)return n(E,C),Xe&&ki(E,_),V;if(C===null){for(;_<S.length;_++)C=m(E,S[_],D),C!==null&&(w=i(C,w,_),q===null?V=C:q.sibling=C,q=C);return Xe&&ki(E,_),V}for(C=r(E,C);_<S.length;_++)I=v(C,E,_,S[_],D),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?_:I.key),w=i(I,w,_),q===null?V=I:q.sibling=I,q=I);return t&&C.forEach(function(O){return e(E,O)}),Xe&&ki(E,_),V}function b(E,w,S,D){var V=vl(S);if(typeof V!="function")throw Error(G(150));if(S=V.call(S),S==null)throw Error(G(151));for(var q=V=null,C=w,_=w=0,I=null,R=S.next();C!==null&&!R.done;_++,R=S.next()){C.index>_?(I=C,C=null):I=C.sibling;var O=p(E,C,R.value,D);if(O===null){C===null&&(C=I);break}t&&C&&O.alternate===null&&e(E,C),w=i(O,w,_),q===null?V=O:q.sibling=O,q=O,C=I}if(R.done)return n(E,C),Xe&&ki(E,_),V;if(C===null){for(;!R.done;_++,R=S.next())R=m(E,R.value,D),R!==null&&(w=i(R,w,_),q===null?V=R:q.sibling=R,q=R);return Xe&&ki(E,_),V}for(C=r(E,C);!R.done;_++,R=S.next())R=v(C,E,_,R.value,D),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?_:R.key),w=i(R,w,_),q===null?V=R:q.sibling=R,q=R);return t&&C.forEach(function(j){return e(E,j)}),Xe&&ki(E,_),V}function P(E,w,S,D){if(typeof S=="object"&&S!==null&&S.type===Lo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Kc:e:{for(var V=S.key,q=w;q!==null;){if(q.key===V){if(V=S.type,V===Lo){if(q.tag===7){n(E,q.sibling),w=s(q,S.props.children),w.return=E,E=w;break e}}else if(q.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ks&&__(V)===q.type){n(E,q.sibling),w=s(q,S.props),w.ref=Tl(E,q,S),w.return=E,E=w;break e}n(E,q);break}else e(E,q);q=q.sibling}S.type===Lo?(w=Gi(S.props.children,E.mode,D,S.key),w.return=E,E=w):(D=Ad(S.type,S.key,S.props,null,E.mode,D),D.ref=Tl(E,w,S),D.return=E,E=D)}return o(E);case Do:e:{for(q=S.key;w!==null;){if(w.key===q)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(E,w.sibling),w=s(w,S.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=Rp(S,E.mode,D),w.return=E,E=w}return o(E);case ks:return q=S._init,P(E,w,q(S._payload),D)}if(Nl(S))return y(E,w,S,D);if(vl(S))return b(E,w,S,D);sd(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,S),w.return=E,E=w):(n(E,w),w=Ap(S,E.mode,D),w.return=E,E=w),o(E)):n(E,w)}return P}var Ia=AE(!0),RE=AE(!1),th=wi(null),nh=null,qo=null,fy=null;function py(){fy=qo=nh=null}function my(t){var e=th.current;Je(th),t._currentValue=e}function Nm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ta(t,e){nh=t,fy=qo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function Qn(t){var e=t._currentValue;if(fy!==t)if(t={context:t,memoizedValue:e,next:null},qo===null){if(nh===null)throw Error(G(308));qo=t,nh.dependencies={lanes:0,firstContext:t}}else qo=qo.next=t;return e}var Di=null;function gy(t){Di===null?Di=[t]:Di.push(t)}function kE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,gy(e)):(n.next=s.next,s.next=n),e.interleaved=n,hs(t,r)}function hs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ps=!1;function yy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function is(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,hs(t,n)}return s=r.interleaved,s===null?(e.next=e,gy(r)):(e.next=s.next,s.next=e),r.interleaved=e,hs(t,n)}function Ed(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ny(t,n)}}function w_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rh(t,e,n,r){var s=t.updateQueue;Ps=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(i!==null){var m=s.baseState;o=0,h=c=u=null,a=i;do{var p=a.lane,v=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,b=a;switch(p=e,v=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){m=y.call(v,m,p);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,p=typeof y=="function"?y.call(v,m,p):y,p==null)break e;m=st({},m,p);break e;case 2:Ps=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=v,u=m):h=h.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(u=m),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);no|=o,t.lanes=o,t.memoizedState=m}}function x_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var uc={},Nr=wi(uc),wu=wi(uc),xu=wi(uc);function Li(t){if(t===uc)throw Error(G(174));return t}function vy(t,e){switch(We(xu,e),We(wu,t),We(Nr,uc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hm(e,t)}Je(Nr),We(Nr,e)}function Ca(){Je(Nr),Je(wu),Je(xu)}function NE(t){Li(xu.current);var e=Li(Nr.current),n=hm(e,t.type);e!==n&&(We(wu,t),We(Nr,n))}function _y(t){wu.current===t&&(Je(Nr),Je(wu))}var nt=wi(0);function sh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ep=[];function wy(){for(var t=0;t<Ep.length;t++)Ep[t]._workInProgressVersionPrimary=null;Ep.length=0}var Td=_s.ReactCurrentDispatcher,Tp=_s.ReactCurrentBatchConfig,to=0,rt=null,Tt=null,At=null,ih=!1,Zl=!1,Eu=0,zA=0;function Gt(){throw Error(G(321))}function xy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hr(t[n],e[n]))return!1;return!0}function Ey(t,e,n,r,s,i){if(to=i,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Td.current=t===null||t.memoizedState===null?HA:WA,t=n(r,s),Zl){i=0;do{if(Zl=!1,Eu=0,25<=i)throw Error(G(301));i+=1,At=Tt=null,e.updateQueue=null,Td.current=KA,t=n(r,s)}while(Zl)}if(Td.current=oh,e=Tt!==null&&Tt.next!==null,to=0,At=Tt=rt=null,ih=!1,e)throw Error(G(300));return t}function Ty(){var t=Eu!==0;return Eu=0,t}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?rt.memoizedState=At=t:At=At.next=t,At}function Gn(){if(Tt===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=At===null?rt.memoizedState:At.next;if(e!==null)At=e,Tt=t;else{if(t===null)throw Error(G(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},At===null?rt.memoizedState=At=t:At=At.next=t}return At}function Tu(t,e){return typeof e=="function"?e(t):e}function Sp(t){var e=Gn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=Tt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var h=c.lane;if((to&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=m,o=r):u=u.next=m,rt.lanes|=h,no|=h}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,hr(r,e.memoizedState)||(wn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,rt.lanes|=i,no|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bp(t){var e=Gn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);hr(i,e.memoizedState)||(wn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function jE(){}function OE(t,e){var n=rt,r=Gn(),s=e(),i=!hr(r.memoizedState,s);if(i&&(r.memoizedState=s,wn=!0),r=r.queue,Sy(ME.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Su(9,LE.bind(null,n,r,s,e),void 0,null),Rt===null)throw Error(G(349));to&30||DE(n,e,s)}return s}function DE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LE(t,e,n,r){e.value=n,e.getSnapshot=r,VE(e)&&FE(t)}function ME(t,e,n){return n(function(){VE(e)&&FE(t)})}function VE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hr(t,n)}catch{return!0}}function FE(t){var e=hs(t,1);e!==null&&ur(e,t,1,-1)}function E_(t){var e=Tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tu,lastRenderedState:t},e.queue=t,t=t.dispatch=qA.bind(null,rt,t),[e.memoizedState,t]}function Su(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function UE(){return Gn().memoizedState}function Sd(t,e,n,r){var s=Tr();rt.flags|=t,s.memoizedState=Su(1|e,n,void 0,r===void 0?null:r)}function tf(t,e,n,r){var s=Gn();r=r===void 0?null:r;var i=void 0;if(Tt!==null){var o=Tt.memoizedState;if(i=o.destroy,r!==null&&xy(r,o.deps)){s.memoizedState=Su(e,n,i,r);return}}rt.flags|=t,s.memoizedState=Su(1|e,n,i,r)}function T_(t,e){return Sd(8390656,8,t,e)}function Sy(t,e){return tf(2048,8,t,e)}function zE(t,e){return tf(4,2,t,e)}function BE(t,e){return tf(4,4,t,e)}function $E(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qE(t,e,n){return n=n!=null?n.concat([t]):null,tf(4,4,$E.bind(null,e,t),n)}function by(){}function HE(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function WE(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function KE(t,e,n){return to&21?(hr(n,e)||(n=Yx(),rt.lanes|=n,no|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=n)}function BA(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=Tp.transition;Tp.transition={};try{t(!1),e()}finally{ze=n,Tp.transition=r}}function QE(){return Gn().memoizedState}function $A(t,e,n){var r=ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GE(t))ZE(e,n);else if(n=kE(t,e,n,r),n!==null){var s=hn();ur(n,t,r,s),JE(n,e,r)}}function qA(t,e,n){var r=ni(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GE(t))ZE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,hr(a,o)){var u=e.interleaved;u===null?(s.next=s,gy(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=kE(t,e,s,r),n!==null&&(s=hn(),ur(n,t,r,s),JE(n,e,r))}}function GE(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function ZE(t,e){Zl=ih=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function JE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ny(t,n)}}var oh={readContext:Qn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},HA={readContext:Qn,useCallback:function(t,e){return Tr().memoizedState=[t,e===void 0?null:e],t},useContext:Qn,useEffect:T_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sd(4194308,4,$E.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sd(4,2,t,e)},useMemo:function(t,e){var n=Tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$A.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=Tr();return t={current:t},e.memoizedState=t},useState:E_,useDebugValue:by,useDeferredValue:function(t){return Tr().memoizedState=t},useTransition:function(){var t=E_(!1),e=t[0];return t=BA.bind(null,t[1]),Tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,s=Tr();if(Xe){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),Rt===null)throw Error(G(349));to&30||DE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,T_(ME.bind(null,r,i,t),[t]),r.flags|=2048,Su(9,LE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Tr(),e=Rt.identifierPrefix;if(Xe){var n=ts,r=es;n=(r&~(1<<32-lr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Eu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WA={readContext:Qn,useCallback:HE,useContext:Qn,useEffect:Sy,useImperativeHandle:qE,useInsertionEffect:zE,useLayoutEffect:BE,useMemo:WE,useReducer:Sp,useRef:UE,useState:function(){return Sp(Tu)},useDebugValue:by,useDeferredValue:function(t){var e=Gn();return KE(e,Tt.memoizedState,t)},useTransition:function(){var t=Sp(Tu)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:jE,useSyncExternalStore:OE,useId:QE,unstable_isNewReconciler:!1},KA={readContext:Qn,useCallback:HE,useContext:Qn,useEffect:Sy,useImperativeHandle:qE,useInsertionEffect:zE,useLayoutEffect:BE,useMemo:WE,useReducer:bp,useRef:UE,useState:function(){return bp(Tu)},useDebugValue:by,useDeferredValue:function(t){var e=Gn();return Tt===null?e.memoizedState=t:KE(e,Tt.memoizedState,t)},useTransition:function(){var t=bp(Tu)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:jE,useSyncExternalStore:OE,useId:QE,unstable_isNewReconciler:!1};function Xn(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nf={isMounted:function(t){return(t=t._reactInternals)?go(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),s=ni(t),i=is(r,s);i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(ur(e,t,s,r),Ed(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),s=ni(t),i=is(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(ur(e,t,s,r),Ed(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=ni(t),s=is(n,r);s.tag=2,e!=null&&(s.callback=e),e=ei(t,s,r),e!==null&&(ur(e,t,r,n),Ed(e,t,r))}};function S_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!gu(n,r)||!gu(s,i):!0}function YE(t,e,n){var r=!1,s=ui,i=e.contextType;return typeof i=="object"&&i!==null?i=Qn(i):(s=En(e)?Xi:nn.current,r=e.contextTypes,i=(r=r!=null)?Sa(t,s):ui),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function b_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nf.enqueueReplaceState(e,e.state,null)}function Om(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},yy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Qn(i):(i=En(e)?Xi:nn.current,s.context=Sa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(jm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&nf.enqueueReplaceState(s,s.state,null),rh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Aa(t,e){try{var n="",r=e;do n+=xC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ip(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Dm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var QA=typeof WeakMap=="function"?WeakMap:Map;function XE(t,e,n){n=is(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lh||(lh=!0,Hm=r),Dm(t,e)},n}function e2(t,e,n){n=is(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Dm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Dm(t,e),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function I_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new QA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=lR.bind(null,t,e,n),e.then(t,t))}function C_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function A_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=is(-1,1),e.tag=2,ei(n,e,1))),n.lanes|=1),t)}var GA=_s.ReactCurrentOwner,wn=!1;function cn(t,e,n,r){e.child=t===null?RE(e,null,n,r):Ia(e,t.child,n,r)}function R_(t,e,n,r,s){n=n.render;var i=e.ref;return ta(e,s),r=Ey(t,e,n,r,i,s),n=Ty(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fs(t,e,s)):(Xe&&n&&cy(e),e.flags|=1,cn(t,e,r,s),e.child)}function k_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!jy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,t2(t,e,i,r,s)):(t=Ad(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:gu,n(o,r)&&t.ref===e.ref)return fs(t,e,s)}return e.flags|=1,t=ri(i,r),t.ref=e.ref,t.return=e,e.child=t}function t2(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(gu(i,r)&&t.ref===e.ref)if(wn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,fs(t,e,s)}return Lm(t,e,n,r,s)}function n2(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Wo,Nn),Nn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(Wo,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,We(Wo,Nn),Nn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,We(Wo,Nn),Nn|=r;return cn(t,e,s,n),e.child}function r2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lm(t,e,n,r,s){var i=En(n)?Xi:nn.current;return i=Sa(e,i),ta(e,s),n=Ey(t,e,n,r,i,s),r=Ty(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fs(t,e,s)):(Xe&&r&&cy(e),e.flags|=1,cn(t,e,n,s),e.child)}function P_(t,e,n,r,s){if(En(n)){var i=!0;Yd(e)}else i=!1;if(ta(e,s),e.stateNode===null)bd(t,e),YE(e,n,r),Om(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qn(c):(c=En(n)?Xi:nn.current,c=Sa(e,c));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&b_(e,o,r,c),Ps=!1;var p=e.memoizedState;o.state=p,rh(e,r,o,s),u=e.memoizedState,a!==r||p!==u||xn.current||Ps?(typeof h=="function"&&(jm(e,n,h,r),u=e.memoizedState),(a=Ps||S_(e,n,a,r,p,u,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,PE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Xn(e.type,a),o.props=c,m=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Qn(u):(u=En(n)?Xi:nn.current,u=Sa(e,u));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||p!==u)&&b_(e,o,r,u),Ps=!1,p=e.memoizedState,o.state=p,rh(e,r,o,s);var y=e.memoizedState;a!==m||p!==y||xn.current||Ps?(typeof v=="function"&&(jm(e,n,v,r),y=e.memoizedState),(c=Ps||S_(e,n,c,r,p,y,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Mm(t,e,n,r,i,s)}function Mm(t,e,n,r,s,i){r2(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&g_(e,n,!1),fs(t,e,i);r=e.stateNode,GA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ia(e,t.child,null,i),e.child=Ia(e,null,a,i)):cn(t,e,a,i),e.memoizedState=r.state,s&&g_(e,n,!0),e.child}function s2(t){var e=t.stateNode;e.pendingContext?m_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&m_(t,e.context,!1),vy(t,e.containerInfo)}function N_(t,e,n,r,s){return ba(),hy(s),e.flags|=256,cn(t,e,n,r),e.child}var Vm={dehydrated:null,treeContext:null,retryLane:0};function Fm(t){return{baseLanes:t,cachePool:null,transitions:null}}function i2(t,e,n){var r=e.pendingProps,s=nt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),We(nt,s&1),t===null)return Pm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=of(o,r,0,null),t=Gi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Fm(n),e.memoizedState=Vm,t):Iy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ZA(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ri(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ri(a,i):(i=Gi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Fm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Vm,r}return i=t.child,t=i.sibling,r=ri(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Iy(t,e){return e=of({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function id(t,e,n,r){return r!==null&&hy(r),Ia(e,t.child,null,n),t=Iy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZA(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ip(Error(G(422))),id(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=of({mode:"visible",children:r.children},s,0,null),i=Gi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ia(e,t.child,null,o),e.child.memoizedState=Fm(o),e.memoizedState=Vm,i);if(!(e.mode&1))return id(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(G(419)),r=Ip(i,r,void 0),id(t,e,o,r)}if(a=(o&t.childLanes)!==0,wn||a){if(r=Rt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hs(t,s),ur(r,t,s,-1))}return Ny(),r=Ip(Error(G(421))),id(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=uR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,jn=Xs(s.nextSibling),On=e,Xe=!0,nr=null,t!==null&&($n[qn++]=es,$n[qn++]=ts,$n[qn++]=eo,es=t.id,ts=t.overflow,eo=e),e=Iy(e,r.children),e.flags|=4096,e)}function j_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nm(t.return,e,n)}function Cp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function o2(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(cn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&j_(t,n,e);else if(t.tag===19)j_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&sh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Cp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&sh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Cp(e,!0,n,null,i);break;case"together":Cp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),no|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JA(t,e,n){switch(e.tag){case 3:s2(e),ba();break;case 5:NE(e);break;case 1:En(e.type)&&Yd(e);break;case 4:vy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;We(th,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?i2(t,e,n):(We(nt,nt.current&1),t=fs(t,e,n),t!==null?t.sibling:null);We(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return o2(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,n2(t,e,n)}return fs(t,e,n)}var a2,Um,l2,u2;a2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Um=function(){};l2=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Li(Nr.current);var i=null;switch(n){case"input":s=lm(t,s),r=lm(t,r),i=[];break;case"select":s=st({},s,{value:void 0}),r=st({},r,{value:void 0}),i=[];break;case"textarea":s=dm(t,s),r=dm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zd)}fm(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(uu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(uu.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ge("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};u2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sl(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function YA(t,e,n){var r=e.pendingProps;switch(dy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return En(e.type)&&Jd(),Zt(e),null;case 3:return r=e.stateNode,Ca(),Je(xn),Je(nn),wy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nr!==null&&(Qm(nr),nr=null))),Um(t,e),Zt(e),null;case 5:_y(e);var s=Li(xu.current);if(n=e.type,t!==null&&e.stateNode!=null)l2(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Zt(e),null}if(t=Li(Nr.current),rd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ar]=e,r[_u]=i,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(s=0;s<Ol.length;s++)Ge(Ol[s],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":B0(r,i),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",r);break;case"textarea":q0(r,i),Ge("invalid",r)}fm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&nd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&nd(r.textContent,a,t),s=["children",""+a]):uu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":Qc(r),$0(r,i,!0);break;case"textarea":Qc(r),H0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Zd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Mx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ar]=e,t[_u]=r,a2(t,e,!1,!1),e.stateNode=t;e:{switch(o=pm(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),s=r;break;case"iframe":case"object":case"embed":Ge("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ol.length;s++)Ge(Ol[s],t);s=r;break;case"source":Ge("error",t),s=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),s=r;break;case"details":Ge("toggle",t),s=r;break;case"input":B0(t,r),s=lm(t,r),Ge("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=st({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":q0(t,r),s=dm(t,r),Ge("invalid",t);break;default:s=r}fm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Ux(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Vx(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&cu(t,u):typeof u=="number"&&cu(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(uu.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Ge("scroll",t):u!=null&&Zg(t,i,u,o))}switch(n){case"input":Qc(t),$0(t,r,!1);break;case"textarea":Qc(t),H0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+li(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Jo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Jo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Zd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)u2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Li(xu.current),Li(Nr.current),rd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ar]=e,(i=r.nodeValue!==n)&&(t=On,t!==null))switch(t.tag){case 3:nd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ar]=e,e.stateNode=r}return Zt(e),null;case 13:if(Je(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&jn!==null&&e.mode&1&&!(e.flags&128))CE(),ba(),e.flags|=98560,i=!1;else if(i=rd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Ar]=e}else ba(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),i=!1}else nr!==null&&(Qm(nr),nr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?St===0&&(St=3):Ny())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return Ca(),Um(t,e),t===null&&yu(e.stateNode.containerInfo),Zt(e),null;case 10:return my(e.type._context),Zt(e),null;case 17:return En(e.type)&&Jd(),Zt(e),null;case 19:if(Je(nt),i=e.memoizedState,i===null)return Zt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Sl(i,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sh(t),o!==null){for(e.flags|=128,Sl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(nt,nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ft()>Ra&&(e.flags|=128,r=!0,Sl(i,!1),e.lanes=4194304)}else{if(!r)if(t=sh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Xe)return Zt(e),null}else 2*ft()-i.renderingStartTime>Ra&&n!==1073741824&&(e.flags|=128,r=!0,Sl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ft(),e.sibling=null,n=nt.current,We(nt,r?n&1|2:n&1),e):(Zt(e),null);case 22:case 23:return Py(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function XA(t,e){switch(dy(e),e.tag){case 1:return En(e.type)&&Jd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ca(),Je(xn),Je(nn),wy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _y(e),null;case 13:if(Je(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));ba()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(nt),null;case 4:return Ca(),null;case 10:return my(e.type._context),null;case 22:case 23:return Py(),null;case 24:return null;default:return null}}var od=!1,en=!1,eR=typeof WeakSet=="function"?WeakSet:Set,re=null;function Ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function zm(t,e,n){try{n()}catch(r){lt(t,e,r)}}var O_=!1;function tR(t,e){if(Sm=Kd,t=pE(),uy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,m=t,p=null;t:for(;;){for(var v;m!==n||s!==0&&m.nodeType!==3||(a=o+s),m!==i||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(v=m.firstChild)!==null;)p=m,m=v;for(;;){if(m===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++h===r&&(u=o),(v=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(bm={focusedElem:t,selectionRange:n},Kd=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,P=y.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?b:Xn(e.type,b),P);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(D){lt(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return y=O_,O_=!1,y}function Jl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&zm(e,n,i)}s=s.next}while(s!==r)}}function rf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Bm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function c2(t){var e=t.alternate;e!==null&&(t.alternate=null,c2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ar],delete e[_u],delete e[Am],delete e[MA],delete e[VA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function d2(t){return t.tag===5||t.tag===3||t.tag===4}function D_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $m(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zd));else if(r!==4&&(t=t.child,t!==null))for($m(t,e,n),t=t.sibling;t!==null;)$m(t,e,n),t=t.sibling}function qm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qm(t,e,n),t=t.sibling;t!==null;)qm(t,e,n),t=t.sibling}var Ot=null,tr=!1;function Is(t,e,n){for(n=n.child;n!==null;)h2(t,e,n),n=n.sibling}function h2(t,e,n){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(Gh,n)}catch{}switch(n.tag){case 5:en||Ho(n,e);case 6:var r=Ot,s=tr;Ot=null,Is(t,e,n),Ot=r,tr=s,Ot!==null&&(tr?(t=Ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(tr?(t=Ot,n=n.stateNode,t.nodeType===8?wp(t.parentNode,n):t.nodeType===1&&wp(t,n),pu(t)):wp(Ot,n.stateNode));break;case 4:r=Ot,s=tr,Ot=n.stateNode.containerInfo,tr=!0,Is(t,e,n),Ot=r,tr=s;break;case 0:case 11:case 14:case 15:if(!en&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&zm(n,e,o),s=s.next}while(s!==r)}Is(t,e,n);break;case 1:if(!en&&(Ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){lt(n,e,a)}Is(t,e,n);break;case 21:Is(t,e,n);break;case 22:n.mode&1?(en=(r=en)||n.memoizedState!==null,Is(t,e,n),en=r):Is(t,e,n);break;default:Is(t,e,n)}}function L_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eR),e.forEach(function(r){var s=cR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ot=a.stateNode,tr=!1;break e;case 3:Ot=a.stateNode.containerInfo,tr=!0;break e;case 4:Ot=a.stateNode.containerInfo,tr=!0;break e}a=a.return}if(Ot===null)throw Error(G(160));h2(i,o,s),Ot=null,tr=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){lt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)f2(e,t),e=e.sibling}function f2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yn(e,t),Er(t),r&4){try{Jl(3,t,t.return),rf(3,t)}catch(b){lt(t,t.return,b)}try{Jl(5,t,t.return)}catch(b){lt(t,t.return,b)}}break;case 1:Yn(e,t),Er(t),r&512&&n!==null&&Ho(n,n.return);break;case 5:if(Yn(e,t),Er(t),r&512&&n!==null&&Ho(n,n.return),t.flags&32){var s=t.stateNode;try{cu(s,"")}catch(b){lt(t,t.return,b)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Dx(s,i),pm(a,o);var c=pm(a,i);for(o=0;o<u.length;o+=2){var h=u[o],m=u[o+1];h==="style"?Ux(s,m):h==="dangerouslySetInnerHTML"?Vx(s,m):h==="children"?cu(s,m):Zg(s,h,m,c)}switch(a){case"input":um(s,i);break;case"textarea":Lx(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Jo(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Jo(s,!!i.multiple,i.defaultValue,!0):Jo(s,!!i.multiple,i.multiple?[]:"",!1))}s[_u]=i}catch(b){lt(t,t.return,b)}}break;case 6:if(Yn(e,t),Er(t),r&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(b){lt(t,t.return,b)}}break;case 3:if(Yn(e,t),Er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pu(e.containerInfo)}catch(b){lt(t,t.return,b)}break;case 4:Yn(e,t),Er(t);break;case 13:Yn(e,t),Er(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ry=ft())),r&4&&L_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(en=(c=en)||h,Yn(e,t),en=c):Yn(e,t),Er(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(re=t,h=t.child;h!==null;){for(m=re=h;re!==null;){switch(p=re,v=p.child,p.tag){case 0:case 11:case 14:case 15:Jl(4,p,p.return);break;case 1:Ho(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(b){lt(r,n,b)}}break;case 5:Ho(p,p.return);break;case 22:if(p.memoizedState!==null){V_(m);continue}}v!==null?(v.return=p,re=v):V_(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{s=m.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Fx("display",o))}catch(b){lt(t,t.return,b)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(b){lt(t,t.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Yn(e,t),Er(t),r&4&&L_(t);break;case 21:break;default:Yn(e,t),Er(t)}}function Er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(d2(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(cu(s,""),r.flags&=-33);var i=D_(t);qm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=D_(t);$m(t,a,o);break;default:throw Error(G(161))}}catch(u){lt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nR(t,e,n){re=t,p2(t)}function p2(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||od;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||en;a=od;var c=en;if(od=o,(en=u)&&!c)for(re=s;re!==null;)o=re,u=o.child,o.tag===22&&o.memoizedState!==null?F_(s):u!==null?(u.return=o,re=u):F_(s);for(;i!==null;)re=i,p2(i),i=i.sibling;re=s,od=a,en=c}M_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):M_(t)}}function M_(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||rf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!en)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Xn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&x_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}x_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&pu(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}en||e.flags&512&&Bm(e)}catch(p){lt(e,e.return,p)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function V_(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function F_(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rf(4,e)}catch(u){lt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){lt(e,s,u)}}var i=e.return;try{Bm(e)}catch(u){lt(e,i,u)}break;case 5:var o=e.return;try{Bm(e)}catch(u){lt(e,o,u)}}}catch(u){lt(e,e.return,u)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var rR=Math.ceil,ah=_s.ReactCurrentDispatcher,Cy=_s.ReactCurrentOwner,Kn=_s.ReactCurrentBatchConfig,je=0,Rt=null,mt=null,Ft=0,Nn=0,Wo=wi(0),St=0,bu=null,no=0,sf=0,Ay=0,Yl=null,_n=null,Ry=0,Ra=1/0,Yr=null,lh=!1,Hm=null,ti=null,ad=!1,Ks=null,uh=0,Xl=0,Wm=null,Id=-1,Cd=0;function hn(){return je&6?ft():Id!==-1?Id:Id=ft()}function ni(t){return t.mode&1?je&2&&Ft!==0?Ft&-Ft:UA.transition!==null?(Cd===0&&(Cd=Yx()),Cd):(t=ze,t!==0||(t=window.event,t=t===void 0?16:iE(t.type)),t):1}function ur(t,e,n,r){if(50<Xl)throw Xl=0,Wm=null,Error(G(185));oc(t,n,r),(!(je&2)||t!==Rt)&&(t===Rt&&(!(je&2)&&(sf|=n),St===4&&js(t,Ft)),Tn(t,r),n===1&&je===0&&!(e.mode&1)&&(Ra=ft()+500,ef&&xi()))}function Tn(t,e){var n=t.callbackNode;UC(t,e);var r=Wd(t,t===Rt?Ft:0);if(r===0)n!==null&&Q0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Q0(n),e===1)t.tag===0?FA(U_.bind(null,t)):SE(U_.bind(null,t)),DA(function(){!(je&6)&&xi()}),n=null;else{switch(Xx(r)){case 1:n=ty;break;case 4:n=Zx;break;case 16:n=Hd;break;case 536870912:n=Jx;break;default:n=Hd}n=E2(n,m2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function m2(t,e){if(Id=-1,Cd=0,je&6)throw Error(G(327));var n=t.callbackNode;if(na()&&t.callbackNode!==n)return null;var r=Wd(t,t===Rt?Ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ch(t,r);else{e=r;var s=je;je|=2;var i=y2();(Rt!==t||Ft!==e)&&(Yr=null,Ra=ft()+500,Qi(t,e));do try{oR();break}catch(a){g2(t,a)}while(!0);py(),ah.current=i,je=s,mt!==null?e=0:(Rt=null,Ft=0,e=St)}if(e!==0){if(e===2&&(s=_m(t),s!==0&&(r=s,e=Km(t,s))),e===1)throw n=bu,Qi(t,0),js(t,r),Tn(t,ft()),n;if(e===6)js(t,r);else{if(s=t.current.alternate,!(r&30)&&!sR(s)&&(e=ch(t,r),e===2&&(i=_m(t),i!==0&&(r=i,e=Km(t,i))),e===1))throw n=bu,Qi(t,0),js(t,r),Tn(t,ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:Pi(t,_n,Yr);break;case 3:if(js(t,r),(r&130023424)===r&&(e=Ry+500-ft(),10<e)){if(Wd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Cm(Pi.bind(null,t,_n,Yr),e);break}Pi(t,_n,Yr);break;case 4:if(js(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-lr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rR(r/1960))-r,10<r){t.timeoutHandle=Cm(Pi.bind(null,t,_n,Yr),r);break}Pi(t,_n,Yr);break;case 5:Pi(t,_n,Yr);break;default:throw Error(G(329))}}}return Tn(t,ft()),t.callbackNode===n?m2.bind(null,t):null}function Km(t,e){var n=Yl;return t.current.memoizedState.isDehydrated&&(Qi(t,e).flags|=256),t=ch(t,e),t!==2&&(e=_n,_n=n,e!==null&&Qm(e)),t}function Qm(t){_n===null?_n=t:_n.push.apply(_n,t)}function sR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!hr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function js(t,e){for(e&=~Ay,e&=~sf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-lr(e),r=1<<n;t[n]=-1,e&=~r}}function U_(t){if(je&6)throw Error(G(327));na();var e=Wd(t,0);if(!(e&1))return Tn(t,ft()),null;var n=ch(t,e);if(t.tag!==0&&n===2){var r=_m(t);r!==0&&(e=r,n=Km(t,r))}if(n===1)throw n=bu,Qi(t,0),js(t,e),Tn(t,ft()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pi(t,_n,Yr),Tn(t,ft()),null}function ky(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(Ra=ft()+500,ef&&xi())}}function ro(t){Ks!==null&&Ks.tag===0&&!(je&6)&&na();var e=je;je|=1;var n=Kn.transition,r=ze;try{if(Kn.transition=null,ze=1,t)return t()}finally{ze=r,Kn.transition=n,je=e,!(je&6)&&xi()}}function Py(){Nn=Wo.current,Je(Wo)}function Qi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OA(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(dy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jd();break;case 3:Ca(),Je(xn),Je(nn),wy();break;case 5:_y(r);break;case 4:Ca();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:my(r.type._context);break;case 22:case 23:Py()}n=n.return}if(Rt=t,mt=t=ri(t.current,null),Ft=Nn=e,St=0,bu=null,Ay=sf=no=0,_n=Yl=null,Di!==null){for(e=0;e<Di.length;e++)if(n=Di[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Di=null}return t}function g2(t,e){do{var n=mt;try{if(py(),Td.current=oh,ih){for(var r=rt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ih=!1}if(to=0,At=Tt=rt=null,Zl=!1,Eu=0,Cy.current=null,n===null||n.return===null){St=1,bu=e,mt=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=Ft,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=C_(o);if(v!==null){v.flags&=-257,A_(v,o,a,i,e),v.mode&1&&I_(i,c,e),e=v,u=c;var y=e.updateQueue;if(y===null){var b=new Set;b.add(u),e.updateQueue=b}else y.add(u);break e}else{if(!(e&1)){I_(i,c,e),Ny();break e}u=Error(G(426))}}else if(Xe&&a.mode&1){var P=C_(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),A_(P,o,a,i,e),hy(Aa(u,a));break e}}i=u=Aa(u,a),St!==4&&(St=2),Yl===null?Yl=[i]:Yl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=XE(i,u,e);w_(i,E);break e;case 1:a=u;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ti===null||!ti.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=e2(i,a,e);w_(i,D);break e}}i=i.return}while(i!==null)}_2(n)}catch(V){e=V,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function y2(){var t=ah.current;return ah.current=oh,t===null?oh:t}function Ny(){(St===0||St===3||St===2)&&(St=4),Rt===null||!(no&268435455)&&!(sf&268435455)||js(Rt,Ft)}function ch(t,e){var n=je;je|=2;var r=y2();(Rt!==t||Ft!==e)&&(Yr=null,Qi(t,e));do try{iR();break}catch(s){g2(t,s)}while(!0);if(py(),je=n,ah.current=r,mt!==null)throw Error(G(261));return Rt=null,Ft=0,St}function iR(){for(;mt!==null;)v2(mt)}function oR(){for(;mt!==null&&!PC();)v2(mt)}function v2(t){var e=x2(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?_2(t):mt=e,Cy.current=null}function _2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XA(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,mt=null;return}}else if(n=YA(n,e,Nn),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);St===0&&(St=5)}function Pi(t,e,n){var r=ze,s=Kn.transition;try{Kn.transition=null,ze=1,aR(t,e,n,r)}finally{Kn.transition=s,ze=r}return null}function aR(t,e,n,r){do na();while(Ks!==null);if(je&6)throw Error(G(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(zC(t,i),t===Rt&&(mt=Rt=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ad||(ad=!0,E2(Hd,function(){return na(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Kn.transition,Kn.transition=null;var o=ze;ze=1;var a=je;je|=4,Cy.current=null,tR(t,n),f2(n,t),CA(bm),Kd=!!Sm,bm=Sm=null,t.current=n,nR(n),NC(),je=a,ze=o,Kn.transition=i}else t.current=n;if(ad&&(ad=!1,Ks=t,uh=s),i=t.pendingLanes,i===0&&(ti=null),DC(n.stateNode),Tn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(lh)throw lh=!1,t=Hm,Hm=null,t;return uh&1&&t.tag!==0&&na(),i=t.pendingLanes,i&1?t===Wm?Xl++:(Xl=0,Wm=t):Xl=0,xi(),null}function na(){if(Ks!==null){var t=Xx(uh),e=Kn.transition,n=ze;try{if(Kn.transition=null,ze=16>t?16:t,Ks===null)var r=!1;else{if(t=Ks,Ks=null,uh=0,je&6)throw Error(G(331));var s=je;for(je|=4,re=t.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(re=c;re!==null;){var h=re;switch(h.tag){case 0:case 11:case 15:Jl(8,h,i)}var m=h.child;if(m!==null)m.return=h,re=m;else for(;re!==null;){h=re;var p=h.sibling,v=h.return;if(c2(h),h===c){re=null;break}if(p!==null){p.return=v,re=p;break}re=v}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var P=b.sibling;b.sibling=null,b=P}while(b!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jl(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,re=E;break e}re=i.return}}var w=t.current;for(re=w;re!==null;){o=re;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,re=S;else e:for(o=w;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rf(9,a)}}catch(V){lt(a,a.return,V)}if(a===o){re=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,re=D;break e}re=a.return}}if(je=s,xi(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(Gh,t)}catch{}r=!0}return r}finally{ze=n,Kn.transition=e}}return!1}function z_(t,e,n){e=Aa(n,e),e=XE(t,e,1),t=ei(t,e,1),e=hn(),t!==null&&(oc(t,1,e),Tn(t,e))}function lt(t,e,n){if(t.tag===3)z_(t,t,n);else for(;e!==null;){if(e.tag===3){z_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){t=Aa(n,t),t=e2(e,t,1),e=ei(e,t,1),t=hn(),e!==null&&(oc(e,1,t),Tn(e,t));break}}e=e.return}}function lR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Ft&n)===n&&(St===4||St===3&&(Ft&130023424)===Ft&&500>ft()-Ry?Qi(t,0):Ay|=n),Tn(t,e)}function w2(t,e){e===0&&(t.mode&1?(e=Jc,Jc<<=1,!(Jc&130023424)&&(Jc=4194304)):e=1);var n=hn();t=hs(t,e),t!==null&&(oc(t,e,n),Tn(t,n))}function uR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),w2(t,n)}function cR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),w2(t,n)}var x2;x2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xn.current)wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wn=!1,JA(t,e,n);wn=!!(t.flags&131072)}else wn=!1,Xe&&e.flags&1048576&&bE(e,eh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bd(t,e),t=e.pendingProps;var s=Sa(e,nn.current);ta(e,n),s=Ey(null,e,r,t,s,n);var i=Ty();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(r)?(i=!0,Yd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yy(e),s.updater=nf,e.stateNode=s,s._reactInternals=e,Om(e,r,t,n),e=Mm(null,e,r,!0,i,n)):(e.tag=0,Xe&&i&&cy(e),cn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=hR(r),t=Xn(r,t),s){case 0:e=Lm(null,e,r,t,n);break e;case 1:e=P_(null,e,r,t,n);break e;case 11:e=R_(null,e,r,t,n);break e;case 14:e=k_(null,e,r,Xn(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),Lm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),P_(t,e,r,s,n);case 3:e:{if(s2(e),t===null)throw Error(G(387));r=e.pendingProps,i=e.memoizedState,s=i.element,PE(t,e),rh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Aa(Error(G(423)),e),e=N_(t,e,r,n,s);break e}else if(r!==s){s=Aa(Error(G(424)),e),e=N_(t,e,r,n,s);break e}else for(jn=Xs(e.stateNode.containerInfo.firstChild),On=e,Xe=!0,nr=null,n=RE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ba(),r===s){e=fs(t,e,n);break e}cn(t,e,r,n)}e=e.child}return e;case 5:return NE(e),t===null&&Pm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Im(r,s)?o=null:i!==null&&Im(r,i)&&(e.flags|=32),r2(t,e),cn(t,e,o,n),e.child;case 6:return t===null&&Pm(e),null;case 13:return i2(t,e,n);case 4:return vy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ia(e,null,r,n):cn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),R_(t,e,r,s,n);case 7:return cn(t,e,e.pendingProps,n),e.child;case 8:return cn(t,e,e.pendingProps.children,n),e.child;case 12:return cn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,We(th,r._currentValue),r._currentValue=o,i!==null)if(hr(i.value,o)){if(i.children===s.children&&!xn.current){e=fs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=is(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Nm(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Nm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}cn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ta(e,n),s=Qn(s),r=r(s),e.flags|=1,cn(t,e,r,n),e.child;case 14:return r=e.type,s=Xn(r,e.pendingProps),s=Xn(r.type,s),k_(t,e,r,s,n);case 15:return t2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),bd(t,e),e.tag=1,En(r)?(t=!0,Yd(e)):t=!1,ta(e,n),YE(e,r,s),Om(e,r,s,n),Mm(null,e,r,!0,t,n);case 19:return o2(t,e,n);case 22:return n2(t,e,n)}throw Error(G(156,e.tag))};function E2(t,e){return Gx(t,e)}function dR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(t,e,n,r){return new dR(t,e,n,r)}function jy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hR(t){if(typeof t=="function")return jy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yg)return 11;if(t===Xg)return 14}return 2}function ri(t,e){var n=t.alternate;return n===null?(n=Wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ad(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")jy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Lo:return Gi(n.children,s,i,e);case Jg:o=8,s|=8;break;case sm:return t=Wn(12,n,e,s|2),t.elementType=sm,t.lanes=i,t;case im:return t=Wn(13,n,e,s),t.elementType=im,t.lanes=i,t;case om:return t=Wn(19,n,e,s),t.elementType=om,t.lanes=i,t;case Nx:return of(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kx:o=10;break e;case Px:o=9;break e;case Yg:o=11;break e;case Xg:o=14;break e;case ks:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=Wn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Gi(t,e,n,r){return t=Wn(7,t,r,e),t.lanes=n,t}function of(t,e,n,r){return t=Wn(22,t,r,e),t.elementType=Nx,t.lanes=n,t.stateNode={isHidden:!1},t}function Ap(t,e,n){return t=Wn(6,t,null,e),t.lanes=n,t}function Rp(t,e,n){return e=Wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=up(0),this.expirationTimes=up(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=up(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Oy(t,e,n,r,s,i,o,a,u){return t=new fR(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Wn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yy(i),t}function pR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function T2(t){if(!t)return ui;t=t._reactInternals;e:{if(go(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(En(n))return TE(t,n,e)}return e}function S2(t,e,n,r,s,i,o,a,u){return t=Oy(n,r,!0,t,s,i,o,a,u),t.context=T2(null),n=t.current,r=hn(),s=ni(n),i=is(r,s),i.callback=e??null,ei(n,i,s),t.current.lanes=s,oc(t,s,r),Tn(t,r),t}function af(t,e,n,r){var s=e.current,i=hn(),o=ni(s);return n=T2(n),e.context===null?e.context=n:e.pendingContext=n,e=is(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ei(s,e,o),t!==null&&(ur(t,s,o,i),Ed(t,s,o)),o}function dh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function B_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dy(t,e){B_(t,e),(t=t.alternate)&&B_(t,e)}function mR(){return null}var b2=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ly(t){this._internalRoot=t}lf.prototype.render=Ly.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));af(t,e,null,null)};lf.prototype.unmount=Ly.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ro(function(){af(null,t,null,null)}),e[ds]=null}};function lf(t){this._internalRoot=t}lf.prototype.unstable_scheduleHydration=function(t){if(t){var e=nE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ns.length&&e!==0&&e<Ns[n].priority;n++);Ns.splice(n,0,t),n===0&&sE(t)}};function My(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $_(){}function gR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=dh(o);i.call(c)}}var o=S2(e,r,t,0,null,!1,!1,"",$_);return t._reactRootContainer=o,t[ds]=o.current,yu(t.nodeType===8?t.parentNode:t),ro(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=dh(u);a.call(c)}}var u=Oy(t,0,!1,null,null,!1,!1,"",$_);return t._reactRootContainer=u,t[ds]=u.current,yu(t.nodeType===8?t.parentNode:t),ro(function(){af(e,u,n,r)}),u}function cf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=dh(o);a.call(u)}}af(e,o,t,s)}else o=gR(n,e,t,s,r);return dh(o)}eE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=jl(e.pendingLanes);n!==0&&(ny(e,n|1),Tn(e,ft()),!(je&6)&&(Ra=ft()+500,xi()))}break;case 13:ro(function(){var r=hs(t,1);if(r!==null){var s=hn();ur(r,t,1,s)}}),Dy(t,1)}};ry=function(t){if(t.tag===13){var e=hs(t,134217728);if(e!==null){var n=hn();ur(e,t,134217728,n)}Dy(t,134217728)}};tE=function(t){if(t.tag===13){var e=ni(t),n=hs(t,e);if(n!==null){var r=hn();ur(n,t,e,r)}Dy(t,e)}};nE=function(){return ze};rE=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};gm=function(t,e,n){switch(e){case"input":if(um(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Xh(r);if(!s)throw Error(G(90));Ox(r),um(r,s)}}}break;case"textarea":Lx(t,n);break;case"select":e=n.value,e!=null&&Jo(t,!!n.multiple,e,!1)}};$x=ky;qx=ro;var yR={usingClientEntryPoint:!1,Events:[lc,Uo,Xh,zx,Bx,ky]},bl={findFiberByHostInstance:Oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vR={bundleType:bl.bundleType,version:bl.version,rendererPackageName:bl.rendererPackageName,rendererConfig:bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Kx(t),t===null?null:t.stateNode},findFiberByHostInstance:bl.findFiberByHostInstance||mR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{Gh=ld.inject(vR),Pr=ld}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yR;Vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!My(e))throw Error(G(200));return pR(t,e,null,n)};Vn.createRoot=function(t,e){if(!My(t))throw Error(G(299));var n=!1,r="",s=b2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Oy(t,1,!1,null,null,n,!1,r,s),t[ds]=e.current,yu(t.nodeType===8?t.parentNode:t),new Ly(e)};Vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=Kx(e),t=t===null?null:t.stateNode,t};Vn.flushSync=function(t){return ro(t)};Vn.hydrate=function(t,e,n){if(!uf(e))throw Error(G(200));return cf(null,t,e,!0,n)};Vn.hydrateRoot=function(t,e,n){if(!My(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=b2;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=S2(e,null,t,1,n??null,s,!1,i,o),t[ds]=e.current,yu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new lf(e)};Vn.render=function(t,e,n){if(!uf(e))throw Error(G(200));return cf(null,t,e,!1,n)};Vn.unmountComponentAtNode=function(t){if(!uf(t))throw Error(G(40));return t._reactRootContainer?(ro(function(){cf(null,null,t,!1,function(){t._reactRootContainer=null,t[ds]=null})}),!0):!1};Vn.unstable_batchedUpdates=ky;Vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!uf(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return cf(t,e,n,!1,r)};Vn.version="18.3.1-next-f1338f8080-20240426";function I2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I2)}catch(t){console.error(t)}}I2(),Ix.exports=Vn;var _R=Ix.exports,q_=_R;nm.createRoot=q_.createRoot,nm.hydrateRoot=q_.hydrateRoot;/**
 * @remix-run/router v1.0.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ut(){return ut=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ut.apply(this,arguments)}var Et;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Et||(Et={}));const H_="popstate";function wR(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:u=""}=Br(s.location.hash.substr(1));return Iu("",{pathname:o,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=s.location.href,c=u.indexOf("#");a=c===-1?u:u.slice(0,c)}return a+"#"+(typeof i=="string"?i:Vr(i))}function r(s,i){xR(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return TR(e,n,r,t)}function Te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ER(){return Math.random().toString(36).substr(2,8)}function W_(t){return{usr:t.state,key:t.key}}function Iu(t,e,n,r){return n===void 0&&(n=null),ut({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Br(e):e,{state:n,key:e&&e.key||r||ER()})}function Vr(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Br(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Cu(t){let e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:window.location.href,n=typeof t=="string"?t:Vr(t);return Te(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}function TR(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Et.Pop,u=null;function c(){a=Et.Pop,u&&u({action:a,location:p.location})}function h(v,y){a=Et.Push;let b=Iu(p.location,v,y);n&&n(b,v);let P=W_(b),E=p.createHref(b);try{o.pushState(P,"",E)}catch{s.location.assign(E)}i&&u&&u({action:a,location:p.location})}function m(v,y){a=Et.Replace;let b=Iu(p.location,v,y);n&&n(b,v);let P=W_(b),E=p.createHref(b);o.replaceState(P,"",E),i&&u&&u({action:a,location:p.location})}let p={get action(){return a},get location(){return t(s,o)},listen(v){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(H_,c),u=v,()=>{s.removeEventListener(H_,c),u=null}},createHref(v){return e(s,v)},encodeLocation(v){let y=Cu(typeof v=="string"?v:Vr(v));return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(v){return o.go(v)}};return p}var Dt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Dt||(Dt={}));function SR(t){return t.index===!0}function C2(t,e,n){return e===void 0&&(e=[]),n===void 0&&(n=new Set),t.map((r,s)=>{let i=[...e,s],o=typeof r.id=="string"?r.id:i.join("-");return Te(r.index!==!0||!r.children,"Cannot specify children on an index route"),Te(!n.has(o),'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),n.add(o),SR(r)?ut({},r,{id:o}):ut({},r,{id:o,children:r.children?C2(r.children,i,n):void 0})})}function Dl(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Br(e):e,s=R2(r.pathname||"/",n);if(s==null)return null;let i=A2(t);bR(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=OR(i[a],MR(s));return o}function A2(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((s,i)=>{let o={relativePath:s.path||"",caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};o.relativePath.startsWith("/")&&(Te(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let a=os([r,o.relativePath]),u=n.concat(o);s.children&&s.children.length>0&&(Te(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),A2(s.children,e,u,a)),!(s.path==null&&!s.index)&&e.push({path:a,score:NR(a,s.index),routesMeta:u})}),e}function bR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const IR=/^:\w+$/,CR=3,AR=2,RR=1,kR=10,PR=-2,K_=t=>t==="*";function NR(t,e){let n=t.split("/"),r=n.length;return n.some(K_)&&(r+=PR),e&&(r+=AR),n.filter(s=>!K_(s)).reduce((s,i)=>s+(IR.test(i)?CR:i===""?RR:kR),r)}function jR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function OR(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=DR({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c);if(!h)return null;Object.assign(r,h.params);let m=a.route;i.push({params:r,pathname:os([s,h.pathname]),pathnameBase:zR(os([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=os([s,h.pathnameBase]))}return i}function DR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=LR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,m)=>{if(h==="*"){let p=a[m]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}return c[h]=VR(a[m]||"",h),c},{}),pathname:i,pathnameBase:o,pattern:t}}function LR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Vy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function MR(t){try{return decodeURI(t)}catch(e){return Vy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function VR(t,e){try{return decodeURIComponent(t)}catch(n){return Vy(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function R2(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Vy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Br(t):t;return{pathname:n?n.startsWith("/")?n:UR(n,e):e,search:BR(r),hash:$R(s)}}function UR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function kp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function df(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fy(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Br(t):(s=ut({},t),Te(!s.pathname||!s.pathname.includes("?"),kp("?","pathname","search",s)),Te(!s.pathname||!s.pathname.includes("#"),kp("#","pathname","hash",s)),Te(!s.search||!s.search.includes("#"),kp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let m=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}a=m>=0?e[m]:"/"}let u=FR(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const os=t=>t.join("/").replace(/\/\/+/g,"/"),zR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$R=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Q_ extends Error{}class qR{constructor(e){this.pendingKeys=new Set,this.subscriber=void 0,Te(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let n;this.abortPromise=new Promise((s,i)=>n=i),this.controller=new AbortController;let r=()=>n(new Q_("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(e).reduce((s,i)=>{let[o,a]=i;return Object.assign(s,{[o]:this.trackPromise(o,a)})},{})}trackPromise(e,n){if(!(n instanceof Promise))return n;this.pendingKeys.add(e);let r=Promise.race([n,this.abortPromise]).then(s=>this.onSettle(r,e,null,s),s=>this.onSettle(r,e,s));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,s){if(this.controller.signal.aborted&&r instanceof Q_)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r);this.pendingKeys.delete(n),this.done&&this.unlistenAbortSignal();const i=this.subscriber;return r?(Object.defineProperty(e,"_error",{get:()=>r}),i&&i(!1),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>s}),i&&i(!1),s)}subscribe(e){this.subscriber=e}cancel(){this.controller.abort(),this.pendingKeys.forEach((n,r)=>this.pendingKeys.delete(r));let e=this.subscriber;e&&e(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(s=>{this.subscribe(i=>{e.removeEventListener("abort",r),(i||this.done)&&s(i)})})}return n}get done(){return this.pendingKeys.size===0}get unwrappedData(){return Te(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,s]=n;return Object.assign(e,{[r]:WR(s)})},{})}}function HR(t){return t instanceof Promise&&t._tracked===!0}function WR(t){if(!HR(t))return t;if(t._error)throw t._error;return t._data}class hf{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function k2(t){return t instanceof hf}const P2=["post","put","patch","delete"],KR=new Set(P2),QR=["get",...P2],GR=new Set(QR),ZR=new Set([301,302,303,307,308]),JR=new Set([307,308]),Pp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},YR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},XR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ek=!XR;function tk(t){Te(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=C2(t.routes),n=null,r=new Set,s=null,i=null,o=null,a=!1,u=Dl(e,t.history.location,t.basename),c=null;if(u==null){let x=ji(404,{pathname:t.history.location.pathname}),{matches:k,route:N}=X_(e);u=k,c={[N.id]:x}}let h=!u.some(x=>x.route.loader)||t.hydrationData!=null,m,p={historyAction:t.history.action,location:t.history.location,matches:u,initialized:h,navigation:Pp,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||c,fetchers:new Map},v=Et.Pop,y=!1,b,P=!1,E=!1,w=[],S=[],D=new Map,V=0,q=-1,C=new Map,_=new Set,I=new Map,R=new Map;function O(){return n=t.history.listen(x=>{let{action:k,location:N}=x;return J(k,N)}),p.initialized||J(Et.Pop,p.location),m}function j(){n&&n(),r.clear(),b&&b.abort(),p.fetchers.forEach((x,k)=>xs(k))}function A(x){return r.add(x),()=>r.delete(x)}function ge(x){p=ut({},p,x),r.forEach(k=>k(p))}function Ve(x,k){var N;let H=p.actionData!=null&&p.navigation.formMethod!=null&&p.navigation.state==="loading"&&((N=p.navigation.formAction)==null?void 0:N.split("?")[0])===x.pathname,$=k.loaderData?{loaderData:Np(p.loaderData,k.loaderData,k.matches||[])}:{};ge(ut({},H?{}:{actionData:null},k,$,{historyAction:v,location:x,initialized:!0,navigation:Pp,revalidation:"idle",restoreScrollPosition:p.navigation.formData?!1:nl(x,k.matches||p.matches),preventScrollReset:y})),P||v===Et.Pop||(v===Et.Push?t.history.push(x,x.state):v===Et.Replace&&t.history.replace(x,x.state)),v=Et.Pop,y=!1,P=!1,E=!1,w=[],S=[]}async function vt(x,k){if(typeof x=="number"){t.history.go(x);return}let{path:N,submission:H,error:$}=G_(x,k),B=Iu(p.location,N,k&&k.state);B=ut({},B,t.history.encodeLocation(B));let Q=(k&&k.replace)===!0||H!=null?Et.Replace:Et.Push,ie=k&&"preventScrollReset"in k?k.preventScrollReset===!0:void 0;return await J(Q,B,{submission:H,pendingError:$,preventScrollReset:ie,replace:k&&k.replace})}function Ye(){if(qt(),ge({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){J(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}J(v||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation})}}async function J(x,k,N){b&&b.abort(),b=null,v=x,P=(N&&N.startUninterruptedRevalidation)===!0,tl(p.location,p.matches),y=(N&&N.preventScrollReset)===!0;let H=N&&N.overrideNavigation,$=Dl(e,k,t.basename);if(!$){let _t=ji(404,{pathname:k.pathname}),{matches:Cn,route:on}=X_(e);_r(),Ve(k,{matches:Cn,loaderData:{},errors:{[on.id]:_t}});return}if(ok(p.location,k)){Ve(k,{matches:$});return}b=new AbortController;let B=Cl(k,b.signal,N&&N.submission),Q,ie;if(N&&N.pendingError)ie={[Ko($).route.id]:N.pendingError};else if(N&&N.submission){let _t=await de(B,k,N.submission,$,{replace:N.replace});if(_t.shortCircuited)return;Q=_t.pendingActionData,ie=_t.pendingActionError,H=ut({state:"loading",location:k},N.submission),B=new Request(B.url,{signal:B.signal})}let{shortCircuited:ne,loaderData:le,errors:be}=await he(B,k,$,H,N&&N.submission,N&&N.replace,Q,ie);ne||(b=null,Ve(k,{matches:$,loaderData:le,errors:be}))}async function de(x,k,N,H,$){qt();let B=ut({state:"submitting",location:k},N);ge({navigation:B});let Q,ie=rw(H,k);if(!ie.route.action)Q={type:Dt.error,error:ji(405,{method:x.method,pathname:k.pathname,routeId:ie.route.id})};else if(Q=await Il("action",x,ie,H,m.basename),x.signal.aborted)return{shortCircuited:!0};if(ra(Q))return await kt(p,Q,$&&$.replace===!0),{shortCircuited:!0};if(eu(Q)){let ne=Ko(H,ie.route.id);return($&&$.replace)!==!0&&(v=Et.Push),{pendingActionError:{[ne.route.id]:Q.error}}}if(Mi(Q))throw new Error("defer() is not supported in actions");return{pendingActionData:{[ie.route.id]:Q.data}}}async function he(x,k,N,H,$,B,Q,ie){let ne=H;ne||(ne={state:"loading",location:k,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0});let[le,be]=Z_(p,N,$,k,E,w,S,Q,ie,I);if(_r(Ht=>!(N&&N.some(Wt=>Wt.route.id===Ht))||le&&le.some(Wt=>Wt.route.id===Ht)),le.length===0&&be.length===0)return Ve(k,{matches:N,loaderData:Np(p.loaderData,{},N),errors:ie||null,actionData:Q||null}),{shortCircuited:!0};P||(be.forEach(Ht=>{let[Wt]=Ht,wr=p.fetchers.get(Wt),bi={state:"loading",data:wr&&wr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};p.fetchers.set(Wt,bi)}),ge(ut({navigation:ne,actionData:Q||p.actionData||null},be.length>0?{fetchers:new Map(p.fetchers)}:{}))),q=++V,be.forEach(Ht=>{let[Wt]=Ht;return D.set(Wt,b)});let{results:_t,loaderResults:Cn,fetcherResults:on}=await $t(p.matches,N,le,be,x);if(x.signal.aborted)return{shortCircuited:!0};be.forEach(Ht=>{let[Wt]=Ht;return D.delete(Wt)});let yn=ew(_t);if(yn)return await kt(p,yn,B),{shortCircuited:!0};let{loaderData:Hr,errors:Wr}=Y_(p,N,le,Cn,ie,be,on,R);R.forEach((Ht,Wt)=>{Ht.subscribe(wr=>{(wr||Ht.done)&&R.delete(Wt)})}),Si();let An=qr(q);return ut({loaderData:Hr,errors:Wr},An||be.length>0?{fetchers:new Map(p.fetchers)}:{})}function Ue(x){return p.fetchers.get(x)||YR}function Oe(x,k,N,H){if(ek)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");D.has(x)&&Zn(x);let $=Dl(e,N,t.basename);if(!$){$r(x,k,ji(404,{pathname:N}));return}let{path:B,submission:Q}=G_(N,H,!0),ie=rw($,B);if(Q){Ke(x,k,B,ie,$,Q);return}I.set(x,[B,ie,$]),gn(x,k,B,ie,$)}async function Ke(x,k,N,H,$,B){if(qt(),I.delete(x),!H.route.action){let Pt=ji(405,{method:B.formMethod,pathname:N,routeId:k});$r(x,k,Pt);return}let Q=p.fetchers.get(x),ie=ut({state:"submitting"},B,{data:Q&&Q.data});p.fetchers.set(x,ie),ge({fetchers:new Map(p.fetchers)});let ne=new AbortController,le=Cl(N,ne.signal,B);D.set(x,ne);let be=await Il("action",le,H,$,m.basename);if(le.signal.aborted){D.get(x)===ne&&D.delete(x);return}if(ra(be)){D.delete(x),_.add(x);let Pt=ut({state:"loading"},B,{data:void 0});return p.fetchers.set(x,Pt),ge({fetchers:new Map(p.fetchers)}),kt(p,be)}if(eu(be)){$r(x,k,be.error);return}Mi(be)&&Te(!1,"defer() is not supported in actions");let _t=p.navigation.location||p.location,Cn=Cl(_t,ne.signal),on=p.navigation.state!=="idle"?Dl(e,p.navigation.location,t.basename):p.matches;Te(on,"Didn't find any matches after fetcher action");let yn=++V;C.set(x,yn);let Hr=ut({state:"loading",data:be.data},B);p.fetchers.set(x,Hr);let[Wr,An]=Z_(p,on,B,_t,E,w,S,{[H.route.id]:be.data},void 0,I);An.filter(Pt=>{let[xr]=Pt;return xr!==x}).forEach(Pt=>{let[xr]=Pt,Ii=p.fetchers.get(xr),Pc={state:"loading",data:Ii&&Ii.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};p.fetchers.set(xr,Pc),D.set(xr,ne)}),ge({fetchers:new Map(p.fetchers)});let{results:Ht,loaderResults:Wt,fetcherResults:wr}=await $t(p.matches,on,Wr,An,Cn);if(ne.signal.aborted)return;C.delete(x),D.delete(x),An.forEach(Pt=>{let[xr]=Pt;return D.delete(xr)});let bi=ew(Ht);if(bi)return kt(p,bi);let{loaderData:rl,errors:Es}=Y_(p,p.matches,Wr,Wt,void 0,An,wr,R),sl={state:"idle",data:be.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};p.fetchers.set(x,sl);let il=qr(yn);p.navigation.state==="loading"&&yn>q?(Te(v,"Expected pending action"),b&&b.abort(),Ve(p.navigation.location,{matches:on,loaderData:rl,errors:Es,fetchers:new Map(p.fetchers)})):(ge(ut({errors:Es,loaderData:Np(p.loaderData,rl,on)},il?{fetchers:new Map(p.fetchers)}:{})),E=!1)}async function gn(x,k,N,H,$){let B=p.fetchers.get(x),Q={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:B&&B.data};p.fetchers.set(x,Q),ge({fetchers:new Map(p.fetchers)});let ie=new AbortController,ne=Cl(N,ie.signal);D.set(x,ie);let le=await Il("loader",ne,H,$,m.basename);if(Mi(le)&&(le=await L2(le,ne.signal,!0)||le),D.get(x)===ie&&D.delete(x),ne.signal.aborted)return;if(ra(le)){await kt(p,le);return}if(eu(le)){let _t=Ko(p.matches,k);p.fetchers.delete(x),ge({fetchers:new Map(p.fetchers),errors:{[_t.route.id]:le.error}});return}Te(!Mi(le),"Unhandled fetcher deferred data");let be={state:"idle",data:le.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};p.fetchers.set(x,be),ge({fetchers:new Map(p.fetchers)})}async function kt(x,k,N){var H;k.revalidate&&(E=!0);let $=Iu(x.location,k.location);if(Te($,"Expected a location on the redirect navigation"),typeof((H=window)==null?void 0:H.location)<"u"){let be=Cu(k.location).origin;if(window.location.origin!==be){N?window.location.replace(k.location):window.location.assign(k.location);return}}b=null;let B=N===!0?Et.Replace:Et.Push,{formMethod:Q,formAction:ie,formEncType:ne,formData:le}=x.navigation;JR.has(k.status)&&Q&&D2(Q)&&ne&&le?await J(B,$,{submission:{formMethod:Q,formAction:k.location,formEncType:ne,formData:le}}):await J(B,$,{overrideNavigation:{state:"loading",location:$,formMethod:Q||void 0,formAction:ie||void 0,formEncType:ne||void 0,formData:le||void 0}})}async function $t(x,k,N,H,$){let B=await Promise.all([...N.map(ne=>Il("loader",$,ne,k,m.basename)),...H.map(ne=>{let[,le,be,_t]=ne;return Il("loader",Cl(le,$.signal),be,_t,m.basename)})]),Q=B.slice(0,N.length),ie=B.slice(N.length);return await Promise.all([tw(x,N,Q,$.signal,!1,p.loaderData),tw(x,H.map(ne=>{let[,,le]=ne;return le}),ie,$.signal,!0)]),{results:B,loaderResults:Q,fetcherResults:ie}}function qt(){E=!0,w.push(..._r()),I.forEach((x,k)=>{D.has(k)&&(S.push(k),Zn(k))})}function $r(x,k,N){let H=Ko(p.matches,k);xs(x),ge({errors:{[H.route.id]:N},fetchers:new Map(p.fetchers)})}function xs(x){D.has(x)&&Zn(x),I.delete(x),C.delete(x),_.delete(x),p.fetchers.delete(x)}function Zn(x){let k=D.get(x);Te(k,"Expected fetch controller: "+x),k.abort(),D.delete(x)}function vr(x){for(let k of x){let H={state:"idle",data:Ue(k).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};p.fetchers.set(k,H)}}function Si(){let x=[];for(let k of _){let N=p.fetchers.get(k);Te(N,"Expected fetcher: "+k),N.state==="loading"&&(_.delete(k),x.push(k))}vr(x)}function qr(x){let k=[];for(let[N,H]of C)if(H<x){let $=p.fetchers.get(N);Te($,"Expected fetcher: "+N),$.state==="loading"&&(Zn(N),C.delete(N),k.push(N))}return vr(k),k.length>0}function _r(x){let k=[];return R.forEach((N,H)=>{(!x||x(H))&&(N.cancel(),k.push(H),R.delete(H))}),k}function So(x,k,N){if(s=x,o=k,i=N||(H=>H.key),!a&&p.navigation===Pp){a=!0;let H=nl(p.location,p.matches);H!=null&&ge({restoreScrollPosition:H})}return()=>{s=null,o=null,i=null}}function tl(x,k){if(s&&i&&o){let N=k.map($=>nw($,p.loaderData)),H=i(x,N)||x.key;s[H]=o()}}function nl(x,k){if(s&&i&&o){let N=k.map(B=>nw(B,p.loaderData)),H=i(x,N)||x.key,$=s[H];if(typeof $=="number")return $}return null}return m={get basename(){return t.basename},get state(){return p},get routes(){return e},initialize:O,subscribe:A,enableScrollRestoration:So,navigate:vt,fetch:Oe,revalidate:Ye,createHref:x=>t.history.createHref(x),encodeLocation:x=>t.history.encodeLocation(x),getFetcher:Ue,deleteFetcher:xs,dispose:j,_internalFetchControllers:D,_internalActiveDeferreds:R},m}function nk(t){return t!=null&&"formData"in t}function G_(t,e,n){n===void 0&&(n=!1);let r=typeof t=="string"?t:Vr(t);if(!e||!nk(e))return{path:r};if(e.formMethod&&!lk(e.formMethod))return{path:r,error:ji(405,{method:e.formMethod})};if(e.formMethod&&D2(e.formMethod))return{path:r,submission:{formMethod:e.formMethod,formAction:O2(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData}};let s=Br(r);try{let i=j2(e.formData);n&&s.search&&M2(s.search)&&i.append("index",""),s.search="?"+i}catch{return{path:r,error:ji(400)}}return{path:Vr(s)}}function rk(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Z_(t,e,n,r,s,i,o,a,u,c){let h=u?Object.values(u)[0]:a?Object.values(a)[0]:null,m=u?Object.keys(u)[0]:void 0,v=rk(e,m).filter((b,P)=>b.route.loader!=null&&(sk(t.loaderData,t.matches[P],b)||i.some(E=>E===b.route.id)||J_(t.location,t.matches[P],n,r,b,s,h))),y=[];return c&&c.forEach((b,P)=>{let[E,w,S]=b;o.includes(P)?y.push([P,E,w,S]):s&&J_(E,w,n,E,w,s,h)&&y.push([P,E,w,S])}),[v,y]}function sk(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function N2(t,e){let n=t.route.path;return t.pathname!==e.pathname||n&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function J_(t,e,n,r,s,i,o){let a=Cu(t),u=e.params,c=Cu(r),h=s.params,m=N2(e,s)||a.toString()===c.toString()||a.search!==c.search||i;if(s.route.shouldRevalidate){let p=s.route.shouldRevalidate(ut({currentUrl:a,currentParams:u,nextUrl:c,nextParams:h},n,{actionResult:o,defaultShouldRevalidate:m}));if(typeof p=="boolean")return p}return m}async function Il(t,e,n,r,s,i,o,a){s===void 0&&(s="/"),i===void 0&&(i=!1),o===void 0&&(o=!1);let u,c,h,m=new Promise((v,y)=>h=y),p=()=>h();e.signal.addEventListener("abort",p);try{let v=n.route[t];Te(v,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),c=await Promise.race([v({request:e,params:n.params,context:a}),m]),Te(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){u=Dt.error,c=v}finally{e.signal.removeEventListener("abort",p)}if(ak(c)){let v=c.status;if(ZR.has(v)){let P=c.headers.get("Location");if(Te(P,"Redirects returned/thrown from loaders/actions must have a Location header"),!(/^[a-z+]+:\/\//i.test(P)||P.startsWith("//"))){let w=r.slice(0,r.indexOf(n)+1),S=df(w).map(V=>V.pathnameBase),D=Fy(P,S,new URL(e.url).pathname);if(Te(Vr(D),"Unable to resolve redirect location: "+P),s){let V=D.pathname;D.pathname=V==="/"?s:os([s,V])}P=Vr(D)}if(i)throw c.headers.set("Location",P),c;return{type:Dt.redirect,status:v,location:P,revalidate:c.headers.get("X-Remix-Revalidate")!==null}}if(o)throw{type:u||Dt.data,response:c};let y,b=c.headers.get("Content-Type");return b&&b.startsWith("application/json")?y=await c.json():y=await c.text(),u===Dt.error?{type:u,error:new hf(v,c.statusText,y),headers:c.headers}:{type:Dt.data,data:y,statusCode:c.status,headers:c.headers}}return u===Dt.error?{type:u,error:c}:c instanceof qR?{type:Dt.deferred,deferredData:c}:{type:Dt.data,data:c}}function Cl(t,e,n){let r=Cu(O2(t)).toString(),s={signal:e};if(n){let{formMethod:i,formEncType:o,formData:a}=n;s.method=i.toUpperCase(),s.body=o==="application/x-www-form-urlencoded"?j2(a):a}return new Request(r,s)}function j2(t){let e=new URLSearchParams;for(let[n,r]of t.entries())Te(typeof r=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),e.append(n,r);return e}function ik(t,e,n,r,s){let i={},o=null,a,u=!1,c={};return n.forEach((h,m)=>{let p=e[m].route.id;if(Te(!ra(h),"Cannot handle redirect results in processLoaderData"),eu(h)){let v=Ko(t,p),y=h.error;r&&(y=Object.values(r)[0],r=void 0),o=Object.assign(o||{},{[v.route.id]:y}),u||(u=!0,a=k2(h.error)?h.error.status:500),h.headers&&(c[p]=h.headers)}else Mi(h)?(s&&s.set(p,h.deferredData),i[p]=h.deferredData.data):(i[p]=h.data,h.statusCode!=null&&h.statusCode!==200&&!u&&(a=h.statusCode),h.headers&&(c[p]=h.headers))}),r&&(o=r),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function Y_(t,e,n,r,s,i,o,a){let{loaderData:u,errors:c}=ik(e,n,r,s,a);for(let h=0;h<i.length;h++){let[m,,p]=i[h];Te(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let v=o[h];if(eu(v)){let y=Ko(t.matches,p.route.id);c&&c[y.route.id]||(c=ut({},c,{[y.route.id]:v.error})),t.fetchers.delete(m)}else{if(ra(v))throw new Error("Unhandled fetcher revalidation redirect");if(Mi(v))throw new Error("Unhandled fetcher deferred data");{let y={state:"idle",data:v.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};t.fetchers.set(m,y)}}}return{loaderData:u,errors:c}}function Np(t,e,n){let r=ut({},e);return n.forEach(s=>{let i=s.route.id;e[i]===void 0&&t[i]!==void 0&&(r[i]=t[i])}),r}function Ko(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function X_(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ji(t,e){let{pathname:n,routeId:r,method:s}=e===void 0?{}:e,i="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(i="Bad Request",s&&n&&r?o="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o="Cannot submit binary form data using GET"):t===403?(i="Forbidden",o='Route "'+r+'" does not match URL "'+n+'"'):t===404?(i="Not Found",o='No route matches URL "'+n+'"'):t===405&&(i="Method Not Allowed",s&&n&&r?o="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(o='Invalid request method "'+s.toUpperCase()+'"')),new hf(t||500,i,new Error(o),!0)}function ew(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(ra(n))return n}}function O2(t){let e=typeof t=="string"?Br(t):t;return Vr(ut({},e,{hash:""}))}function ok(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function Mi(t){return t.type===Dt.deferred}function eu(t){return t.type===Dt.error}function ra(t){return(t&&t.type)===Dt.redirect}function ak(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function lk(t){return GR.has(t)}function D2(t){return KR.has(t)}async function tw(t,e,n,r,s,i){for(let o=0;o<n.length;o++){let a=n[o],u=e[o],c=t.find(m=>m.route.id===u.route.id),h=c!=null&&!N2(c,u)&&(i&&i[u.route.id])!==void 0;Mi(a)&&(s||h)&&await L2(a,r,s).then(m=>{m&&(n[o]=m||n[o])})}}async function L2(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Dt.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Dt.error,error:s}}return{type:Dt.data,data:t.deferredData.data}}}function M2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function nw(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function rw(t,e){let n=typeof e=="string"?Br(e).search:e.search;if(t[t.length-1].route.index&&M2(n||""))return t[t.length-1];let r=df(t);return r[r.length-1]}/**
 * React Router v6.4.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hh(){return hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hh.apply(this,arguments)}function uk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const ck=typeof Object.is=="function"?Object.is:uk,{useState:dk,useEffect:hk,useLayoutEffect:fk,useDebugValue:pk}=tm;function mk(t,e,n){const r=e(),[{inst:s},i]=dk({inst:{value:r,getSnapshot:e}});return fk(()=>{s.value=r,s.getSnapshot=e,jp(s)&&i({inst:s})},[t,r,e]),hk(()=>(jp(s)&&i({inst:s}),t(()=>{jp(s)&&i({inst:s})})),[t]),pk(r),r}function jp(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!ck(n,r)}catch{return!0}}function gk(t,e,n){return e()}const yk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vk=!yk,_k=vk?gk:mk,wk="useSyncExternalStore"in tm?(t=>t.useSyncExternalStore)(tm):_k,xk=z.createContext(null),V2=z.createContext(null),cc=z.createContext(null),dc=z.createContext(null),ff=z.createContext(null),yo=z.createContext({outlet:null,matches:[]}),F2=z.createContext(null);function Ek(t,e){let{relative:n}=e===void 0?{}:e;Ha()||Te(!1);let{basename:r,navigator:s}=z.useContext(dc),{hash:i,pathname:o,search:a}=Uy(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:os([r,o])),s.createHref({pathname:u,search:a,hash:i})}function Ha(){return z.useContext(ff)!=null}function Wa(){return Ha()||Te(!1),z.useContext(ff).location}function vo(){Ha()||Te(!1);let{basename:t,navigator:e}=z.useContext(dc),{matches:n}=z.useContext(yo),{pathname:r}=Wa(),s=JSON.stringify(df(n).map(a=>a.pathnameBase)),i=z.useRef(!1);return z.useEffect(()=>{i.current=!0}),z.useCallback(function(a,u){if(u===void 0&&(u={}),!i.current)return;if(typeof a=="number"){e.go(a);return}let c=Fy(a,JSON.parse(s),r,u.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:os([t,c.pathname])),(u.replace?e.replace:e.push)(c,u.state,u)},[t,e,s,r])}const U2=z.createContext(null);function z2(){return z.useContext(U2)}function Tk(t){let e=z.useContext(yo).outlet;return e&&z.createElement(U2.Provider,{value:t},e)}function Sk(){let{matches:t}=z.useContext(yo),e=t[t.length-1];return e?e.params:{}}function Uy(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=z.useContext(yo),{pathname:s}=Wa(),i=JSON.stringify(df(r).map(o=>o.pathnameBase));return z.useMemo(()=>Fy(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function bk(t,e){Ha()||Te(!1);let{navigator:n}=z.useContext(dc),r=z.useContext(cc),{matches:s}=z.useContext(yo),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let u=Wa(),c;if(e){var h;let b=typeof e=="string"?Br(e):e;a==="/"||(h=b.pathname)!=null&&h.startsWith(a)||Te(!1),c=b}else c=u;let m=c.pathname||"/",p=a==="/"?m:m.slice(a.length)||"/",v=Dl(t,{pathname:p}),y=Rk(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:os([a,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?a:os([a,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r||void 0);return e&&y?z.createElement(ff.Provider,{value:{location:hh({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Et.Pop}},y):y}function Ik(){let t=Pk(),e=k2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unhandled Thrown Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:s},n):null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own",z.createElement("code",{style:i},"errorElement")," props on",z.createElement("code",{style:i},"<Route>")))}class Ck extends z.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?z.createElement(F2.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function Ak(t){let{routeContext:e,match:n,children:r}=t,s=z.useContext(xk);return s&&n.route.errorElement&&(s._deepestRenderedBoundaryId=n.route.id),z.createElement(yo.Provider,{value:e},r)}function Rk(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,s=n==null?void 0:n.errors;if(s!=null){let i=r.findIndex(o=>o.route.id&&(s==null?void 0:s[o.route.id]));i>=0||Te(!1),r=r.slice(0,Math.min(r.length,i+1))}return r.reduceRight((i,o,a)=>{let u=o.route.id?s==null?void 0:s[o.route.id]:null,c=n?o.route.errorElement||z.createElement(Ik,null):null,h=()=>z.createElement(Ak,{match:o,routeContext:{outlet:i,matches:e.concat(r.slice(0,a+1))}},u?c:o.route.element!==void 0?o.route.element:i);return n&&(o.route.errorElement||a===0)?z.createElement(Ck,{location:n.location,component:c,error:u,children:h()}):h()},null)}var sw;(function(t){t.UseRevalidator="useRevalidator"})(sw||(sw={}));var Gm;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Gm||(Gm={}));function kk(t){let e=z.useContext(cc);return e||Te(!1),e}function Pk(){var t;let e=z.useContext(F2),n=kk(Gm.UseRouteError),r=z.useContext(yo),s=r.matches[r.matches.length-1];return e||(r||Te(!1),s.route.id||Te(!1),(t=n.errors)==null?void 0:t[s.route.id])}function Nk(t){let{fallbackElement:e,router:n}=t,r=wk(n.subscribe,()=>n.state,()=>n.state),s=z.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:o=>n.navigate(o),push:(o,a,u)=>n.navigate(o,{state:a,preventScrollReset:u==null?void 0:u.preventScrollReset}),replace:(o,a,u)=>n.navigate(o,{replace:!0,state:a,preventScrollReset:u==null?void 0:u.preventScrollReset})}),[n]),i=n.basename||"/";return z.createElement(V2.Provider,{value:{router:n,navigator:s,static:!1,basename:i}},z.createElement(cc.Provider,{value:r},z.createElement(jk,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?z.createElement(Ok,null):e)))}function Zm(t){let{to:e,replace:n,state:r,relative:s}=t;Ha()||Te(!1);let i=z.useContext(cc),o=vo();return z.useEffect(()=>{i&&i.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:s})}),null}function zy(t){return Tk(t.context)}function wt(t){Te(!1)}function jk(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Et.Pop,navigator:i,static:o=!1}=t;Ha()&&Te(!1);let a=e.replace(/^\/*/,"/"),u=z.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=Br(r));let{pathname:c="/",search:h="",hash:m="",state:p=null,key:v="default"}=r,y=z.useMemo(()=>{let b=R2(c,a);return b==null?null:{pathname:b,search:h,hash:m,state:p,key:v}},[a,c,h,m,p,v]);return y==null?null:z.createElement(dc.Provider,{value:u},z.createElement(ff.Provider,{children:n,value:{location:y,navigationType:s}}))}function Ok(t){let{children:e,location:n}=t,r=z.useContext(V2),s=r&&!e?r.router.routes:fh(e);return bk(s,n)}var iw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(iw||(iw={}));new Promise(()=>{});function fh(t,e){e===void 0&&(e=[]);let n=[];return z.Children.forEach(t,(r,s)=>{if(!z.isValidElement(r))return;if(r.type===z.Fragment){n.push.apply(n,fh(r.props.children,e));return}r.type!==wt&&Te(!1),!r.props.index||!r.props.children||Te(!1);let i=[...e,s],o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=fh(r.props.children,i)),n.push(o)}),n}function B2(t){return t.map(e=>{let n=hh({},e);return n.hasErrorBoundary==null&&(n.hasErrorBoundary=n.errorElement!=null),n.children&&(n.children=B2(n.children)),n})}/**
 * React Router DOM v6.4.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Au(){return Au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Au.apply(this,arguments)}function $2(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Dk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Lk(t,e){return t.button===0&&(!e||e==="_self")&&!Dk(t)}const Mk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Vk=["aria-current","caseSensitive","className","end","style","to","children"];function Fk(t,e){return tk({basename:void 0,history:wR({window:void 0}),hydrationData:Uk(),routes:B2(t)}).initialize()}function Uk(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Au({},e,{errors:zk(e.errors)})),e}function zk(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)s&&s.__type==="RouteErrorResponse"?n[r]=new hf(s.status,s.statusText,s.data,s.internal===!0):n[r]=s;return n}const et=z.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:h}=e,m=$2(e,Mk),p=Ek(c,{relative:s}),v=Bk(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:s});function y(b){r&&r(b),b.defaultPrevented||v(b)}return z.createElement("a",Au({},m,{href:p,onClick:i?r:y,ref:n,target:u}))}),sr=z.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:u,children:c}=e,h=$2(e,Vk),m=Uy(u,{relative:h.relative}),p=Wa(),v=z.useContext(cc),{navigator:y}=z.useContext(dc),b=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,P=p.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(P=P.toLowerCase(),E=E?E.toLowerCase():null,b=b.toLowerCase());let w=P===b||!o&&P.startsWith(b)&&P.charAt(b.length)==="/",S=E!=null&&(E===b||!o&&E.startsWith(b)&&E.charAt(b.length)==="/"),D=w?r:void 0,V;typeof i=="function"?V=i({isActive:w,isPending:S}):V=[i,w?"active":null,S?"pending":null].filter(Boolean).join(" ");let q=typeof a=="function"?a({isActive:w,isPending:S}):a;return z.createElement(et,Au({},h,{"aria-current":D,className:V,ref:n,style:q,to:u}),typeof c=="function"?c({isActive:w,isPending:S}):c)});var ow;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(ow||(ow={}));var aw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(aw||(aw={}));function Bk(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=vo(),u=Wa(),c=Uy(t,{relative:o});return z.useCallback(h=>{if(Lk(h,n)){h.preventDefault();let m=r!==void 0?r:Vr(u)===Vr(c);a(t,{replace:m,state:s,preventScrollReset:i,relative:o})}},[u,a,c,r,s,n,t,i,o])}function q2(){return d.jsxs("h1",{className:"font-bold text-3xl sm:text-2xl ",children:[" ",d.jsx(et,{to:"/",children:"Amabilis."})," "]})}var jt=[];for(var Op=0;Op<256;++Op)jt.push((Op+256).toString(16).slice(1));function $k(t,e=0){return(jt[t[e+0]]+jt[t[e+1]]+jt[t[e+2]]+jt[t[e+3]]+"-"+jt[t[e+4]]+jt[t[e+5]]+"-"+jt[t[e+6]]+jt[t[e+7]]+"-"+jt[t[e+8]]+jt[t[e+9]]+"-"+jt[t[e+10]]+jt[t[e+11]]+jt[t[e+12]]+jt[t[e+13]]+jt[t[e+14]]+jt[t[e+15]]).toLowerCase()}var ud,qk=new Uint8Array(16);function Hk(){if(!ud&&(ud=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ud))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ud(qk)}var Wk=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const lw={randomUUID:Wk};function ci(t,e,n){if(lw.randomUUID&&!e&&!t)return lw.randomUUID();t=t||{};var r=t.random||(t.rng||Hk)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,$k(r)}var H2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},uw=ct.createContext&&ct.createContext(H2),Kk=["attr","size","title"];function Qk(t,e){if(t==null)return{};var n=Gk(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gk(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ph.apply(this,arguments)}function cw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function mh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cw(Object(n),!0).forEach(function(r){Zk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zk(t,e,n){return e=Jk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jk(t){var e=Yk(t,"string");return typeof e=="symbol"?e:e+""}function Yk(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W2(t){return t&&t.map((e,n)=>ct.createElement(e.tag,mh({key:n},e.attr),W2(e.child)))}function Me(t){return e=>ct.createElement(Xk,ph({attr:mh({},t.attr)},e),W2(t.child))}function Xk(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=Qk(t,Kk),a=s||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),ct.createElement("svg",ph({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:mh(mh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&ct.createElement("title",null,i),t.children)};return uw!==void 0?ct.createElement(uw.Consumer,null,n=>e(n)):e(H2)}function eP(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 17.59 7.41 19 12 14.42 16.59 19 18 17.59l-6-6z"},child:[]},{tag:"path",attr:{d:"m6 11 1.41 1.41L12 7.83l4.59 4.58L18 11l-6-6z"},child:[]}]})(t)}function tP(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 1.74.5 3.37 1.41 4.84.95 1.54 2.2 2.86 3.16 4.4.47.75.81 1.45 1.17 2.26.26.55.47 1.5 1.26 1.5s1-.95 1.25-1.5c.37-.81.7-1.51 1.17-2.26.96-1.53 2.21-2.85 3.16-4.4C18.5 12.37 19 10.74 19 9c0-3.87-3.13-7-7-7zm0 9.75a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(t)}function nP(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}function rP(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"},child:[]}]})(t)}function sP(){const[t,e]=z.useState(!1);z.useEffect(()=>{const r=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return d.jsx(d.Fragment,{children:t&&d.jsx("button",{className:"fixed bottom-8 right-8 h-10 w-10 bg-lilac flex justify-center items-center rounded-full z-50 ",onClick:n,children:d.jsx(eP,{className:"size-5 text-white hover:animate-bounce"})})})}function iP(){const t=[{title:"ABOUT US",items:["About us","Store location","Contact","Orders tracking"]},{title:"USEFUL LINKS",items:["Returns","Support Policy","Size guide","FAQs"]},{title:"FOLLOW US",items:["Facebook","Twitter","Instagram","Youtube"]}];return d.jsxs("footer",{className:" w-full bg-light-gray py-24 px-20 md:h-fit md:px-8 sm:h-fit sm:py-12 sm:px-4 ",children:[d.jsxs("div",{className:" max-w-7xl mx-auto grid grid-cols-5 md:grid-cols-3 md:gap-y-8 sm:grid-cols-1 sm:gap-y-8 ",children:[d.jsxs("div",{className:"flex flex-col justify-center md:justify-start",children:[d.jsx(q2,{}),d.jsx("p",{className:"text-gray-500 md:text-sm sm:text-sm sm:mt-2",children:" 2024 Amabilis."}),d.jsx("p",{className:"text-gray-500 md:text-sm ",children:"All Rights Reserved"})]}),t.map(e=>d.jsxs("div",{children:[d.jsx("h4",{className:" font-medium ",children:e.title}),d.jsx("ul",{children:e.items.map(n=>d.jsx("li",{className:" mt-4 text-gray-500 hover:text-lilac cursor-pointer transition-all duration-300 ease-in-out md:text-sm sm:text-sm ",children:n},ci()))})]},ci())),d.jsxs("div",{className:" md:col-span-2 ",children:[d.jsx("h4",{className:" font-medium ",children:"SUBSCRIBE"}),d.jsx("p",{className:"mt-4 md:text-sm sm:text-sm",children:"Get E-mail updates about our latest shop and special offers."}),d.jsx("input",{type:"email",placeholder:"Enter your email here...",className:" w-full block bg-inherit focus:outline-none py-3 border-b-2 md:text-sm sm:text-sm "}),d.jsx("input",{type:"submit",value:"SUBSCRIBE",className:"mt-2 border-b-2 border-gray-400 hover:text-lilac hover:border-lilac transition-all duration-300 ease-in-out md:text-sm sm:text-sm "})]})]}),d.jsx(sP,{})]})}function oP(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function aP(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C148.5 48 60.1 129.5 49.2 234.1c-.8 7.2-1.2 14.5-1.2 21.9 0 7.4.4 14.7 1.2 21.9C60.1 382.5 148.5 464 256 464c114.9 0 208-93.1 208-208S370.9 48 256 48zm135.8 326.1c-22.7-8.6-59.5-21.2-82.4-28-2.4-.7-2.7-.9-2.7-10.7 0-8.1 3.3-16.3 6.6-23.3 3.6-7.5 7.7-20.2 9.2-31.6 4.2-4.9 10-14.5 13.6-32.9 3.2-16.2 1.7-22.1-.4-27.6-.2-.6-.5-1.2-.6-1.7-.8-3.8.3-23.5 3.1-38.8 1.9-10.5-.5-32.8-14.9-51.3-9.1-11.7-26.6-26-58.5-28h-17.5c-31.4 2-48.8 16.3-58 28-14.5 18.5-16.9 40.8-15 51.3 2.8 15.3 3.9 35 3.1 38.8-.2.7-.4 1.2-.6 1.8-2.1 5.5-3.7 11.4-.4 27.6 3.7 18.4 9.4 28 13.6 32.9 1.5 11.4 5.7 24 9.2 31.6 2.6 5.5 3.8 13 3.8 23.6 0 9.9-.4 10-2.6 10.7-23.7 7-58.9 19.4-80 27.8C91.6 341.4 76 299.9 76 256c0-48.1 18.7-93.3 52.7-127.3S207.9 76 256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256c0 43.9-15.6 85.4-44.2 118.1z"},child:[]}]})(t)}function Jm(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M443.5 420.2L336.7 312.4c20.9-26.2 33.5-59.4 33.5-95.5 0-84.5-68.5-153-153.1-153S64 132.5 64 217s68.5 153 153.1 153c36.6 0 70.1-12.8 96.5-34.2l106.1 107.1c3.2 3.4 7.6 5.1 11.9 5.1 4.1 0 8.2-1.5 11.3-4.5 6.6-6.3 6.8-16.7.6-23.3zm-226.4-83.1c-32.1 0-62.3-12.5-85-35.2-22.7-22.7-35.2-52.9-35.2-84.9 0-32.1 12.5-62.3 35.2-84.9 22.7-22.7 52.9-35.2 85-35.2s62.3 12.5 85 35.2c22.7 22.7 35.2 52.9 35.2 84.9 0 32.1-12.5 62.3-35.2 84.9-22.7 22.7-52.9 35.2-85 35.2z"},child:[]}]})(t)}function lP(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}function uP(){const t=[{title:"English",items:["Arabic","Bangla","Hindi","Spanish"]},{title:"USD",items:["Taka (BDT)","Naira (NGN)","Riyal (SAR)","Rupee (INR)"]}],[e,n]=z.useState(null),r=s=>{n(e===s?null:s)};return d.jsxs("div",{className:" h-14 leading-4 text-sm flex justify-between px-16 text-gray-500 border-b sm:flex-col sm:items-center sm:h-fit sm:py-3 sm:px-4",children:[d.jsxs("div",{className:"flex items-center h-full ",children:[t.map((s,i)=>d.jsxs("div",{className:" relative border-r-2 mr-4 sm:mr-2 ",children:[d.jsxs(et,{to:"#",onClick:()=>r(i),className:"hover:text-lilac transition-all duration-300 ease-in flex items-center mr-4",children:[s.title,d.jsx(oP,{className:"inline-block ml-1 sm:ml-2"})]}),e===i&&d.jsx("div",{className:"absolute bg-white shadow-md left-0 top-full pt-2 px-3 pb-3 text-left w-32 z-[52] transition-all duration-300 ease-in flex items-center",children:d.jsx("ul",{children:s.items.map(o=>d.jsx("li",{className:"hover:text-lilac",children:d.jsx(et,{to:"#",className:"block py-1 px-2",children:o})},ci()))})})]},ci())),d.jsx("div",{children:"Call Us 3965410"})]}),d.jsx("div",{className:"flex h-full items-center sm:mt-4",children:d.jsxs("p",{children:["Free delivery on order over ",d.jsx("span",{className:"text-red-500",children:"$200"})," "]})})]})}function cP(){return d.jsx(d.Fragment,{children:d.jsx(uP,{})})}function di(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Heart"},child:[{tag:"path",attr:{d:"M12,20.043a.977.977,0,0,1-.7-.288L4.63,13.08A5.343,5.343,0,0,1,6.053,4.513,5.266,5.266,0,0,1,12,5.371a5.272,5.272,0,0,1,5.947-.858A5.343,5.343,0,0,1,19.37,13.08l-6.676,6.675A.977.977,0,0,1,12,20.043ZM8.355,4.963A4.015,4.015,0,0,0,6.511,5.4,4.4,4.4,0,0,0,4.122,8.643a4.345,4.345,0,0,0,1.215,3.73l6.675,6.675,6.651-6.675a4.345,4.345,0,0,0,1.215-3.73A4.4,4.4,0,0,0,17.489,5.4a4.338,4.338,0,0,0-4.968.852h0a.744.744,0,0,1-1.042,0A4.474,4.474,0,0,0,8.355,4.963Z"},child:[]}]}]})(t)}function dP(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.0049 13.0028C13.6617 13.0028 15.0049 14.346 15.0049 16.0028C15.0049 16.8519 14.6521 17.6187 14.0851 18.1645L12.175 20.0024L15.0049 20.0028V22.0028H9.00488L9.00398 20.2784L12.6983 16.7234C12.8874 16.5411 13.0049 16.2857 13.0049 16.0028C13.0049 15.4505 12.5572 15.0028 12.0049 15.0028C11.4526 15.0028 11.0049 15.4505 11.0049 16.0028H9.00488C9.00488 14.346 10.348 13.0028 12.0049 13.0028ZM18.0049 13.0028V17.0028H20.0049V13.0028H22.0049V22.0028H20.0049V19.0028H16.0049V13.0028H18.0049ZM4.00488 12.0028C4.00488 14.5294 5.17612 16.7824 7.00527 18.2485L7.0049 20.665C4.01588 18.9359 2.00488 15.7042 2.00488 12.0028H4.00488ZM12.0049 2.00281C17.1902 2.00281 21.4537 5.94943 21.9555 11.0027L19.943 11.0029C19.4509 7.05652 16.0845 4.00281 12.0049 4.00281C9.54102 4.00281 7.33731 5.11664 5.8698 6.86824L8.00488 9.00281H2.00488V3.00281L4.45144 5.44929C6.28491 3.3379 8.98898 2.00281 12.0049 2.00281Z"},child:[]}]})(t)}function hP(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.37833 4.51335C7.14264 2.95113 9.46301 2.00275 12.0049 2.00275C17.5277 2.00275 22.0049 6.4799 22.0049 12.0027C22.0049 14.1277 21.3421 16.0978 20.212 17.7177L17.5049 12.0027H20.0049C20.0049 7.58447 16.4232 4.00275 12.0049 4.00275C9.76058 4.00275 7.73213 4.92691 6.27932 6.41544L5.37833 4.51335ZM18.6314 19.4921C16.8671 21.0544 14.5468 22.0027 12.0049 22.0027C6.48204 22.0027 2.00488 17.5256 2.00488 12.0027C2.00488 9.8778 2.66767 7.90766 3.79778 6.28776L6.50488 12.0027H4.00488C4.00488 16.421 7.5866 20.0027 12.0049 20.0027C14.2492 20.0027 16.2776 19.0786 17.7304 17.59L18.6314 19.4921ZM8.50488 14.0027H14.0049C14.281 14.0027 14.5049 13.7789 14.5049 13.5027C14.5049 13.2266 14.281 13.0027 14.0049 13.0027H10.0049C8.62417 13.0027 7.50488 11.8835 7.50488 10.5027C7.50488 9.12203 8.62417 8.00275 10.0049 8.00275H11.0049V7.00275H13.0049V8.00275H15.5049V10.0027H10.0049C9.72874 10.0027 9.50488 10.2266 9.50488 10.5027C9.50488 10.7789 9.72874 11.0027 10.0049 11.0027H14.0049C15.3856 11.0027 16.5049 12.122 16.5049 13.5027C16.5049 14.8835 15.3856 16.0027 14.0049 16.0027H13.0049V17.0027H11.0049V16.0027H8.50488V14.0027Z"},child:[]}]})(t)}function K2(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20.0049 22H4.00488C3.4526 22 3.00488 21.5523 3.00488 21V3C3.00488 2.44772 3.4526 2 4.00488 2H20.0049C20.5572 2 21.0049 2.44772 21.0049 3V21C21.0049 21.5523 20.5572 22 20.0049 22ZM19.0049 20V4H5.00488V20H19.0049ZM9.00488 6V8C9.00488 9.65685 10.348 11 12.0049 11C13.6617 11 15.0049 9.65685 15.0049 8V6H17.0049V8C17.0049 10.7614 14.7663 13 12.0049 13C9.24346 13 7.00488 10.7614 7.00488 8V6H9.00488Z"},child:[]}]})(t)}const gr=z.createContext(null),fP=({children:t})=>{const[e,n]=z.useState(()=>{const y=localStorage.getItem("cart");return y?JSON.parse(y):[]}),[r,s]=z.useState(0),[i,o]=z.useState("");z.useEffect(()=>{s(e.length),localStorage.setItem("cart",JSON.stringify(e))},[e]);const a=y=>{n(b=>b.find(E=>E.id===y.id)?b.map(E=>E.id===y.id?{...E,quantity:E.quantity+(y.quantity||1)}:E):[...b,{...y,quantity:y.quantity||1}]),o("Item added to cart"),setTimeout(()=>o(""),3e3)};function u(y){const b=e.filter(P=>P.id!==y);n(b),o("Item removed from cart"),setTimeout(()=>o(""),3e3)}function c(y){n(b=>b.map(P=>P.id===y?{...P,quantity:P.quantity+1}:P))}function h(y){n(b=>b.map(P=>P.id===y&&P.quantity>1?{...P,quantity:P.quantity-1}:P))}function m(y){return Number((y.price*y.quantity).toFixed(2))}function p(){const y=e.reduce((b,P)=>b+m(P),0);return Number(y.toFixed(2))}function v(){n([]),o("Cart is empty"),setTimeout(()=>o(""),3e3)}return d.jsx(gr.Provider,{value:{cart:e,setCart:n,cartCount:r,setCartCount:s,addToCart:a,removeFromCart:u,incrementItemQuantity:c,decrementItemQuantity:h,getTotalPriceForItem:m,getTotalPriceOfCart:p,clearCart:v,cartMessage:i},children:t})};var dw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},pP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},G2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,h=i>>2,m=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,v=c&63;u||(v=64,o||(p=64)),r.push(n[h],n[m],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Q2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||m==null)throw new mP;const p=i<<2|a>>4;if(r.push(p),c!==64){const v=a<<4&240|c>>2;if(r.push(v),m!==64){const y=c<<6&192|m;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gP=function(t){const e=Q2(t);return G2.encodeByteArray(e,!0)},gh=function(t){return gP(t).replace(/\./g,"")},Z2=function(t){try{return G2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=()=>yP().__FIREBASE_DEFAULTS__,_P=()=>{if(typeof process>"u"||typeof dw>"u")return;const t=dw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Z2(t[1]);return e&&JSON.parse(e)},pf=()=>{try{return vP()||_P()||wP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},J2=t=>{var e,n;return(n=(e=pf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xP=t=>{const e=J2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Y2=()=>{var t;return(t=pf())===null||t===void 0?void 0:t.config},X2=t=>{var e;return(e=pf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gh(JSON.stringify(n)),gh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function bP(){var t;const e=(t=pf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RP(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kP(){return!bP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PP(){try{return typeof indexedDB=="object"}catch{return!1}}function NP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="FirebaseError";class ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jP,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hc.prototype.create)}}class hc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?OP(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ws(s,a,r)}}function OP(t,e){return t.replace(DP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const DP=/\{\$([^}]+)}/g;function LP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(hw(i)&&hw(o)){if(!yh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function hw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ll(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ml(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MP(t,e){const n=new VP(t,e);return n.subscribe.bind(n)}class VP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Dp),s.error===void 0&&(s.error=Dp),s.complete===void 0&&(s.complete=Dp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t){return t&&t._delegate?t._delegate:t}class so{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BP(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zP(t){return t===Ni?void 0:t}function BP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const qP={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},HP=ke.INFO,WP={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},KP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=WP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class By{constructor(e){this.name=e,this._logLevel=HP,this._logHandler=KP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const QP=(t,e)=>e.some(n=>t instanceof n);let fw,pw;function GP(){return fw||(fw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZP(){return pw||(pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eT=new WeakMap,Ym=new WeakMap,tT=new WeakMap,Lp=new WeakMap,$y=new WeakMap;function JP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(si(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&eT.set(n,t)}).catch(()=>{}),$y.set(e,t),e}function YP(t){if(Ym.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ym.set(t,e)}let Xm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ym.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XP(t){Xm=t(Xm)}function eN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mp(this),e,...n);return tT.set(r,e.sort?e.sort():[e]),si(r)}:ZP().includes(t)?function(...e){return t.apply(Mp(this),e),si(eT.get(this))}:function(...e){return si(t.apply(Mp(this),e))}}function tN(t){return typeof t=="function"?eN(t):(t instanceof IDBTransaction&&YP(t),QP(t,GP())?new Proxy(t,Xm):t)}function si(t){if(t instanceof IDBRequest)return JP(t);if(Lp.has(t))return Lp.get(t);const e=tN(t);return e!==t&&(Lp.set(t,e),$y.set(e,t)),e}const Mp=t=>$y.get(t);function nN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=si(o);return r&&o.addEventListener("upgradeneeded",u=>{r(si(o.result),u.oldVersion,u.newVersion,si(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const rN=["get","getKey","getAll","getAllKeys","count"],sN=["put","add","delete","clear"],Vp=new Map;function mw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vp.get(e))return Vp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=sN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||rN.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return Vp.set(e,i),i}XP(t=>({...t,get:(e,n,r)=>mw(e,n)||t.get(e,n,r),has:(e,n)=>!!mw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const eg="@firebase/app",gw="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new By("@firebase/app"),aN="@firebase/app-compat",lN="@firebase/analytics-compat",uN="@firebase/analytics",cN="@firebase/app-check-compat",dN="@firebase/app-check",hN="@firebase/auth",fN="@firebase/auth-compat",pN="@firebase/database",mN="@firebase/database-compat",gN="@firebase/functions",yN="@firebase/functions-compat",vN="@firebase/installations",_N="@firebase/installations-compat",wN="@firebase/messaging",xN="@firebase/messaging-compat",EN="@firebase/performance",TN="@firebase/performance-compat",SN="@firebase/remote-config",bN="@firebase/remote-config-compat",IN="@firebase/storage",CN="@firebase/storage-compat",AN="@firebase/firestore",RN="@firebase/vertexai-preview",kN="@firebase/firestore-compat",PN="firebase",NN="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="[DEFAULT]",jN={[eg]:"fire-core",[aN]:"fire-core-compat",[uN]:"fire-analytics",[lN]:"fire-analytics-compat",[dN]:"fire-app-check",[cN]:"fire-app-check-compat",[hN]:"fire-auth",[fN]:"fire-auth-compat",[pN]:"fire-rtdb",[mN]:"fire-rtdb-compat",[gN]:"fire-fn",[yN]:"fire-fn-compat",[vN]:"fire-iid",[_N]:"fire-iid-compat",[wN]:"fire-fcm",[xN]:"fire-fcm-compat",[EN]:"fire-perf",[TN]:"fire-perf-compat",[SN]:"fire-rc",[bN]:"fire-rc-compat",[IN]:"fire-gcs",[CN]:"fire-gcs-compat",[AN]:"fire-fst",[kN]:"fire-fst-compat",[RN]:"fire-vertex","fire-js":"fire-js",[PN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Map,ON=new Map,ng=new Map;function yw(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ka(t){const e=t.name;if(ng.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;ng.set(e,t);for(const n of vh.values())yw(n,t);for(const n of ON.values())yw(n,t);return!0}function qy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new hc("app","Firebase",DN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=NN;function nT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:tg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ii.create("bad-app-name",{appName:String(s)});if(n||(n=Y2()),!n)throw ii.create("no-options");const i=vh.get(s);if(i){if(yh(n,i.options)&&yh(r,i.config))return i;throw ii.create("duplicate-app",{appName:s})}const o=new $P(s);for(const u of ng.values())o.addComponent(u);const a=new LN(n,r,o);return vh.set(s,a),a}function rT(t=tg){const e=vh.get(t);if(!e&&t===tg&&Y2())return nT();if(!e)throw ii.create("no-app",{appName:t});return e}function oi(t,e,n){var r;let s=(r=jN[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(a.join(" "));return}ka(new so(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="firebase-heartbeat-database",VN=1,Ru="firebase-heartbeat-store";let Fp=null;function sT(){return Fp||(Fp=nN(MN,VN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ru)}catch(n){console.warn(n)}}}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),Fp}async function FN(t){try{const n=(await sT()).transaction(Ru),r=await n.objectStore(Ru).get(iT(t));return await n.done,r}catch(e){if(e instanceof ws)ps.warn(e.message);else{const n=ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(n.message)}}}async function vw(t,e){try{const r=(await sT()).transaction(Ru,"readwrite");await r.objectStore(Ru).put(e,iT(t)),await r.done}catch(n){if(n instanceof ws)ps.warn(n.message);else{const r=ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ps.warn(r.message)}}}function iT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=1024,zN=30*24*60*60*1e3;class BN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_w();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=zN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_w(),{heartbeatsToSend:r,unsentEntries:s}=$N(this._heartbeatsCache.heartbeats),i=gh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ps.warn(n),""}}}function _w(){return new Date().toISOString().substring(0,10)}function $N(t,e=UN){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ww(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ww(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PP()?NP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ww(t){return gh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){ka(new so("platform-logger",e=>new iN(e),"PRIVATE")),ka(new so("heartbeat",e=>new BN(e),"PRIVATE")),oi(eg,gw,t),oi(eg,gw,"esm2017"),oi("fire-js","")}HN("");function Hy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function oT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WN=oT,aT=new hc("auth","Firebase",oT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new By("@firebase/auth");function KN(t,...e){_h.logLevel<=ke.WARN&&_h.warn(`Auth (${Ka}): ${t}`,...e)}function Rd(t,...e){_h.logLevel<=ke.ERROR&&_h.error(`Auth (${Ka}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,...e){throw Wy(t,...e)}function jr(t,...e){return Wy(t,...e)}function lT(t,e,n){const r=Object.assign(Object.assign({},WN()),{[e]:n});return new hc("auth","Firebase",r).create(e,{appName:t.name})}function as(t){return lT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aT.create(t,...e)}function pe(t,e,...n){if(!t)throw Wy(e,...n)}function ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rd(e),new Error(e)}function ms(t,e){t||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function QN(){return xw()==="http:"||xw()==="https:"}function xw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QN()||CP()||"connection"in navigator)?navigator.onLine:!0}function ZN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=SP()||AP()}get(){return GN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t,e){ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new pc(3e4,6e4);function Ei(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ti(t,e,n,r,s={}){return cT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=fc(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},i);return IP()||(c.referrerPolicy="no-referrer"),uT.fetch()(dT(t,t.config.apiHost,n,a),c)})}async function cT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},JN),e);try{const s=new e4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw cd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw cd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw cd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw cd(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw lT(t,h,c);fr(t,h)}}catch(s){if(s instanceof ws)throw s;fr(t,"network-request-failed",{message:String(s)})}}async function mc(t,e,n,r,s={}){const i=await Ti(t,e,n,r,s);return"mfaPendingCredential"in i&&fr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function dT(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Ky(t.config,s):`${t.config.apiScheme}://${s}`}function XN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jr(this.auth,"network-request-failed")),YN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=jr(t,e,r);return s.customData._tokenResponse=n,s}function Ew(t){return t!==void 0&&t.enterprise!==void 0}class t4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function n4(t,e){return Ti(t,"GET","/v2/recaptchaConfig",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(t,e){return Ti(t,"POST","/v1/accounts:delete",e)}async function hT(t,e){return Ti(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s4(t,e=!1){const n=In(t),r=await n.getIdToken(e),s=Qy(r);pe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:tu(Up(s.auth_time)),issuedAtTime:tu(Up(s.iat)),expirationTime:tu(Up(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Up(t){return Number(t)*1e3}function Qy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{const s=Z2(n);return s?JSON.parse(s):(Rd("Failed to decode base64 JWT payload"),null)}catch(s){return Rd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Tw(t){const e=Qy(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ws&&i4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function i4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ku(t,hT(n,{idToken:r}));pe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?fT(i.providerUserInfo):[],a=l4(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new sg(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function a4(t){const e=In(t);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function fT(t){return t.map(e=>{var{providerId:n}=e,r=Hy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(t,e){const n=await cT(t,{},async()=>{const r=fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=dT(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",uT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function c4(t,e){return Ti(t,"POST","/v2/accounts:revokeToken",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Tw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=Tw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await u4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new sa;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(pe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(pe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sa,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Hy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new sg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ku(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return s4(this,e)}reload(){return a4(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rr(this.auth.app))return Promise.reject(as(this.auth));const e=await this.getIdToken();return await ku(this,r4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,u,c,h;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:S,emailVerified:D,isAnonymous:V,providerData:q,stsTokenManager:C}=n;pe(S&&C,e,"internal-error");const _=sa.fromJSON(this.name,C);pe(typeof S=="string",e,"internal-error"),Cs(m,e.name),Cs(p,e.name),pe(typeof D=="boolean",e,"internal-error"),pe(typeof V=="boolean",e,"internal-error"),Cs(v,e.name),Cs(y,e.name),Cs(b,e.name),Cs(P,e.name),Cs(E,e.name),Cs(w,e.name);const I=new rs({uid:S,auth:e,email:p,emailVerified:D,displayName:m,isAnonymous:V,photoURL:y,phoneNumber:v,tenantId:b,stsTokenManager:_,createdAt:E,lastLoginAt:w});return q&&Array.isArray(q)&&(I.providerData=q.map(R=>Object.assign({},R))),P&&(I._redirectEventId=P),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new sa;s.updateFromServerResponse(n);const i=new rs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await wh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];pe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?fT(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new sa;a.updateFromIdToken(r);const u=new rs({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new sg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=new Map;function ss(t){ms(t instanceof Function,"Expected a class definition");let e=Sw.get(t);return e?(ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Sw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pT.type="NONE";const bw=pT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t,e,n){return`firebase:${t}:${e}:${n}`}class ia{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=kd(this.userKey,s.apiKey,i),this.fullPersistenceKey=kd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?rs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ia(ss(bw),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ss(bw);const o=kd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const m=rs._fromJSON(e,h);c!==i&&(a=m),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new ia(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new ia(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wT(e))return"Blackberry";if(xT(e))return"Webos";if(gT(e))return"Safari";if((e.includes("chrome/")||yT(e))&&!e.includes("edge/"))return"Chrome";if(_T(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mT(t=rn()){return/firefox\//i.test(t)}function gT(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yT(t=rn()){return/crios\//i.test(t)}function vT(t=rn()){return/iemobile/i.test(t)}function _T(t=rn()){return/android/i.test(t)}function wT(t=rn()){return/blackberry/i.test(t)}function xT(t=rn()){return/webos/i.test(t)}function Gy(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function d4(t=rn()){var e;return Gy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h4(){return RP()&&document.documentMode===10}function ET(t=rn()){return Gy(t)||_T(t)||xT(t)||wT(t)||/windows phone/i.test(t)||vT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(t,e=[]){let n;switch(t){case"Browser":n=Iw(rn());break;case"Worker":n=`${Iw(rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ka}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e={}){return Ti(t,"GET","/v2/passwordPolicy",Ei(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=6;class g4{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:m4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cw(this),this.idTokenSubscription=new Cw(this),this.beforeStateQueue=new f4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ia.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hT(this,{idToken:e}),r=await rs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Rr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rr(this.app))return Promise.reject(as(this));const n=e?In(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rr(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rr(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p4(this),n=new g4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await c4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ss(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await ia.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&KN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _o(t){return In(t)}class Cw{constructor(e){this.auth=e,this.observer=null,this.addObserver=MP(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v4(t){mf=t}function ST(t){return mf.loadJS(t)}function _4(){return mf.recaptchaEnterpriseScript}function w4(){return mf.gapiScript}function x4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const E4="recaptcha-enterprise",T4="NO_RECAPTCHA";class S4{constructor(e){this.type=E4,this.auth=_o(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{n4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new t4(u);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;Ew(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(T4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Ew(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=_4();u.length!==0&&(u+=a),ST(u).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Aw(t,e,n,r=!1){const s=new S4(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ig(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Aw(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Aw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(t,e){const n=qy(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(yh(i,e??{}))return s;fr(s,"already-initialized")}return n.initialize({options:e})}function I4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ss);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function C4(t,e,n){const r=_o(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=bT(e),{host:o,port:a}=A4(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),R4()}function bT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function A4(t){const e=bT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Rw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Rw(o)}}}function Rw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function R4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function k4(t,e){return Ti(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(t,e){return mc(t,"POST","/v1/accounts:signInWithPassword",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e){return mc(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))}async function j4(t,e){return mc(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Zy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Pu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(e,n,"signInWithPassword",P4);case"emailLink":return N4(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(e,r,"signUpPassword",k4);case"emailLink":return j4(e,{idToken:n,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t,e){return mc(t,"POST","/v1/accounts:signInWithIdp",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="http://localhost";class io extends Zy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new io(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Hy(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new io(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return oa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oa(e,n)}buildRequest(){const e={requestUri:O4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function L4(t){const e=Ll(Ml(t)).link,n=e?Ll(Ml(e)).deep_link_id:null,r=Ll(Ml(t)).deep_link_id;return(r?Ll(Ml(r)).link:null)||r||n||e||t}class Jy{constructor(e){var n,r,s,i,o,a;const u=Ll(Ml(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,m=D4((s=u.mode)!==null&&s!==void 0?s:null);pe(c&&h&&m,"argument-error"),this.apiKey=c,this.operation=m,this.code=h,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=L4(e);try{return new Jy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.providerId=Qa.PROVIDER_ID}static credential(e,n){return Pu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jy.parseLink(n);return pe(r,"argument-error"),Pu._fromEmailAndCode(e,r.code,r.tenantId)}}Qa.PROVIDER_ID="password";Qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends IT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends gc{constructor(){super("facebook.com")}static credential(e){return io._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return io._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ds.credential(n,r)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends gc{constructor(){super("github.com")}static credential(e){return io._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends gc{constructor(){super("twitter.com")}static credential(e,n){return io._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ms.credential(n,r)}catch{return null}}}Ms.TWITTER_SIGN_IN_METHOD="twitter.com";Ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(t,e){return mc(t,"POST","/v1/accounts:signUp",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await rs._fromIdTokenResponse(e,r,s),o=kw(r);return new oo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=kw(r);return new oo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function kw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends ws{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new xh(e,n,r,s)}}function CT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(t,i,e,r):i})}async function V4(t,e,n=!1){const r=await ku(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,e,n=!1){const{auth:r}=t;if(Rr(r.app))return Promise.reject(as(r));const s="reauthenticate";try{const i=await ku(t,CT(r,s,e,t),n);pe(i.idToken,r,"internal-error");const o=Qy(i.idToken);pe(o,r,"internal-error");const{sub:a}=o;return pe(t.uid===a,r,"user-mismatch"),oo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&fr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AT(t,e,n=!1){if(Rr(t.app))return Promise.reject(as(t));const r="signIn",s=await CT(t,r,e),i=await oo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function U4(t,e){return AT(_o(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RT(t){const e=_o(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function z4(t,e,n){if(Rr(t.app))return Promise.reject(as(t));const r=_o(t),o=await ig(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",M4).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&RT(t),u}),a=await oo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function B4(t,e,n){return Rr(t.app)?Promise.reject(as(t)):U4(In(t),Qa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&RT(t),r})}function $4(t,e,n,r){return In(t).onIdTokenChanged(e,n,r)}function q4(t,e,n){return In(t).beforeAuthStateChanged(e,n)}function H4(t,e,n,r){return In(t).onAuthStateChanged(e,n,r)}const Eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=1e3,K4=10;class PT extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ET(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);h4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,K4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},W4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PT.type="LOCAL";const Q4=PT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NT.type="SESSION";const jT=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new gf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await G4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=Yy("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const p=m;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function J4(t){Or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function Y4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ej(){return OT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firebaseLocalStorageDb",tj=1,Th="firebaseLocalStorage",LT="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yf(t,e){return t.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function nj(){const t=indexedDB.deleteDatabase(DT);return new yc(t).toPromise()}function og(){const t=indexedDB.open(DT,tj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Th,{keyPath:LT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Th)?e(r):(r.close(),await nj(),e(await og()))})})}async function Pw(t,e,n){const r=yf(t,!0).put({[LT]:e,value:n});return new yc(r).toPromise()}async function rj(t,e){const n=yf(t,!1).get(e),r=await new yc(n).toPromise();return r===void 0?null:r.value}function Nw(t,e){const n=yf(t,!0).delete(e);return new yc(n).toPromise()}const sj=800,ij=3;class MT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await og(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ij)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gf._getInstance(ej()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Y4(),!this.activeServiceWorker)return;this.sender=new Z4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await og();return await Pw(e,Eh,"1"),await Nw(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Pw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=yf(s,!1).getAll();return new yc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MT.type="LOCAL";const oj=MT;new pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t,e){return e?ss(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy extends Zy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lj(t){return AT(t.auth,new Xy(t),t.bypassAuthState)}function uj(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),F4(n,new Xy(t),t.bypassAuthState)}async function cj(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),V4(n,new Xy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lj;case"linkViaPopup":case"linkViaRedirect":return cj;case"reauthViaPopup":case"reauthViaRedirect":return uj;default:fr(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=new pc(2e3,1e4);class Qo extends VT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=Yy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dj.get())};e()}}Qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj="pendingRedirect",Pd=new Map;class fj extends VT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pd.get(this.auth._key());if(!e){try{const r=await pj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pd.set(this.auth._key(),e)}return this.bypassAuthState||Pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pj(t,e){const n=yj(e),r=gj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function mj(t,e){Pd.set(t._key(),e)}function gj(t){return ss(t._redirectPersistence)}function yj(t){return kd(hj,t.config.apiKey,t.name)}async function vj(t,e,n=!1){if(Rr(t.app))return Promise.reject(as(t));const r=_o(t),s=aj(r,e),o=await new fj(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=10*60*1e3;class wj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_j&&this.cachedEventUids.clear(),this.cachedEventUids.has(jw(e))}saveEventToCache(e){this.cachedEventUids.add(jw(e)),this.lastProcessedEventTime=Date.now()}}function jw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(t,e={}){return Ti(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sj=/^https?/;async function bj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ej(t);for(const n of e)try{if(Ij(n))return}catch{}fr(t,"unauthorized-domain")}function Ij(t){const e=rg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Sj.test(n))return!1;if(Tj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=new pc(3e4,6e4);function Ow(){const t=Or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Aj(t){return new Promise((e,n)=>{var r,s,i;function o(){Ow(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ow(),n(jr(t,"network-request-failed"))},timeout:Cj.get()})}if(!((s=(r=Or().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Or().gapi)===null||i===void 0)&&i.load)o();else{const a=x4("iframefcb");return Or()[a]=()=>{gapi.load?o():n(jr(t,"network-request-failed"))},ST(`${w4()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Nd=null,e})}let Nd=null;function Rj(t){return Nd=Nd||Aj(t),Nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=new pc(5e3,15e3),Pj="__/auth/iframe",Nj="emulator/auth/iframe",jj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dj(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ky(e,Nj):`https://${t.config.authDomain}/${Pj}`,r={apiKey:e.apiKey,appName:t.name,v:Ka},s=Oj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${fc(r).slice(1)}`}async function Lj(t){const e=await Rj(t),n=Or().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:Dj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=jr(t,"network-request-failed"),a=Or().setTimeout(()=>{i(o)},kj.get());function u(){Or().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vj=500,Fj=600,Uj="_blank",zj="http://localhost";class Dw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bj(t,e,n,r=Vj,s=Fj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Mj),{width:r.toString(),height:s.toString(),top:i,left:o}),c=rn().toLowerCase();n&&(a=yT(c)?Uj:n),mT(c)&&(e=e||zj,u.scrollbars="yes");const h=Object.entries(u).reduce((p,[v,y])=>`${p}${v}=${y},`,"");if(d4(c)&&a!=="_self")return $j(e||"",a),new Dw(null);const m=window.open(e||"",a,h);pe(m,t,"popup-blocked");try{m.focus()}catch{}return new Dw(m)}function $j(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj="__/auth/handler",Hj="emulator/auth/handler",Wj=encodeURIComponent("fac");async function Lw(t,e,n,r,s,i){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ka,eventId:s};if(e instanceof IT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",LP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof gc){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${Wj}=${encodeURIComponent(u)}`:"";return`${Kj(t)}?${fc(a).slice(1)}${c}`}function Kj({config:t}){return t.emulator?Ky(t,Hj):`https://${t.authDomain}/${qj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="webStorageSupport";class Qj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jT,this._completeRedirectFn=vj,this._overrideRedirectResult=mj}async _openPopup(e,n,r,s){var i;ms((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Lw(e,n,r,rg(),s);return Bj(e,o,Yy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Lw(e,n,r,rg(),s);return J4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ms(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Lj(e),r=new wj(e);return n.register("authEvent",s=>(pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zp,{type:zp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[zp];o!==void 0&&n(!!o),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ET()||gT()||Gy()}}const Gj=Qj;var Mw="@firebase/auth",Vw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yj(t){ka(new so("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TT(t)},c=new y4(r,s,i,u);return I4(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ka(new so("auth-internal",e=>{const n=_o(e.getProvider("auth").getImmediate());return(r=>new Zj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(Mw,Vw,Jj(t)),oi(Mw,Vw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=5*60,eO=X2("authIdTokenMaxAge")||Xj;let Fw=null;const tO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eO)return;const s=n==null?void 0:n.token;Fw!==s&&(Fw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function nO(t=rT()){const e=qy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=b4(t,{popupRedirectResolver:Gj,persistence:[oj,Q4,jT]}),r=X2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=tO(i.toString());q4(n,o,()=>o(n.currentUser)),$4(n,a=>o(a))}}const s=J2("auth");return s&&C4(n,`http://${s}`),n}function rO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}v4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=jr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",rO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yj("Browser");var sO="firebase",iO="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(sO,iO,"app");var Uw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zi,UT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function I(){}I.prototype=_.prototype,C.D=_.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(R,O,j){for(var A=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)A[ge-2]=arguments[ge];return _.prototype[O].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,_,I){I||(I=0);var R=Array(16);if(typeof _=="string")for(var O=0;16>O;++O)R[O]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(O=0;16>O;++O)R[O]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=C.g[0],I=C.g[1],O=C.g[2];var j=C.g[3],A=_+(j^I&(O^j))+R[0]+3614090360&4294967295;_=I+(A<<7&4294967295|A>>>25),A=j+(O^_&(I^O))+R[1]+3905402710&4294967295,j=_+(A<<12&4294967295|A>>>20),A=O+(I^j&(_^I))+R[2]+606105819&4294967295,O=j+(A<<17&4294967295|A>>>15),A=I+(_^O&(j^_))+R[3]+3250441966&4294967295,I=O+(A<<22&4294967295|A>>>10),A=_+(j^I&(O^j))+R[4]+4118548399&4294967295,_=I+(A<<7&4294967295|A>>>25),A=j+(O^_&(I^O))+R[5]+1200080426&4294967295,j=_+(A<<12&4294967295|A>>>20),A=O+(I^j&(_^I))+R[6]+2821735955&4294967295,O=j+(A<<17&4294967295|A>>>15),A=I+(_^O&(j^_))+R[7]+4249261313&4294967295,I=O+(A<<22&4294967295|A>>>10),A=_+(j^I&(O^j))+R[8]+1770035416&4294967295,_=I+(A<<7&4294967295|A>>>25),A=j+(O^_&(I^O))+R[9]+2336552879&4294967295,j=_+(A<<12&4294967295|A>>>20),A=O+(I^j&(_^I))+R[10]+4294925233&4294967295,O=j+(A<<17&4294967295|A>>>15),A=I+(_^O&(j^_))+R[11]+2304563134&4294967295,I=O+(A<<22&4294967295|A>>>10),A=_+(j^I&(O^j))+R[12]+1804603682&4294967295,_=I+(A<<7&4294967295|A>>>25),A=j+(O^_&(I^O))+R[13]+4254626195&4294967295,j=_+(A<<12&4294967295|A>>>20),A=O+(I^j&(_^I))+R[14]+2792965006&4294967295,O=j+(A<<17&4294967295|A>>>15),A=I+(_^O&(j^_))+R[15]+1236535329&4294967295,I=O+(A<<22&4294967295|A>>>10),A=_+(O^j&(I^O))+R[1]+4129170786&4294967295,_=I+(A<<5&4294967295|A>>>27),A=j+(I^O&(_^I))+R[6]+3225465664&4294967295,j=_+(A<<9&4294967295|A>>>23),A=O+(_^I&(j^_))+R[11]+643717713&4294967295,O=j+(A<<14&4294967295|A>>>18),A=I+(j^_&(O^j))+R[0]+3921069994&4294967295,I=O+(A<<20&4294967295|A>>>12),A=_+(O^j&(I^O))+R[5]+3593408605&4294967295,_=I+(A<<5&4294967295|A>>>27),A=j+(I^O&(_^I))+R[10]+38016083&4294967295,j=_+(A<<9&4294967295|A>>>23),A=O+(_^I&(j^_))+R[15]+3634488961&4294967295,O=j+(A<<14&4294967295|A>>>18),A=I+(j^_&(O^j))+R[4]+3889429448&4294967295,I=O+(A<<20&4294967295|A>>>12),A=_+(O^j&(I^O))+R[9]+568446438&4294967295,_=I+(A<<5&4294967295|A>>>27),A=j+(I^O&(_^I))+R[14]+3275163606&4294967295,j=_+(A<<9&4294967295|A>>>23),A=O+(_^I&(j^_))+R[3]+4107603335&4294967295,O=j+(A<<14&4294967295|A>>>18),A=I+(j^_&(O^j))+R[8]+1163531501&4294967295,I=O+(A<<20&4294967295|A>>>12),A=_+(O^j&(I^O))+R[13]+2850285829&4294967295,_=I+(A<<5&4294967295|A>>>27),A=j+(I^O&(_^I))+R[2]+4243563512&4294967295,j=_+(A<<9&4294967295|A>>>23),A=O+(_^I&(j^_))+R[7]+1735328473&4294967295,O=j+(A<<14&4294967295|A>>>18),A=I+(j^_&(O^j))+R[12]+2368359562&4294967295,I=O+(A<<20&4294967295|A>>>12),A=_+(I^O^j)+R[5]+4294588738&4294967295,_=I+(A<<4&4294967295|A>>>28),A=j+(_^I^O)+R[8]+2272392833&4294967295,j=_+(A<<11&4294967295|A>>>21),A=O+(j^_^I)+R[11]+1839030562&4294967295,O=j+(A<<16&4294967295|A>>>16),A=I+(O^j^_)+R[14]+4259657740&4294967295,I=O+(A<<23&4294967295|A>>>9),A=_+(I^O^j)+R[1]+2763975236&4294967295,_=I+(A<<4&4294967295|A>>>28),A=j+(_^I^O)+R[4]+1272893353&4294967295,j=_+(A<<11&4294967295|A>>>21),A=O+(j^_^I)+R[7]+4139469664&4294967295,O=j+(A<<16&4294967295|A>>>16),A=I+(O^j^_)+R[10]+3200236656&4294967295,I=O+(A<<23&4294967295|A>>>9),A=_+(I^O^j)+R[13]+681279174&4294967295,_=I+(A<<4&4294967295|A>>>28),A=j+(_^I^O)+R[0]+3936430074&4294967295,j=_+(A<<11&4294967295|A>>>21),A=O+(j^_^I)+R[3]+3572445317&4294967295,O=j+(A<<16&4294967295|A>>>16),A=I+(O^j^_)+R[6]+76029189&4294967295,I=O+(A<<23&4294967295|A>>>9),A=_+(I^O^j)+R[9]+3654602809&4294967295,_=I+(A<<4&4294967295|A>>>28),A=j+(_^I^O)+R[12]+3873151461&4294967295,j=_+(A<<11&4294967295|A>>>21),A=O+(j^_^I)+R[15]+530742520&4294967295,O=j+(A<<16&4294967295|A>>>16),A=I+(O^j^_)+R[2]+3299628645&4294967295,I=O+(A<<23&4294967295|A>>>9),A=_+(O^(I|~j))+R[0]+4096336452&4294967295,_=I+(A<<6&4294967295|A>>>26),A=j+(I^(_|~O))+R[7]+1126891415&4294967295,j=_+(A<<10&4294967295|A>>>22),A=O+(_^(j|~I))+R[14]+2878612391&4294967295,O=j+(A<<15&4294967295|A>>>17),A=I+(j^(O|~_))+R[5]+4237533241&4294967295,I=O+(A<<21&4294967295|A>>>11),A=_+(O^(I|~j))+R[12]+1700485571&4294967295,_=I+(A<<6&4294967295|A>>>26),A=j+(I^(_|~O))+R[3]+2399980690&4294967295,j=_+(A<<10&4294967295|A>>>22),A=O+(_^(j|~I))+R[10]+4293915773&4294967295,O=j+(A<<15&4294967295|A>>>17),A=I+(j^(O|~_))+R[1]+2240044497&4294967295,I=O+(A<<21&4294967295|A>>>11),A=_+(O^(I|~j))+R[8]+1873313359&4294967295,_=I+(A<<6&4294967295|A>>>26),A=j+(I^(_|~O))+R[15]+4264355552&4294967295,j=_+(A<<10&4294967295|A>>>22),A=O+(_^(j|~I))+R[6]+2734768916&4294967295,O=j+(A<<15&4294967295|A>>>17),A=I+(j^(O|~_))+R[13]+1309151649&4294967295,I=O+(A<<21&4294967295|A>>>11),A=_+(O^(I|~j))+R[4]+4149444226&4294967295,_=I+(A<<6&4294967295|A>>>26),A=j+(I^(_|~O))+R[11]+3174756917&4294967295,j=_+(A<<10&4294967295|A>>>22),A=O+(_^(j|~I))+R[2]+718787259&4294967295,O=j+(A<<15&4294967295|A>>>17),A=I+(j^(O|~_))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var I=_-this.blockSize,R=this.B,O=this.h,j=0;j<_;){if(O==0)for(;j<=I;)s(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<_;)if(R[O++]=C.charCodeAt(j++),O==this.blockSize){s(this,R),O=0;break}}else for(;j<_;)if(R[O++]=C[j++],O==this.blockSize){s(this,R),O=0;break}}this.h=O,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var I=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=I&255,I/=256;for(this.u(C),C=Array(16),_=I=0;4>_;++_)for(var R=0;32>R;R+=8)C[I++]=this.g[_]>>>R&255;return C};function i(C,_){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=_(C)}function o(C,_){this.h=_;for(var I=[],R=!0,O=C.length-1;0<=O;O--){var j=C[O]|0;R&&j==_||(I[O]=j,R=!1)}this.g=I}var a={};function u(C){return-128<=C&&128>C?i(C,function(_){return new o([_|0],0>_?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return m;if(0>C)return P(c(-C));for(var _=[],I=1,R=0;C>=I;R++)_[R]=C/I|0,I*=4294967296;return new o(_,0)}function h(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return P(h(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(_,8)),R=m,O=0;O<C.length;O+=8){var j=Math.min(8,C.length-O),A=parseInt(C.substring(O,O+j),_);8>j?(j=c(Math.pow(_,j)),R=R.j(j).add(c(A))):(R=R.j(I),R=R.add(c(A)))}return R}var m=u(0),p=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(b(this))return-P(this).m();for(var C=0,_=1,I=0;I<this.g.length;I++){var R=this.i(I);C+=(0<=R?R:4294967296+R)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(y(this))return"0";if(b(this))return"-"+P(this).toString(C);for(var _=c(Math.pow(C,6)),I=this,R="";;){var O=D(I,_).g;I=E(I,O.j(_));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=O,y(I))return j+R;for(;6>j.length;)j="0"+j;R=j+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function y(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function b(C){return C.h==-1}t.l=function(C){return C=E(this,C),b(C)?-1:y(C)?0:1};function P(C){for(var _=C.g.length,I=[],R=0;R<_;R++)I[R]=~C.g[R];return new o(I,~C.h).add(p)}t.abs=function(){return b(this)?P(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],R=0,O=0;O<=_;O++){var j=R+(this.i(O)&65535)+(C.i(O)&65535),A=(j>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);R=A>>>16,j&=65535,A&=65535,I[O]=A<<16|j}return new o(I,I[I.length-1]&-2147483648?-1:0)};function E(C,_){return C.add(P(_))}t.j=function(C){if(y(this)||y(C))return m;if(b(this))return b(C)?P(this).j(P(C)):P(P(this).j(C));if(b(C))return P(this.j(P(C)));if(0>this.l(v)&&0>C.l(v))return c(this.m()*C.m());for(var _=this.g.length+C.g.length,I=[],R=0;R<2*_;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var O=0;O<C.g.length;O++){var j=this.i(R)>>>16,A=this.i(R)&65535,ge=C.i(O)>>>16,Ve=C.i(O)&65535;I[2*R+2*O]+=A*Ve,w(I,2*R+2*O),I[2*R+2*O+1]+=j*Ve,w(I,2*R+2*O+1),I[2*R+2*O+1]+=A*ge,w(I,2*R+2*O+1),I[2*R+2*O+2]+=j*ge,w(I,2*R+2*O+2)}for(R=0;R<_;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=_;R<2*_;R++)I[R]=0;return new o(I,0)};function w(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function S(C,_){this.g=C,this.h=_}function D(C,_){if(y(_))throw Error("division by zero");if(y(C))return new S(m,m);if(b(C))return _=D(P(C),_),new S(P(_.g),P(_.h));if(b(_))return _=D(C,P(_)),new S(P(_.g),_.h);if(30<C.g.length){if(b(C)||b(_))throw Error("slowDivide_ only works with positive integers.");for(var I=p,R=_;0>=R.l(C);)I=V(I),R=V(R);var O=q(I,1),j=q(R,1);for(R=q(R,2),I=q(I,2);!y(R);){var A=j.add(R);0>=A.l(C)&&(O=O.add(I),j=A),R=q(R,1),I=q(I,1)}return _=E(C,O.j(_)),new S(O,_)}for(O=m;0<=C.l(_);){for(I=Math.max(1,Math.floor(C.m()/_.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),j=c(I),A=j.j(_);b(A)||0<A.l(C);)I-=R,j=c(I),A=j.j(_);y(j)&&(j=p),O=O.add(j),C=E(C,A)}return new S(O,C)}t.A=function(C){return D(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],R=0;R<_;R++)I[R]=this.i(R)&C.i(R);return new o(I,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],R=0;R<_;R++)I[R]=this.i(R)|C.i(R);return new o(I,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],R=0;R<_;R++)I[R]=this.i(R)^C.i(R);return new o(I,this.h^C.h)};function V(C){for(var _=C.g.length+1,I=[],R=0;R<_;R++)I[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(I,C.h)}function q(C,_){var I=_>>5;_%=32;for(var R=C.g.length-I,O=[],j=0;j<R;j++)O[j]=0<_?C.i(j+I)>>>_|C.i(j+I+1)<<32-_:C.i(j+I);return new o(O,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,UT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Zi=o}).apply(typeof Uw<"u"?Uw:typeof self<"u"?self:typeof window<"u"?window:{});var dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zT,BT,Vl,$T,jd,ag,qT,HT,WT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof dd=="object"&&dd];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,f){if(f)e:{var g=r;l=l.split(".");for(var T=0;T<l.length-1;T++){var M=l[T];if(!(M in g))break e;g=g[M]}l=l[l.length-1],T=g[l],f=f(T),f!=T&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function i(l,f){l instanceof String&&(l+="");var g=0,T=!1,M={next:function(){if(!T&&g<l.length){var F=g++;return{value:f(F,l[F]),done:!1}}return T=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(l){return l||function(){return i(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function c(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function h(l,f,g){return l.call.apply(l.bind,arguments)}function m(l,f,g){if(!l)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,T),l.apply(f,M)}}return function(){return l.apply(f,arguments)}}function p(l,f,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,p.apply(null,arguments)}function v(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),l.apply(this,T)}}function y(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(T,M,F){for(var Y=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)Y[$e-2]=arguments[$e];return f.prototype[M].apply(T,Y)}}function b(l){const f=l.length;if(0<f){const g=Array(f);for(let T=0;T<f;T++)g[T]=l[T];return g}return[]}function P(l,f){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(u(T)){const M=l.length||0,F=T.length||0;l.length=M+F;for(let Y=0;Y<F;Y++)l[M+Y]=T[Y]}else l.push(T)}}class E{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function w(l){return/^[\s\xa0]*$/.test(l)}function S(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function D(l){return D[" "](l),l}D[" "]=function(){};var V=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function q(l,f,g){for(const T in l)f.call(g,l[T],T,l)}function C(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function _(l){const f={};for(const g in l)f[g]=l[g];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,f){let g,T;for(let M=1;M<arguments.length;M++){T=arguments[M];for(g in T)l[g]=T[g];for(let F=0;F<I.length;F++)g=I[F],Object.prototype.hasOwnProperty.call(T,g)&&(l[g]=T[g])}}function O(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function j(l){a.setTimeout(()=>{throw l},0)}function A(){var l=de;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class ge{constructor(){this.h=this.g=null}add(f,g){const T=Ve.get();T.set(f,g),this.h?this.h.next=T:this.g=T,this.h=T}}var Ve=new E(()=>new vt,l=>l.reset());class vt{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Ye,J=!1,de=new ge,he=()=>{const l=a.Promise.resolve(void 0);Ye=()=>{l.then(Ue)}};var Ue=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(g){j(g)}var f=Ve;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}J=!1};function Oe(){this.s=this.s,this.C=this.C}Oe.prototype.s=!1,Oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ke(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}Ke.prototype.h=function(){this.defaultPrevented=!0};var gn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function kt(l,f){if(Ke.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,T=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(V){e:{try{D(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:$t[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&kt.aa.h.call(this)}}y(kt,Ke);var $t={2:"touch",3:"pen",4:"mouse"};kt.prototype.h=function(){kt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),$r=0;function xs(l,f,g,T,M){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!T,this.ha=M,this.key=++$r,this.da=this.fa=!1}function Zn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function vr(l){this.src=l,this.g={},this.h=0}vr.prototype.add=function(l,f,g,T,M){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var Y=qr(l,f,T,M);return-1<Y?(f=l[Y],g||(f.fa=!1)):(f=new xs(f,this.src,F,!!T,M),f.fa=g,l.push(f)),f};function Si(l,f){var g=f.type;if(g in l.g){var T=l.g[g],M=Array.prototype.indexOf.call(T,f,void 0),F;(F=0<=M)&&Array.prototype.splice.call(T,M,1),F&&(Zn(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function qr(l,f,g,T){for(var M=0;M<l.length;++M){var F=l[M];if(!F.da&&F.listener==f&&F.capture==!!g&&F.ha==T)return M}return-1}var _r="closure_lm_"+(1e6*Math.random()|0),So={};function tl(l,f,g,T,M){if(Array.isArray(f)){for(var F=0;F<f.length;F++)tl(l,f[F],g,T,M);return null}return g=ie(g),l&&l[qt]?l.K(f,g,c(T)?!!T.capture:!!T,M):nl(l,f,g,!1,T,M)}function nl(l,f,g,T,M,F){if(!f)throw Error("Invalid event type");var Y=c(M)?!!M.capture:!!M,$e=B(l);if($e||(l[_r]=$e=new vr(l)),g=$e.add(f,g,T,Y,F),g.proxy)return g;if(T=x(),g.proxy=T,T.src=l,T.listener=g,l.addEventListener)gn||(M=Y),M===void 0&&(M=!1),l.addEventListener(f.toString(),T,M);else if(l.attachEvent)l.attachEvent(H(f.toString()),T);else if(l.addListener&&l.removeListener)l.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function x(){function l(g){return f.call(l.src,l.listener,g)}const f=$;return l}function k(l,f,g,T,M){if(Array.isArray(f))for(var F=0;F<f.length;F++)k(l,f[F],g,T,M);else T=c(T)?!!T.capture:!!T,g=ie(g),l&&l[qt]?(l=l.i,f=String(f).toString(),f in l.g&&(F=l.g[f],g=qr(F,g,T,M),-1<g&&(Zn(F[g]),Array.prototype.splice.call(F,g,1),F.length==0&&(delete l.g[f],l.h--)))):l&&(l=B(l))&&(f=l.g[f.toString()],l=-1,f&&(l=qr(f,g,T,M)),(g=-1<l?f[l]:null)&&N(g))}function N(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[qt])Si(f.i,l);else{var g=l.type,T=l.proxy;f.removeEventListener?f.removeEventListener(g,T,l.capture):f.detachEvent?f.detachEvent(H(g),T):f.addListener&&f.removeListener&&f.removeListener(T),(g=B(f))?(Si(g,l),g.h==0&&(g.src=null,f[_r]=null)):Zn(l)}}}function H(l){return l in So?So[l]:So[l]="on"+l}function $(l,f){if(l.da)l=!0;else{f=new kt(f,this);var g=l.listener,T=l.ha||l.src;l.fa&&N(l),l=g.call(T,f)}return l}function B(l){return l=l[_r],l instanceof vr?l:null}var Q="__closure_events_fn_"+(1e9*Math.random()>>>0);function ie(l){return typeof l=="function"?l:(l[Q]||(l[Q]=function(f){return l.handleEvent(f)}),l[Q])}function ne(){Oe.call(this),this.i=new vr(this),this.M=this,this.F=null}y(ne,Oe),ne.prototype[qt]=!0,ne.prototype.removeEventListener=function(l,f,g,T){k(this,l,f,g,T)};function le(l,f){var g,T=l.F;if(T)for(g=[];T;T=T.F)g.push(T);if(l=l.M,T=f.type||f,typeof f=="string")f=new Ke(f,l);else if(f instanceof Ke)f.target=f.target||l;else{var M=f;f=new Ke(T,l),R(f,M)}if(M=!0,g)for(var F=g.length-1;0<=F;F--){var Y=f.g=g[F];M=be(Y,T,!0,f)&&M}if(Y=f.g=l,M=be(Y,T,!0,f)&&M,M=be(Y,T,!1,f)&&M,g)for(F=0;F<g.length;F++)Y=f.g=g[F],M=be(Y,T,!1,f)&&M}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],T=0;T<g.length;T++)Zn(g[T]);delete l.g[f],l.h--}}this.F=null},ne.prototype.K=function(l,f,g,T){return this.i.add(String(l),f,!1,g,T)},ne.prototype.L=function(l,f,g,T){return this.i.add(String(l),f,!0,g,T)};function be(l,f,g,T){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,F=0;F<f.length;++F){var Y=f[F];if(Y&&!Y.da&&Y.capture==g){var $e=Y.listener,Nt=Y.ha||Y.src;Y.fa&&Si(l.i,Y),M=$e.call(Nt,T)!==!1&&M}}return M&&!T.defaultPrevented}function _t(l,f,g){if(typeof l=="function")g&&(l=p(l,g));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function Cn(l){l.g=_t(()=>{l.g=null,l.i&&(l.i=!1,Cn(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class on extends Oe{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Cn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yn(l){Oe.call(this),this.h=l,this.g={}}y(yn,Oe);var Hr=[];function Wr(l){q(l.g,function(f,g){this.g.hasOwnProperty(g)&&N(f)},l),l.g={}}yn.prototype.N=function(){yn.aa.N.call(this),Wr(this)},yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=a.JSON.stringify,Ht=a.JSON.parse,Wt=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function wr(){}wr.prototype.h=null;function bi(l){return l.h||(l.h=l.i())}function rl(){}var Es={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sl(){Ke.call(this,"d")}y(sl,Ke);function il(){Ke.call(this,"c")}y(il,Ke);var Pt={},xr=null;function Ii(){return xr=xr||new ne}Pt.La="serverreachability";function Pc(l){Ke.call(this,Pt.La,l)}y(Pc,Ke);function ol(l){const f=Ii();le(f,new Pc(f))}Pt.STAT_EVENT="statevent";function Qv(l,f){Ke.call(this,Pt.STAT_EVENT,l),this.stat=f}y(Qv,Ke);function an(l){const f=Ii();le(f,new Qv(f,l))}Pt.Ma="timingevent";function Gv(l,f){Ke.call(this,Pt.Ma,l),this.size=f}y(Gv,Ke);function al(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function ll(){this.g=!0}ll.prototype.xa=function(){this.g=!1};function TI(l,f,g,T,M,F){l.info(function(){if(l.g)if(F)for(var Y="",$e=F.split("&"),Nt=0;Nt<$e.length;Nt++){var De=$e[Nt].split("=");if(1<De.length){var Kt=De[0];De=De[1];var Qt=Kt.split("_");Y=2<=Qt.length&&Qt[1]=="type"?Y+(Kt+"="+De+"&"):Y+(Kt+"=redacted&")}}else Y=null;else Y=F;return"XMLHTTP REQ ("+T+") [attempt "+M+"]: "+f+`
`+g+`
`+Y})}function SI(l,f,g,T,M,F,Y){l.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+M+"]: "+f+`
`+g+`
`+F+" "+Y})}function bo(l,f,g,T){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+II(l,g)+(T?" "+T:"")})}function bI(l,f){l.info(function(){return"TIMEOUT: "+f})}ll.prototype.info=function(){};function II(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var T=g[l];if(!(2>T.length)){var M=T[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Y=1;Y<M.length;Y++)M[Y]=""}}}}return An(g)}catch{return f}}var Nc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hf;function jc(){}y(jc,wr),jc.prototype.g=function(){return new XMLHttpRequest},jc.prototype.i=function(){return{}},Hf=new jc;function Ts(l,f,g,T){this.j=l,this.i=f,this.l=g,this.R=T||1,this.U=new yn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jv}function Jv(){this.i=null,this.g="",this.h=!1}var Yv={},Wf={};function Kf(l,f,g){l.L=1,l.v=Mc(Kr(f)),l.m=g,l.P=!0,Xv(l,null)}function Xv(l,f){l.F=Date.now(),Oc(l),l.A=Kr(l.v);var g=l.A,T=l.R;Array.isArray(T)||(T=[String(T)]),f0(g.i,"t",T),l.C=0,g=l.j.J,l.h=new Jv,l.g=P0(l.j,g?f:null,!l.m),0<l.O&&(l.M=new on(p(l.Y,l,l.g),l.O)),f=l.U,g=l.g,T=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(Hr[0]=M.toString()),M=Hr);for(var F=0;F<M.length;F++){var Y=tl(g,M[F],T||f.handleEvent,!1,f.h||f);if(!Y)break;f.g[Y.key]=Y}f=l.H?_(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),ol(),TI(l.i,l.u,l.A,l.l,l.R,l.m)}Ts.prototype.ca=function(l){l=l.target;const f=this.M;f&&Qr(l)==3?f.j():this.Y(l)},Ts.prototype.Y=function(l){try{if(l==this.g)e:{const Qt=Qr(this.g);var f=this.g.Ba();const Ao=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||w0(this.g)))){this.J||Qt!=4||f==7||(f==8||0>=Ao?ol(3):ol(2)),Qf(this);var g=this.g.Z();this.X=g;t:if(e0(this)){var T=w0(this.g);l="";var M=T.length,F=Qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ci(this),ul(this);var Y="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,l+=this.h.i.decode(T[f],{stream:!(F&&f==M-1)});T.length=0,this.h.g+=l,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=g==200,SI(this.i,this.u,this.A,this.l,this.R,Qt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Nt=this.g;if(($e=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w($e)){var De=$e;break t}}De=null}if(g=De)bo(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gf(this,g);else{this.o=!1,this.s=3,an(12),Ci(this),ul(this);break e}}if(this.P){g=!0;let Jn;for(;!this.J&&this.C<Y.length;)if(Jn=CI(this,Y),Jn==Wf){Qt==4&&(this.s=4,an(14),g=!1),bo(this.i,this.l,null,"[Incomplete Response]");break}else if(Jn==Yv){this.s=4,an(15),bo(this.i,this.l,Y,"[Invalid Chunk]"),g=!1;break}else bo(this.i,this.l,Jn,null),Gf(this,Jn);if(e0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||Y.length!=0||this.h.h||(this.s=1,an(16),g=!1),this.o=this.o&&g,!g)bo(this.i,this.l,Y,"[Invalid Chunked Response]"),Ci(this),ul(this);else if(0<Y.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),tp(Kt),Kt.M=!0,an(11))}}else bo(this.i,this.l,Y,null),Gf(this,Y);Qt==4&&Ci(this),this.o&&!this.J&&(Qt==4?C0(this.j,this):(this.o=!1,Oc(this)))}else qI(this.g),g==400&&0<Y.indexOf("Unknown SID")?(this.s=3,an(12)):(this.s=0,an(13)),Ci(this),ul(this)}}}catch{}finally{}};function e0(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function CI(l,f){var g=l.C,T=f.indexOf(`
`,g);return T==-1?Wf:(g=Number(f.substring(g,T)),isNaN(g)?Yv:(T+=1,T+g>f.length?Wf:(f=f.slice(T,T+g),l.C=T+g,f)))}Ts.prototype.cancel=function(){this.J=!0,Ci(this)};function Oc(l){l.S=Date.now()+l.I,t0(l,l.I)}function t0(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=al(p(l.ba,l),f)}function Qf(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Ts.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(bI(this.i,this.A),this.L!=2&&(ol(),an(17)),Ci(this),this.s=2,ul(this)):t0(this,this.S-l)};function ul(l){l.j.G==0||l.J||C0(l.j,l)}function Ci(l){Qf(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Wr(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Gf(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Zf(g.h,l))){if(!l.K&&Zf(g.h,l)&&g.G==3){try{var T=g.Da.g.parse(f)}catch{T=null}if(Array.isArray(T)&&T.length==3){var M=T;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Bc(g),Uc(g);else break e;ep(g),an(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=al(p(g.Za,g),6e3));if(1>=s0(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ri(g,11)}else if((l.K||g.g==l)&&Bc(g),!w(f))for(M=g.Da.g.parse(f),f=0;f<M.length;f++){let De=M[f];if(g.T=De[0],De=De[1],g.G==2)if(De[0]=="c"){g.K=De[1],g.ia=De[2];const Kt=De[3];Kt!=null&&(g.la=Kt,g.j.info("VER="+g.la));const Qt=De[4];Qt!=null&&(g.Aa=Qt,g.j.info("SVER="+g.Aa));const Ao=De[5];Ao!=null&&typeof Ao=="number"&&0<Ao&&(T=1.5*Ao,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Jn=l.g;if(Jn){const qc=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qc){var F=T.h;F.g||qc.indexOf("spdy")==-1&&qc.indexOf("quic")==-1&&qc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Jf(F,F.h),F.h=null))}if(T.D){const np=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;np&&(T.ya=np,Qe(T.I,T.D,np))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var Y=l;if(T.qa=k0(T,T.J?T.ia:null,T.W),Y.K){i0(T.h,Y);var $e=Y,Nt=T.L;Nt&&($e.I=Nt),$e.B&&(Qf($e),Oc($e)),T.g=Y}else b0(T);0<g.i.length&&zc(g)}else De[0]!="stop"&&De[0]!="close"||Ri(g,7);else g.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Ri(g,7):Xf(g):De[0]!="noop"&&g.l&&g.l.ta(De),g.v=0)}}ol(4)}catch{}}var AI=class{constructor(l,f){this.g=l,this.map=f}};function n0(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function r0(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function s0(l){return l.h?1:l.g?l.g.size:0}function Zf(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Jf(l,f){l.g?l.g.add(f):l.h=f}function i0(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}n0.prototype.cancel=function(){if(this.i=o0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function o0(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return b(l.i)}function RI(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],g=l.length,T=0;T<g;T++)f.push(l[T]);return f}f=[],g=0;for(T in l)f[g++]=l[T];return f}function kI(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const T in l)f[g++]=T;return f}}}function a0(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=kI(l),T=RI(l),M=T.length,F=0;F<M;F++)f.call(void 0,T[F],g&&g[F],l)}var l0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PI(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var T=l[g].indexOf("="),M=null;if(0<=T){var F=l[g].substring(0,T);M=l[g].substring(T+1)}else F=l[g];f(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Ai(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ai){this.h=l.h,Dc(this,l.j),this.o=l.o,this.g=l.g,Lc(this,l.s),this.l=l.l;var f=l.i,g=new hl;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),u0(this,g),this.m=l.m}else l&&(f=String(l).match(l0))?(this.h=!1,Dc(this,f[1]||"",!0),this.o=cl(f[2]||""),this.g=cl(f[3]||"",!0),Lc(this,f[4]),this.l=cl(f[5]||"",!0),u0(this,f[6]||"",!0),this.m=cl(f[7]||"")):(this.h=!1,this.i=new hl(null,this.h))}Ai.prototype.toString=function(){var l=[],f=this.j;f&&l.push(dl(f,c0,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(dl(f,c0,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(dl(g,g.charAt(0)=="/"?OI:jI,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",dl(g,LI)),l.join("")};function Kr(l){return new Ai(l)}function Dc(l,f,g){l.j=g?cl(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Lc(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function u0(l,f,g){f instanceof hl?(l.i=f,MI(l.i,l.h)):(g||(f=dl(f,DI)),l.i=new hl(f,l.h))}function Qe(l,f,g){l.i.set(f,g)}function Mc(l){return Qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function cl(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function dl(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,NI),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function NI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var c0=/[#\/\?@]/g,jI=/[#\?:]/g,OI=/[#\?]/g,DI=/[#\?@]/g,LI=/#/g;function hl(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Ss(l){l.g||(l.g=new Map,l.h=0,l.i&&PI(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=hl.prototype,t.add=function(l,f){Ss(this),this.i=null,l=Io(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function d0(l,f){Ss(l),f=Io(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function h0(l,f){return Ss(l),f=Io(l,f),l.g.has(f)}t.forEach=function(l,f){Ss(this),this.g.forEach(function(g,T){g.forEach(function(M){l.call(f,M,T,this)},this)},this)},t.na=function(){Ss(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let T=0;T<f.length;T++){const M=l[T];for(let F=0;F<M.length;F++)g.push(f[T])}return g},t.V=function(l){Ss(this);let f=[];if(typeof l=="string")h0(this,l)&&(f=f.concat(this.g.get(Io(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},t.set=function(l,f){return Ss(this),this.i=null,l=Io(this,l),h0(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function f0(l,f,g){d0(l,f),0<g.length&&(l.i=null,l.g.set(Io(l,f),b(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var T=f[g];const F=encodeURIComponent(String(T)),Y=this.V(T);for(T=0;T<Y.length;T++){var M=F;Y[T]!==""&&(M+="="+encodeURIComponent(String(Y[T]))),l.push(M)}}return this.i=l.join("&")};function Io(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function MI(l,f){f&&!l.j&&(Ss(l),l.i=null,l.g.forEach(function(g,T){var M=T.toLowerCase();T!=M&&(d0(this,T),f0(this,M,g))},l)),l.j=f}function VI(l,f){const g=new ll;if(a.Image){const T=new Image;T.onload=v(bs,g,"TestLoadImage: loaded",!0,f,T),T.onerror=v(bs,g,"TestLoadImage: error",!1,f,T),T.onabort=v(bs,g,"TestLoadImage: abort",!1,f,T),T.ontimeout=v(bs,g,"TestLoadImage: timeout",!1,f,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=l}else f(!1)}function FI(l,f){const g=new ll,T=new AbortController,M=setTimeout(()=>{T.abort(),bs(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:T.signal}).then(F=>{clearTimeout(M),F.ok?bs(g,"TestPingServer: ok",!0,f):bs(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),bs(g,"TestPingServer: error",!1,f)})}function bs(l,f,g,T,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),T(g)}catch{}}function UI(){this.g=new Wt}function zI(l,f,g){const T=g||"";try{a0(l,function(M,F){let Y=M;c(M)&&(Y=An(M)),f.push(T+F+"="+encodeURIComponent(Y))})}catch(M){throw f.push(T+"type="+encodeURIComponent("_badmap")),M}}function fl(l){this.l=l.Ub||null,this.j=l.eb||!1}y(fl,wr),fl.prototype.g=function(){return new Vc(this.l,this.j)},fl.prototype.i=function(l){return function(){return l}}({});function Vc(l,f){ne.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Vc,ne),t=Vc.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,ml(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pl(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ml(this)),this.g&&(this.readyState=3,ml(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;p0(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function p0(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?pl(this):ml(this),this.readyState==3&&p0(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,pl(this))},t.Qa=function(l){this.g&&(this.response=l,pl(this))},t.ga=function(){this.g&&pl(this)};function pl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ml(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function ml(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Vc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function m0(l){let f="";return q(l,function(g,T){f+=T,f+=":",f+=g,f+=`\r
`}),f}function Yf(l,f,g){e:{for(T in g){var T=!1;break e}T=!0}T||(g=m0(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Qe(l,f,g))}function ot(l){ne.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(ot,ne);var BI=/^https?$/i,$I=["POST","PUT"];t=ot.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hf.g(),this.v=this.o?bi(this.o):bi(Hf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(F){g0(this,F);return}if(l=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var M in T)g.set(M,T[M]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const F of T.keys())g.set(F,T.get(F));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call($I,f,void 0))||T||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Y]of g)this.g.setRequestHeader(F,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_0(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){g0(this,F)}};function g0(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,y0(l),Fc(l)}function y0(l){l.A||(l.A=!0,le(l,"complete"),le(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,le(this,"complete"),le(this,"abort"),Fc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fc(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?v0(this):this.bb())},t.bb=function(){v0(this)};function v0(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Qr(l)!=4||l.Z()!=2)){if(l.u&&Qr(l)==4)_t(l.Ea,0,l);else if(le(l,"readystatechange"),Qr(l)==4){l.h=!1;try{const Y=l.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var T;if(T=Y===0){var M=String(l.D).match(l0)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),T=!BI.test(M?M.toLowerCase():"")}g=T}if(g)le(l,"complete"),le(l,"success");else{l.m=6;try{var F=2<Qr(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",y0(l)}}finally{Fc(l)}}}}function Fc(l,f){if(l.g){_0(l);const g=l.g,T=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||le(l,"ready");try{g.onreadystatechange=T}catch{}}}function _0(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Qr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Ht(f)}};function w0(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function qI(l){const f={};l=(l.g&&2<=Qr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<l.length;T++){if(w(l[T]))continue;var g=O(l[T]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const F=f[M]||[];f[M]=F,F.push(g)}C(f,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gl(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function x0(l){this.Aa=0,this.i=[],this.j=new ll,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gl("baseRetryDelayMs",5e3,l),this.cb=gl("retryDelaySeedMs",1e4,l),this.Wa=gl("forwardChannelMaxRetries",2,l),this.wa=gl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new n0(l&&l.concurrentRequestLimit),this.Da=new UI,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=x0.prototype,t.la=8,t.G=1,t.connect=function(l,f,g,T){an(0),this.W=l,this.H=f||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=k0(this,null,this.W),zc(this)};function Xf(l){if(E0(l),l.G==3){var f=l.U++,g=Kr(l.I);if(Qe(g,"SID",l.K),Qe(g,"RID",f),Qe(g,"TYPE","terminate"),yl(l,g),f=new Ts(l,l.j,f),f.L=2,f.v=Mc(Kr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=P0(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Oc(f)}R0(l)}function Uc(l){l.g&&(tp(l),l.g.cancel(),l.g=null)}function E0(l){Uc(l),l.u&&(a.clearTimeout(l.u),l.u=null),Bc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function zc(l){if(!r0(l.h)&&!l.s){l.s=!0;var f=l.Ga;Ye||he(),J||(Ye(),J=!0),de.add(f,l),l.B=0}}function HI(l,f){return s0(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=al(p(l.Ga,l,f),A0(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Ts(this,this.j,l);let F=this.o;if(this.S&&(F?(F=_(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(f+=T,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=S0(this,M,f),g=Kr(this.I),Qe(g,"RID",l),Qe(g,"CVER",22),this.D&&Qe(g,"X-HTTP-Session-Id",this.D),yl(this,g),F&&(this.O?f="headers="+encodeURIComponent(String(m0(F)))+"&"+f:this.m&&Yf(g,this.m,F)),Jf(this.h,M),this.Ua&&Qe(g,"TYPE","init"),this.P?(Qe(g,"$req",f),Qe(g,"SID","null"),M.T=!0,Kf(M,g,null)):Kf(M,g,f),this.G=2}}else this.G==3&&(l?T0(this,l):this.i.length==0||r0(this.h)||T0(this))};function T0(l,f){var g;f?g=f.l:g=l.U++;const T=Kr(l.I);Qe(T,"SID",l.K),Qe(T,"RID",g),Qe(T,"AID",l.T),yl(l,T),l.m&&l.o&&Yf(T,l.m,l.o),g=new Ts(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=S0(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Jf(l.h,g),Kf(g,T,f)}function yl(l,f){l.H&&q(l.H,function(g,T){Qe(f,T,g)}),l.l&&a0({},function(g,T){Qe(f,T,g)})}function S0(l,f,g){g=Math.min(l.i.length,g);var T=l.l?p(l.l.Na,l.l,l):null;e:{var M=l.i;let F=-1;for(;;){const Y=["count="+g];F==-1?0<g?(F=M[0].g,Y.push("ofs="+F)):F=0:Y.push("ofs="+F);let $e=!0;for(let Nt=0;Nt<g;Nt++){let De=M[Nt].g;const Kt=M[Nt].map;if(De-=F,0>De)F=Math.max(0,M[Nt].g-100),$e=!1;else try{zI(Kt,Y,"req"+De+"_")}catch{T&&T(Kt)}}if($e){T=Y.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,T}function b0(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Ye||he(),J||(Ye(),J=!0),de.add(f,l),l.v=0}}function ep(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=al(p(l.Fa,l),A0(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,I0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=al(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,an(10),Uc(this),I0(this))};function tp(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function I0(l){l.g=new Ts(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Kr(l.qa);Qe(f,"RID","rpc"),Qe(f,"SID",l.K),Qe(f,"AID",l.T),Qe(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Qe(f,"TO",l.ja),Qe(f,"TYPE","xmlhttp"),yl(l,f),l.m&&l.o&&Yf(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Mc(Kr(f)),g.m=null,g.P=!0,Xv(g,l)}t.Za=function(){this.C!=null&&(this.C=null,Uc(this),ep(this),an(19))};function Bc(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function C0(l,f){var g=null;if(l.g==f){Bc(l),tp(l),l.g=null;var T=2}else if(Zf(l.h,f))g=f.D,i0(l.h,f),T=1;else return;if(l.G!=0){if(f.o)if(T==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var M=l.B;T=Ii(),le(T,new Gv(T,g)),zc(l)}else b0(l);else if(M=f.s,M==3||M==0&&0<f.X||!(T==1&&HI(l,f)||T==2&&ep(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),M){case 1:Ri(l,5);break;case 4:Ri(l,10);break;case 3:Ri(l,6);break;default:Ri(l,2)}}}function A0(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function Ri(l,f){if(l.j.info("Error code "+f),f==2){var g=p(l.fb,l),T=l.Xa;const M=!T;T=new Ai(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Dc(T,"https"),Mc(T),M?VI(T.toString(),g):FI(T.toString(),g)}else an(2);l.G=0,l.l&&l.l.sa(f),R0(l),E0(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function R0(l){if(l.G=0,l.ka=[],l.l){const f=o0(l.h);(f.length!=0||l.i.length!=0)&&(P(l.ka,f),P(l.ka,l.i),l.h.i.length=0,b(l.i),l.i.length=0),l.l.ra()}}function k0(l,f,g){var T=g instanceof Ai?Kr(g):new Ai(g);if(T.g!="")f&&(T.g=f+"."+T.g),Lc(T,T.s);else{var M=a.location;T=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var F=new Ai(null);T&&Dc(F,T),f&&(F.g=f),M&&Lc(F,M),g&&(F.l=g),T=F}return g=l.D,f=l.ya,g&&f&&Qe(T,g,f),Qe(T,"VER",l.la),yl(l,T),T}function P0(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new ot(new fl({eb:g})):new ot(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function N0(){}t=N0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $c(){}$c.prototype.g=function(l,f){return new Rn(l,f)};function Rn(l,f){ne.call(this),this.g=new x0(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!w(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!w(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Co(this)}y(Rn,ne),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Xf(this.g)},Rn.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=An(l),l=g);f.i.push(new AI(f.Ya++,l)),f.G==3&&zc(f)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Xf(this.g),delete this.g,Rn.aa.N.call(this)};function j0(l){sl.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}y(j0,sl);function O0(){il.call(this),this.status=1}y(O0,il);function Co(l){this.g=l}y(Co,N0),Co.prototype.ua=function(){le(this.g,"a")},Co.prototype.ta=function(l){le(this.g,new j0(l))},Co.prototype.sa=function(l){le(this.g,new O0)},Co.prototype.ra=function(){le(this.g,"b")},$c.prototype.createWebChannel=$c.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,WT=function(){return new $c},HT=function(){return Ii()},qT=Pt,ag={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nc.NO_ERROR=0,Nc.TIMEOUT=8,Nc.HTTP_ERROR=6,jd=Nc,Zv.COMPLETE="complete",$T=Zv,rl.EventType=Es,Es.OPEN="a",Es.CLOSE="b",Es.ERROR="c",Es.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Vl=rl,BT=fl,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,zT=ot}).apply(typeof dd<"u"?dd:typeof self<"u"?self:typeof window<"u"?window:{});const zw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new By("@firebase/firestore");function Al(){return ao.logLevel}function ae(t,...e){if(ao.logLevel<=ke.DEBUG){const n=e.map(ev);ao.debug(`Firestore (${Ga}): ${t}`,...n)}}function gs(t,...e){if(ao.logLevel<=ke.ERROR){const n=e.map(ev);ao.error(`Firestore (${Ga}): ${t}`,...n)}}function Pa(t,...e){if(ao.logLevel<=ke.WARN){const n=e.map(ev);ao.warn(`Firestore (${Ga}): ${t}`,...n)}}function ev(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${Ga}) INTERNAL ASSERTION FAILED: `+t;throw gs(e),new Error(e)}function He(t,e){t||ye()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class aO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lO{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ls,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ls)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new KT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Xt(e)}}class uO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class cO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new uO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new dO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=fO(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function Na(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new bt(0,0))}static max(){return new _e(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ze extends Nu{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const pO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends Nu{construct(e,n,r){return new Vt(e,n,r)}static isValidIdentifier(e){return pO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new se(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new se(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new se(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new se(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Ze.fromString(e))}static fromName(e){return new ce(Ze.fromString(e).popFirst(5))}static empty(){return new ce(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Ze(e.slice()))}}function mO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=_e.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new hi(s,ce.empty(),e)}function gO(t){return new hi(t.readTime,t.key,-1)}class hi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hi(_e.min(),ce.empty(),-1)}static max(){return new hi(_e.max(),ce.empty(),-1)}}function yO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _O{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==vO)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(s=>s?K.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new K((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new K((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function wO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _c(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}tv.oe=-1;function vf(t){return t==null}function Sh(t){return t===0&&1/t==-1/0}function xO(t){return typeof t=="number"&&Number.isInteger(t)&&!Sh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Za(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hd(this.root,e,this.comparator,!0)}}class hd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=s??Lt.EMPTY,this.right=i??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Lt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Lt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $w(this.data.getIterator())}getIteratorFrom(e){return new $w(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class $w{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new or([])}unionWith(e){let n=new Ut(Vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Na(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ZT("Invalid base64 string: "+i):i}}(e);return new Bt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const EO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fi(t){if(He(!!t),typeof t=="string"){let e=0;const n=EO.exec(t);if(He(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lo(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rv(t){const e=t.mapValue.fields.__previous_value__;return nv(e)?rv(e):e}function ju(t){const e=fi(t.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n,r,s,i,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ou{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ou("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nv(t)?4:bO(t)?9007199254740991:SO(t)?10:11:ye()}function Fr(t,e){if(t===e)return!0;const n=uo(t);if(n!==uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ju(t).isEqual(ju(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=fi(s.timestampValue),a=fi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return lo(s.bytesValue).isEqual(lo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ht(s.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ht(s.integerValue)===ht(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ht(s.doubleValue),a=ht(i.doubleValue);return o===a?Sh(o)===Sh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Na(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Bw(o)!==Bw(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Fr(o[u],a[u])))return!1;return!0}(t,e);default:return ye()}}function Du(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function ja(t,e){if(t===e)return 0;const n=uo(t),r=uo(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ht(i.integerValue||i.doubleValue),u=ht(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return qw(t.timestampValue,e.timestampValue);case 4:return qw(ju(t),ju(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(i,o){const a=lo(i),u=lo(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=Le(a[c],u[c]);if(h!==0)return h}return Le(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Le(ht(i.latitude),ht(o.latitude));return a!==0?a:Le(ht(i.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Hw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,h;const m=i.fields||{},p=o.fields||{},v=(a=m.value)===null||a===void 0?void 0:a.arrayValue,y=(u=p.value)===null||u===void 0?void 0:u.arrayValue,b=Le(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0);return b!==0?b:Hw(v,y)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===fd.mapValue&&o===fd.mapValue)return 0;if(i===fd.mapValue)return 1;if(o===fd.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let m=0;m<u.length&&m<h.length;++m){const p=Le(u[m],h[m]);if(p!==0)return p;const v=ja(a[u[m]],c[h[m]]);if(v!==0)return v}return Le(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ye()}}function qw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=fi(t),r=fi(e),s=Le(n.seconds,r.seconds);return s!==0?s:Le(n.nanos,r.nanos)}function Hw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ja(n[s],r[s]);if(i)return i}return Le(n.length,r.length)}function Oa(t){return lg(t)}function lg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return lo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=lg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${lg(n.fields[o])}`;return s+"}"}(t.mapValue):ye()}function Ww(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ug(t){return!!t&&"integerValue"in t}function sv(t){return!!t&&"arrayValue"in t}function Kw(t){return!!t&&"nullValue"in t}function Qw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Od(t){return!!t&&"mapValue"in t}function SO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function nu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Za(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Od(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=Vt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=nu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Od(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Od(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Za(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Hn(nu(this.value))}}function JT(t){const e=[];return Za(t.fields,(n,r)=>{const s=new Vt([n]);if(Od(r)){const i=JT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new tn(e,0,_e.min(),_e.min(),_e.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,s){return new tn(e,1,n,_e.min(),r,s,0)}static newNoDocument(e,n){return new tn(e,2,n,_e.min(),_e.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,_e.min(),_e.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.position=e,this.inclusive=n}}function Gw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ce.comparator(ce.fromName(o.referenceValue),n.key):r=ja(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n="asc"){this.field=e,this.dir=n}}function IO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{}class gt extends YT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AO(e,n,r):n==="array-contains"?new PO(e,r):n==="in"?new NO(e,r):n==="not-in"?new jO(e,r):n==="array-contains-any"?new OO(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RO(e,r):new kO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ja(n,this.value)):n!==null&&uo(this.value)===uo(n)&&this.matchesComparison(ja(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends YT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new pr(e,n)}matches(e){return XT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function XT(t){return t.op==="and"}function eS(t){return CO(t)&&XT(t)}function CO(t){for(const e of t.filters)if(e instanceof pr)return!1;return!0}function cg(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+Oa(t.value);if(eS(t))return t.filters.map(e=>cg(e)).join(",");{const e=t.filters.map(n=>cg(n)).join(",");return`${t.op}(${e})`}}function tS(t,e){return t instanceof gt?function(r,s){return s instanceof gt&&r.op===s.op&&r.field.isEqual(s.field)&&Fr(r.value,s.value)}(t,e):t instanceof pr?function(r,s){return s instanceof pr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&tS(o,s.filters[a]),!0):!1}(t,e):void ye()}function nS(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${Oa(n.value)}`}(t):t instanceof pr?function(n){return n.op.toString()+" {"+n.getFilters().map(nS).join(" ,")+"}"}(t):"Filter"}class AO extends gt{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class RO extends gt{constructor(e,n){super(e,"in",n),this.keys=rS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kO extends gt{constructor(e,n){super(e,"not-in",n),this.keys=rS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class PO extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sv(n)&&Du(n.arrayValue,this.value)}}class NO extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Du(this.value.arrayValue,n)}}class jO extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Du(this.value.arrayValue,n)}}class OO extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Du(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Jw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new DO(t,e,n,r,s,i,o)}function iv(t){const e=we(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oa(r)).join(",")),e.ue=n}return e.ue}function ov(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zw(t.startAt,e.startAt)&&Zw(t.endAt,e.endAt)}function dg(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function LO(t,e,n,r,s,i,o,a){return new wc(t,e,n,r,s,i,o,a)}function av(t){return new wc(t)}function Yw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sS(t){return t.collectionGroup!==null}function ru(t){const e=we(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ut(Vt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Ih(i,r))}),n.has(Vt.keyField().canonicalString())||e.ce.push(new Ih(Vt.keyField(),r))}return e.ce}function Dr(t){const e=we(t);return e.le||(e.le=MO(e,ru(t))),e.le}function MO(t,e){if(t.limitType==="F")return Jw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ih(s.field,i)});const n=t.endAt?new bh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bh(t.startAt.position,t.startAt.inclusive):null;return Jw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hg(t,e){const n=t.filters.concat([e]);return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fg(t,e,n){return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _f(t,e){return ov(Dr(t),Dr(e))&&t.limitType===e.limitType}function iS(t){return`${iv(Dr(t))}|lt:${t.limitType}`}function Po(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>nS(s)).join(", ")}]`),vf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Oa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Oa(s)).join(",")),`Target(${r})`}(Dr(t))}; limitType=${t.limitType})`}function wf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ce.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ru(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=Gw(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,ru(r),s)||r.endAt&&!function(o,a,u){const c=Gw(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,ru(r),s))}(t,e)}function VO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oS(t){return(e,n)=>{let r=!1;for(const s of ru(t)){const i=FO(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function FO(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?ja(u,c):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Za(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return GT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=new it(ce.comparator);function ys(){return UO}const aS=new it(ce.comparator);function Fl(...t){let e=aS;for(const n of t)e=e.insert(n.key,n);return e}function lS(t){let e=aS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vi(){return su()}function uS(){return su()}function su(){return new Ja(t=>t.toString(),(t,e)=>t.isEqual(e))}const zO=new it(ce.comparator),BO=new Ut(ce.comparator);function Ce(...t){let e=BO;for(const n of t)e=e.add(n);return e}const $O=new Ut(Le);function qO(){return $O}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function cS(t){return{integerValue:""+t}}function HO(t,e){return xO(e)?cS(e):lv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(){this._=void 0}}function WO(t,e,n){return t instanceof Ch?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&nv(i)&&(i=rv(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Lu?hS(t,e):t instanceof Mu?fS(t,e):function(s,i){const o=dS(s,i),a=Xw(o)+Xw(s.Pe);return ug(o)&&ug(s.Pe)?cS(a):lv(s.serializer,a)}(t,e)}function KO(t,e,n){return t instanceof Lu?hS(t,e):t instanceof Mu?fS(t,e):n}function dS(t,e){return t instanceof Ah?function(r){return ug(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ch extends xf{}class Lu extends xf{constructor(e){super(),this.elements=e}}function hS(t,e){const n=pS(e);for(const r of t.elements)n.some(s=>Fr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Mu extends xf{constructor(e){super(),this.elements=e}}function fS(t,e){let n=pS(e);for(const r of t.elements)n=n.filter(s=>!Fr(s,r));return{arrayValue:{values:n}}}class Ah extends xf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Xw(t){return ht(t.integerValue||t.doubleValue)}function pS(t){return sv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QO(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Lu&&s instanceof Lu||r instanceof Mu&&s instanceof Mu?Na(r.elements,s.elements,Fr):r instanceof Ah&&s instanceof Ah?Fr(r.Pe,s.Pe):r instanceof Ch&&s instanceof Ch}(t.transform,e.transform)}class GO{constructor(e,n){this.version=e,this.transformResults=n}}class us{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new us}static exists(e){return new us(void 0,e)}static updateTime(e){return new us(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Ef=class{};function mS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yS(t.key,us.none()):new xc(t.key,t.data,us.none());{const n=t.data,r=Hn.empty();let s=new Ut(Vt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new wo(t.key,r,new or(s.toArray()),us.none())}}function ZO(t,e,n){t instanceof xc?function(s,i,o){const a=s.value.clone(),u=t1(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wo?function(s,i,o){if(!Dd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=t1(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(gS(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function iu(t,e,n,r){return t instanceof xc?function(i,o,a,u){if(!Dd(i.precondition,o))return a;const c=i.value.clone(),h=n1(i.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof wo?function(i,o,a,u){if(!Dd(i.precondition,o))return a;const c=n1(i.fieldTransforms,u,o),h=o.data;return h.setAll(gS(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,a){return Dd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function JO(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=dS(r.transform,s||null);i!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,i))}return n||null}function e1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Na(r,s,(i,o)=>QO(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xc extends Ef{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class wo extends Ef{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function gS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function t1(t,e,n){const r=new Map;He(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,KO(o,a,n[s]))}return r}function n1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,WO(i,o,e))}return r}class yS extends Ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YO extends Ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&ZO(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=mS(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Na(this.mutations,e.mutations,(n,r)=>e1(n,r))&&Na(this.baseMutations,e.baseMutations,(n,r)=>e1(n,r))}}class uv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){He(e.mutations.length===r.length);let s=function(){return zO}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new uv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Pe;function nD(t){switch(t){default:return ye();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function vS(t){if(t===void 0)return gs("GRPC error has no .code"),W.UNKNOWN;switch(t){case pt.OK:return W.OK;case pt.CANCELLED:return W.CANCELLED;case pt.UNKNOWN:return W.UNKNOWN;case pt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case pt.INTERNAL:return W.INTERNAL;case pt.UNAVAILABLE:return W.UNAVAILABLE;case pt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case pt.NOT_FOUND:return W.NOT_FOUND;case pt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case pt.ABORTED:return W.ABORTED;case pt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case pt.DATA_LOSS:return W.DATA_LOSS;default:return ye()}}(Pe=pt||(pt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new Zi([4294967295,4294967295],0);function r1(t){const e=rD().encode(t),n=new UT;return n.update(e),new Uint8Array(n.digest())}function s1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Zi([n,r],0),new Zi([s,i],0)]}class cv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(r<0)throw new Ul(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Zi.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Zi.fromNumber(r)));return s.compare(sD)===1&&(s=new Zi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=r1(e),[r,s]=s1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new cv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=r1(e),[r,s]=s1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ec.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tf(_e.min(),s,new it(Le),ys(),Ce())}}class Ec{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ec(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class _S{constructor(e,n){this.targetId=e,this.me=n}}class wS{constructor(e,n,r=Bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class i1{constructor(){this.fe=0,this.ge=a1(),this.pe=Bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),n=Ce(),r=Ce();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ye()}}),new Ec(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=a1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iD{constructor(e){this.Le=e,this.Be=new Map,this.ke=ys(),this.qe=o1(),this.Qe=new it(Le)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(dg(i))if(r===0){const o=new ce(i.path);this.Ue(n,o,tn.newNoDocument(o,_e.min()))}else He(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=lo(r).toUint8Array()}catch(u){if(u instanceof ZT)return Pa("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new cv(o,s,i)}catch(u){return Pa(u instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&dg(a.target)){const u=new ce(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,tn.newNoDocument(u,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Ce();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Tf(e,n,this.Qe,this.ke,r);return this.ke=ys(),this.qe=o1(),this.Qe=new it(Le),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new i1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ut(Le),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new i1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function o1(){return new it(ce.comparator)}function a1(){return new it(ce.comparator)}const oD={asc:"ASCENDING",desc:"DESCENDING"},aD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lD={and:"AND",or:"OR"};class uD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pg(t,e){return t.useProto3Json||vf(e)?e:{value:e}}function Rh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cD(t,e){return Rh(t,e.toTimestamp())}function Lr(t){return He(!!t),_e.fromTimestamp(function(n){const r=fi(n);return new bt(r.seconds,r.nanos)}(t))}function dv(t,e){return mg(t,e).canonicalString()}function mg(t,e){const n=function(s){return new Ze(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ES(t){const e=Ze.fromString(t);return He(CS(e)),e}function gg(t,e){return dv(t.databaseId,e.path)}function Bp(t,e){const n=ES(e);if(n.get(1)!==t.databaseId.projectId)throw new se(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(SS(n))}function TS(t,e){return dv(t.databaseId,e)}function dD(t){const e=ES(t);return e.length===4?Ze.emptyPath():SS(e)}function yg(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SS(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function l1(t,e,n){return{name:gg(t,e),fields:n.value.mapValue.fields}}function hD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(He(h===void 0||typeof h=="string"),Bt.fromBase64String(h||"")):(He(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Bt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?W.UNKNOWN:vS(c.code);return new se(h,c.message||"")}(o);n=new wS(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Bp(t,r.document.name),i=Lr(r.document.updateTime),o=r.document.createTime?Lr(r.document.createTime):_e.min(),a=new Hn({mapValue:{fields:r.document.fields}}),u=tn.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Ld(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Bp(t,r.document),i=r.readTime?Lr(r.readTime):_e.min(),o=tn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ld([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Bp(t,r.document),i=r.removedTargetIds||[];n=new Ld([],i,s,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new tD(s,i),a=r.targetId;n=new _S(a,o)}}return n}function fD(t,e){let n;if(e instanceof xc)n={update:l1(t,e.key,e.value)};else if(e instanceof yS)n={delete:gg(t,e.key)};else if(e instanceof wo)n={update:l1(t,e.key,e.data),updateMask:ED(e.fieldMask)};else{if(!(e instanceof YO))return ye();n={verify:gg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ch)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Lu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Mu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ah)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:cD(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ye()}(t,e.precondition)),n}function pD(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Lr(s.updateTime):Lr(i);return o.isEqual(_e.min())&&(o=Lr(i)),new GO(o,s.transformResults||[])}(n,e))):[]}function mD(t,e){return{documents:[TS(t,e.path)]}}function gD(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TS(t,s);const i=function(c){if(c.length!==0)return IS(pr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:No(p.field),direction:_D(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=pg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function yD(t){let e=dD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){He(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(m){const p=bS(m);return p instanceof pr&&eS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(p=>function(y){return new Ih(jo(y.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(m){let p;return p=typeof m=="object"?m.value:m,vf(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(m){const p=!!m.before,v=m.values||[];return new bh(v,p)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const p=!m.before,v=m.values||[];return new bh(v,p)}(n.endAt)),LO(e,s,o,i,a,"F",u,c)}function vD(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=jo(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=jo(n.unaryFilter.field);return gt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=jo(n.unaryFilter.field);return gt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=jo(n.unaryFilter.field);return gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return gt.create(jo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pr.create(n.compositeFilter.filters.map(r=>bS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function _D(t){return oD[t]}function wD(t){return aD[t]}function xD(t){return lD[t]}function No(t){return{fieldPath:t.canonicalString()}}function jo(t){return Vt.fromServerFormat(t.fieldPath)}function IS(t){return t instanceof gt?function(n){if(n.op==="=="){if(Qw(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NAN"}};if(Kw(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Qw(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NAN"}};if(Kw(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(n.field),op:wD(n.op),value:n.value}}}(t):t instanceof pr?function(n){const r=n.getFilters().map(s=>IS(s));return r.length===1?r[0]:{compositeFilter:{op:xD(n.op),filters:r}}}(t):ye()}function ED(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,r,s,i=_e.min(),o=_e.min(),a=Bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.ct=e}}function SD(t){const e=yD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.un=new ID}addToCollectionParentIndex(e,n){return this.un.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(hi.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(hi.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class ID{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ut(Ze.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ut(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Da(0)}static kn(){return new Da(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.changes=new Ja(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&iu(r.mutation,s,or.empty(),bt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const s=Vi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Fl();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ys();const o=su(),a=function(){return su()}();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof wo)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),iu(h.mutation,c,h.mutation.getFieldMask(),bt.now())):o.set(c.key,or.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var m;return a.set(c,new AD(h,(m=o.get(c))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=su();let s=new it((o,a)=>o-a),i=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||or.empty();h=a.applyToLocalView(c,h),r.set(u,h);const m=(s.get(a.batchId)||Ce()).add(u);s=s.insert(a.batchId,m)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,m=uS();h.forEach(p=>{if(!i.has(p)){const v=mS(n.get(p),r.get(p));v!==null&&m.set(p,v),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):K.resolve(Vi());let a=-1,u=i;return o.next(c=>K.forEach(c,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),i.get(h)?K.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,Ce())).next(h=>({batchId:a,changes:lS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let s=Fl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Fl();return this.indexManager.getCollectionParents(e,i).next(a=>K.forEach(a,u=>{const c=function(m,p){return new wc(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((m,p)=>{o=o.insert(m,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,tn.newInvalidDocument(h)))});let a=Fl();return o.forEach((u,c)=>{const h=i.get(u);h!==void 0&&iu(h.mutation,c,or.empty(),bt.now()),wf(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return K.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Lr(s.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:SD(s.bundledQuery),readTime:Lr(s.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.overlays=new it(ce.comparator),this.Ir=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vi();return K.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const s=Vi(),i=n.length+1,o=new ce(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return K.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new it((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Vi(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Vi(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return K.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eD(n,r));let i=this.Ir.get(n);i===void 0&&(i=Ce(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.Tr=new Ut(Ct.Er),this.dr=new Ut(Ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ce(new Ze([])),r=new Ct(n,e),s=new Ct(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ce(new Ze([])),r=new Ct(n,e),s=new Ct(n,e+1);let i=Ce();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ce.comparator(e.key,n.key)||Le(e.wr,n.wr)}static Ar(e,n){return Le(e.wr,n.wr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ut(Ct.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new XO(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Ct(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return K.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),s=new Ct(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),K.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(Le);return n.forEach(s=>{const i=new Ct(s,0),o=new Ct(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),K.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ce.isDocumentKey(i)||(i=i.child(""));const o=new Ct(new ce(i),0);let a=new Ut(Le);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.wr)),!0)},o),K.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){He(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return K.forEach(n.mutations,s=>{const i=new Ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ct(n,0),s=this.br.firstAfterOrEqual(r);return K.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.Mr=e,this.docs=function(){return new it(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=ys();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():tn.newInvalidDocument(s))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ys();const o=n.path,a=new ce(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||yO(gO(h),r)<=0||(s.has(h.key)||wf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return K.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ye()}Or(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new DD(this)}getSize(e){return K.resolve(this.size)}}class DD extends CD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.persistence=e,this.Nr=new Ja(n=>iv(n),ov),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new hv,this.targetCount=0,this.kr=Da.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),K.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Da(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Kn(n),K.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),K.waitFor(i).next(()=>s)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),K.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new tv(0),this.Kr=!1,this.Kr=!0,this.$r=new ND,this.referenceDelegate=e(this),this.Ur=new LD(this),this.indexManager=new bD,this.remoteDocumentCache=function(s){return new OD(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new TD(n),this.Gr=new kD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new jD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const s=new VD(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return K.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class VD extends _O{constructor(e){super(),this.currentSequenceNumber=e}}class fv{constructor(e){this.persistence=e,this.Jr=new hv,this.Yr=null}static Zr(e){return new fv(e)}get Xr(){if(this.Yr)return this.Yr;throw ye()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),K.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,r=>{const s=ce.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,_e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return K.or([()=>K.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ce(),s=Ce();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new pv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return kP()?8:wO(rn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new FD;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Al()<=ke.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(Al()<=ke.DEBUG&&ae("QueryEngine","Query:",Po(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Al()<=ke.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(n))):K.resolve())}Yi(e,n){if(Yw(n))return K.resolve(null);let r=Dr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=fg(n,null,"F"),r=Dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ce(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,fg(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,s){return Yw(n)||s.isEqual(_e.min())?K.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?K.resolve(null):(Al()<=ke.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Po(n)),this.rs(e,o,n,mO(s,-1)).next(a=>a))})}ts(e,n){let r=new Ut(oS(e));return n.forEach((s,i)=>{wf(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Al()<=ke.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Po(n)),this.Ji.getDocumentsMatchingQuery(e,n,hi.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new it(Le),this._s=new Ja(i=>iv(i),ov),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function BD(t,e,n,r){return new zD(t,e,n,r)}async function AS(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=Ce();for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function $D(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const m=c.batch,p=m.keys();let v=K.resolve();return p.forEach(y=>{v=v.next(()=>h.getEntry(u,y)).next(b=>{const P=c.docVersions.get(y);He(P!==null),b.version.compareTo(P)<0&&(m.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),h.addEntry(b)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ce();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function RS(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function qD(t,e){const n=we(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,m)=>{const p=s.get(m);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,m)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(Bt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(m,v),function(b,P,E){return b.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,v,h)&&a.push(n.Ur.updateTargetData(i,v))});let u=ys(),c=Ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(HD(i,o,e.documentUpdates).next(h=>{u=h.Ps,c=h.Is})),!r.isEqual(_e.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(m=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return K.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.os=s,i))}function HD(t,e,n){let r=Ce(),s=Ce();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ys();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(_e.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:s}})}function WD(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function KD(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,K.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Qs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function vg(t,e,n){const r=we(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!_c(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function u1(t,e,n){const r=we(t);let s=_e.min(),i=Ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const m=we(u),p=m._s.get(h);return p!==void 0?K.resolve(m.os.get(p)):m.Ur.getTargetData(c,h)}(r,o,Dr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:_e.min(),n?i:Ce())).next(a=>(QD(r,VO(e),a),{documents:a,Ts:i})))}function QD(t,e,n){let r=t.us.get(e)||_e.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class c1{constructor(){this.activeTargetIds=qO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GD{constructor(){this.so=new c1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new c1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd=null;function $p(){return pd===null?pd=function(){return 268435456+Math.round(2147483648*Math.random())}():pd++,"0x"+pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class XD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=$p(),u=this.xo(n,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${a}:`,u,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,u,c,s).then(h=>(ae("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Pa("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ga}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=JD[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=$p();return new Promise((o,a)=>{const u=new zT;u.setWithCredentials(!0),u.listenOnce($T.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case jd.NO_ERROR:const h=u.getResponseJson();ae(Jt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case jd.TIMEOUT:ae(Jt,`RPC '${e}' ${i} timed out`),a(new se(W.DEADLINE_EXCEEDED,"Request time out"));break;case jd.HTTP_ERROR:const m=u.getStatus();if(ae(Jt,`RPC '${e}' ${i} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const y=function(P){const E=P.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(E)>=0?E:W.UNKNOWN}(v.status);a(new se(y,v.message))}else a(new se(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new se(W.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ae(Jt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ae(Jt,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=$p(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=WT(),a=HT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new BT({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");ae(Jt,`Creating RPC '${e}' stream ${s}: ${h}`,u);const m=o.createWebChannel(h,u);let p=!1,v=!1;const y=new YD({Io:P=>{v?ae(Jt,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(p||(ae(Jt,`Opening RPC '${e}' stream ${s} transport.`),m.open(),p=!0),ae(Jt,`RPC '${e}' stream ${s} sending:`,P),m.send(P))},To:()=>m.close()}),b=(P,E,w)=>{P.listen(E,S=>{try{w(S)}catch(D){setTimeout(()=>{throw D},0)}})};return b(m,Vl.EventType.OPEN,()=>{v||(ae(Jt,`RPC '${e}' stream ${s} transport opened.`),y.yo())}),b(m,Vl.EventType.CLOSE,()=>{v||(v=!0,ae(Jt,`RPC '${e}' stream ${s} transport closed`),y.So())}),b(m,Vl.EventType.ERROR,P=>{v||(v=!0,Pa(Jt,`RPC '${e}' stream ${s} transport errored:`,P),y.So(new se(W.UNAVAILABLE,"The operation could not be completed")))}),b(m,Vl.EventType.MESSAGE,P=>{var E;if(!v){const w=P.data[0];He(!!w);const S=w,D=S.error||((E=S[0])===null||E===void 0?void 0:E.error);if(D){ae(Jt,`RPC '${e}' stream ${s} received error:`,D);const V=D.status;let q=function(I){const R=pt[I];if(R!==void 0)return vS(R)}(V),C=D.message;q===void 0&&(q=W.INTERNAL,C="Unknown error status: "+V+" with message "+D.message),v=!0,y.So(new se(q,C)),m.close()}else ae(Jt,`RPC '${e}' stream ${s} received:`,w),y.bo(w)}}),b(a,qT.STAT_EVENT,P=>{P.stat===ag.PROXY?ae(Jt,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===ag.NOPROXY&&ae(Jt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t){return new uD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,r,s,i,o,a,u){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new kS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(gs(n.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new se(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e3 extends PS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=hD(this.serializer,e),r=function(i){if(!("targetChange"in i))return _e.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?Lr(o.readTime):_e.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=yg(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=dg(u)?{documents:mD(i,u)}:{query:gD(i,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=xS(i,o.resumeToken);const c=pg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(_e.min())>0){a.readTime=Rh(i,o.snapshotVersion.toTimestamp());const c=pg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=vD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=yg(this.serializer),n.removeTarget=e,this.a_(n)}}class t3 extends PS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=pD(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=yg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new se(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,mg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(W.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,mg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(W.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class r3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gs(n),this.D_=!1):ae("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{xo(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=we(u);c.L_.add(4),await Tc(c),c.q_.set("Unknown"),c.L_.delete(4),await bf(c)}(this))})}),this.q_=new r3(r,s)}}async function bf(t){if(xo(t))for(const e of t.B_)await e(!0)}async function Tc(t){for(const e of t.B_)await e(!1)}function NS(t,e){const n=we(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),vv(n)?yv(n):Ya(n).r_()&&gv(n,e))}function mv(t,e){const n=we(t),r=Ya(n);n.N_.delete(e),r.r_()&&jS(n,e),n.N_.size===0&&(r.r_()?r.o_():xo(n)&&n.q_.set("Unknown"))}function gv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ya(t).A_(e)}function jS(t,e){t.Q_.xe(e),Ya(t).R_(e)}function yv(t){t.Q_=new iD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ya(t).start(),t.q_.v_()}function vv(t){return xo(t)&&!Ya(t).n_()&&t.N_.size>0}function xo(t){return we(t).L_.size===0}function OS(t){t.Q_=void 0}async function i3(t){t.q_.set("Online")}async function o3(t){t.N_.forEach((e,n)=>{gv(t,e)})}async function a3(t,e){OS(t),vv(t)?(t.q_.M_(e),yv(t)):t.q_.set("Unknown")}async function l3(t,e,n){if(t.q_.set("Online"),e instanceof wS&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kh(t,r)}else if(e instanceof Ld?t.Q_.Ke(e):e instanceof _S?t.Q_.He(e):t.Q_.We(e),!n.isEqual(_e.min()))try{const r=await RS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.N_.get(c);h&&i.N_.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=i.N_.get(u);if(!h)return;i.N_.set(u,h.withResumeToken(Bt.EMPTY_BYTE_STRING,h.snapshotVersion)),jS(i,u);const m=new Qs(h.target,u,c,h.sequenceNumber);gv(i,m)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),await kh(t,r)}}async function kh(t,e,n){if(!_c(e))throw e;t.L_.add(1),await Tc(t),t.q_.set("Offline"),n||(n=()=>RS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await bf(t)})}function DS(t,e){return e().catch(n=>kh(t,n,e))}async function If(t){const e=we(t),n=pi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;u3(e);)try{const s=await WD(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,c3(e,s)}catch(s){await kh(e,s)}LS(e)&&MS(e)}function u3(t){return xo(t)&&t.O_.length<10}function c3(t,e){t.O_.push(e);const n=pi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function LS(t){return xo(t)&&!pi(t).n_()&&t.O_.length>0}function MS(t){pi(t).start()}async function d3(t){pi(t).p_()}async function h3(t){const e=pi(t);for(const n of t.O_)e.m_(n.mutations)}async function f3(t,e,n){const r=t.O_.shift(),s=uv.from(r,e,n);await DS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await If(t)}async function p3(t,e){e&&pi(t).V_&&await async function(r,s){if(function(o){return nD(o)&&o!==W.ABORTED}(s.code)){const i=r.O_.shift();pi(r).s_(),await DS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await If(r)}}(t,e),LS(t)&&MS(t)}async function h1(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=xo(n);n.L_.add(3),await Tc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await bf(n)}async function m3(t,e){const n=we(t);e?(n.L_.delete(2),await bf(n)):e||(n.L_.add(2),await Tc(n),n.q_.set("Unknown"))}function Ya(t){return t.K_||(t.K_=function(n,r,s){const i=we(n);return i.w_(),new e3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:i3.bind(null,t),Ro:o3.bind(null,t),mo:a3.bind(null,t),d_:l3.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),vv(t)?yv(t):t.q_.set("Unknown")):(await t.K_.stop(),OS(t))})),t.K_}function pi(t){return t.U_||(t.U_=function(n,r,s){const i=we(n);return i.w_(),new t3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:d3.bind(null,t),mo:p3.bind(null,t),f_:h3.bind(null,t),g_:f3.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await If(t)):(await t.U_.stop(),t.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new _v(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wv(t,e){if(gs("AsyncQueue",`${e}: ${t}`),_c(t))return new se(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=Fl(),this.sortedSet=new it(this.comparator)}static emptySet(e){return new aa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof aa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new aa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.W_=new it(ce.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ye():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class La{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new La(e,n,aa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class y3{constructor(){this.queries=p1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=we(n),i=s.queries;s.queries=p1(),i.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new se(W.ABORTED,"Firestore shutting down"))}}function p1(){return new Ja(t=>iS(t),_f)}async function VS(t,e){const n=we(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new g3,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=wv(o,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&xv(n)}async function FS(t,e){const n=we(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function v3(t,e){const n=we(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&xv(n)}function _3(t,e,n){const r=we(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function xv(t){t.Y_.forEach(e=>{e.next()})}var _g,m1;(m1=_g||(_g={})).ea="default",m1.Cache="cache";class US{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new La(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=La.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==_g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.key=e}}class BS{constructor(e){this.key=e}}class w3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ce(),this.mutatedKeys=Ce(),this.Aa=oS(e),this.Ra=new aa(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new f1,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,m)=>{const p=s.get(h),v=wf(this.query,m)?m:null,y=!!p&&this.mutatedKeys.has(p.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let P=!1;p&&v?p.data.isEqual(v.data)?y!==b&&(r.track({type:3,doc:v}),P=!0):this.ga(p,v)||(r.track({type:2,doc:v}),P=!0,(u&&this.Aa(v,u)>0||c&&this.Aa(v,c)<0)&&(a=!0)):!p&&v?(r.track({type:0,doc:v}),P=!0):p&&!v&&(r.track({type:1,doc:p}),P=!0,(u||c)&&(a=!0)),P&&(v?(o=o.add(v),i=b?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,m)=>function(v,y){const b=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return b(v)-b(y)}(h.type,m.type)||this.Aa(h.doc,m.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new La(this.query,e.Ra,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new f1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new BS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new zS(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ce();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return La.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class x3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class E3{constructor(e){this.key=e,this.va=!1}}class T3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ja(a=>iS(a),_f),this.Ma=new Map,this.xa=new Set,this.Oa=new it(ce.comparator),this.Na=new Map,this.La=new hv,this.Ba={},this.ka=new Map,this.qa=Da.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function S3(t,e,n=!0){const r=QS(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await $S(r,e,n,!0),s}async function b3(t,e){const n=QS(t);await $S(n,e,!0,!1)}async function $S(t,e,n,r){const s=await KD(t.localStore,Dr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await I3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&NS(t.remoteStore,s),a}async function I3(t,e,n,r,s){t.Ka=(m,p,v)=>async function(b,P,E,w){let S=P.view.ma(E);S.ns&&(S=await u1(b.localStore,P.query,!1).then(({documents:C})=>P.view.ma(C,S)));const D=w&&w.targetChanges.get(P.targetId),V=w&&w.targetMismatches.get(P.targetId)!=null,q=P.view.applyChanges(S,b.isPrimaryClient,D,V);return y1(b,P.targetId,q.wa),q.snapshot}(t,m,p,v);const i=await u1(t.localStore,e,!0),o=new w3(e,i.Ts),a=o.ma(i.documents),u=Ec.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);y1(t,n,c.wa);const h=new x3(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function C3(t,e,n){const r=we(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!_f(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await vg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&mv(r.remoteStore,s.targetId),wg(r,s.targetId)}).catch(vc)):(wg(r,s.targetId),await vg(r.localStore,s.targetId,!0))}async function A3(t,e){const n=we(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mv(n.remoteStore,r.targetId))}async function R3(t,e,n){const r=L3(t);try{const s=await function(o,a){const u=we(o),c=bt.now(),h=a.reduce((v,y)=>v.add(y.key),Ce());let m,p;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let y=ys(),b=Ce();return u.cs.getEntries(v,h).next(P=>{y=P,y.forEach((E,w)=>{w.isValidDocument()||(b=b.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,y)).next(P=>{m=P;const E=[];for(const w of a){const S=JO(w,m.get(w.key).overlayedDocument);S!=null&&E.push(new wo(w.key,S,JT(S.value.mapValue),us.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,E,a)}).next(P=>{p=P;const E=P.applyToLocalDocumentSet(m,b);return u.documentOverlayCache.saveOverlays(v,P.batchId,E)})}).then(()=>({batchId:p.batchId,changes:lS(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new it(Le)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await Sc(r,s.changes),await If(r.remoteStore)}catch(s){const i=wv(s,"Failed to persist write");n.reject(i)}}async function qS(t,e){const n=we(t);try{const r=await qD(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(He(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?He(o.va):s.removedDocuments.size>0&&(He(o.va),o.va=!1))}),await Sc(n,r,e)}catch(r){await vc(r)}}function g1(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=we(o);u.onlineState=a;let c=!1;u.queries.forEach((h,m)=>{for(const p of m.j_)p.Z_(a)&&(c=!0)}),c&&xv(u)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function k3(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new it(ce.comparator);o=o.insert(i,tn.newNoDocument(i,_e.min()));const a=Ce().add(i),u=new Tf(_e.min(),new Map,new it(Le),o,a);await qS(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(e),Ev(r)}else await vg(r.localStore,e,!1).then(()=>wg(r,e,n)).catch(vc)}async function P3(t,e){const n=we(t),r=e.batch.batchId;try{const s=await $D(n.localStore,e);WS(n,r,null),HS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sc(n,s)}catch(s){await vc(s)}}async function N3(t,e,n){const r=we(t);try{const s=await function(o,a){const u=we(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(m=>(He(m!==null),h=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);WS(r,e,n),HS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sc(r,s)}catch(s){await vc(s)}}function HS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function WS(t,e,n){const r=we(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function wg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||KS(t,r)})}function KS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(mv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ev(t))}function y1(t,e,n){for(const r of n)r instanceof zS?(t.La.addReference(r.key,e),j3(t,r)):r instanceof BS?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||KS(t,r.key)):ye()}function j3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ev(t))}function Ev(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ce(Ze.fromString(e)),r=t.qa.next();t.Na.set(r,new E3(n)),t.Oa=t.Oa.insert(n,r),NS(t.remoteStore,new Qs(Dr(av(n.path)),r,"TargetPurposeLimboResolution",tv.oe))}}async function Sc(t,e,n){const r=we(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){s.push(c);const m=pv.Wi(u.targetId,c);i.push(m)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(u,c){const h=we(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>K.forEach(c,p=>K.forEach(p.$i,v=>h.persistence.referenceDelegate.addReference(m,p.targetId,v)).next(()=>K.forEach(p.Ui,v=>h.persistence.referenceDelegate.removeReference(m,p.targetId,v)))))}catch(m){if(!_c(m))throw m;ae("LocalStore","Failed to update sequence numbers: "+m)}for(const m of c){const p=m.targetId;if(!m.fromCache){const v=h.os.get(p),y=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(y);h.os=h.os.insert(p,b)}}}(r.localStore,i))}async function O3(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=await AS(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(u=>{u.reject(new se(W.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sc(n,r.hs)}}function D3(t,e){const n=we(t),r=n.Na.get(e);if(r&&r.va)return Ce().add(r.key);{let s=Ce();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function QS(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k3.bind(null,e),e.Ca.d_=v3.bind(null,e.eventManager),e.Ca.$a=_3.bind(null,e.eventManager),e}function L3(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N3.bind(null,e),e}class v1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return BD(this.persistence,new UD,e.initialUser,this.serializer)}createPersistence(e){return new MD(fv.Zr,this.serializer)}createSharedClientState(e){return new GD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class M3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O3.bind(null,this.syncEngine),await m3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y3}()}createDatastore(e){const n=Sf(e.databaseInfo.databaseId),r=function(i){return new XD(i)}(e.databaseInfo);return function(i,o,a,u){return new n3(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new s3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>g1(this.syncEngine,n,0),function(){return d1.D()?new d1:new ZD}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,h){const m=new T3(s,i,o,a,u,c);return h&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=we(s);ae("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Tc(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Xt.UNAUTHENTICATED,this.clientId=QT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{ae("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ae("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hp(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await AS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await U3(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>h1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>h1(e.remoteStore,s)),t._onlineComponents=e}function F3(t){return t.name==="FirebaseError"?t.code===W.FAILED_PRECONDITION||t.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function U3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!F3(n))throw n;Pa("Error using user provided cache. Falling back to memory cache: "+n),await Hp(t,new v1)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Hp(t,new v1);return t._offlineComponents}async function ZS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await _1(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await _1(t,new M3))),t._onlineComponents}function z3(t){return ZS(t).then(e=>e.syncEngine)}async function JS(t){const e=await ZS(t),n=e.eventManager;return n.onListen=S3.bind(null,e.syncEngine),n.onUnlisten=C3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=A3.bind(null,e.syncEngine),n}function B3(t,e,n={}){const r=new ls;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const h=new GS({next:p=>{o.enqueueAndForget(()=>FS(i,m));const v=p.docs.has(a);!v&&p.fromCache?c.reject(new se(W.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&u&&u.source==="server"?c.reject(new se(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new US(av(a.path),h,{includeMetadataChanges:!0,_a:!0});return VS(i,m)}(await JS(t),t.asyncQueue,e,n,r)),r.promise}function $3(t,e,n={}){const r=new ls;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const h=new GS({next:p=>{o.enqueueAndForget(()=>FS(i,m)),p.fromCache&&u.source==="server"?c.reject(new se(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new US(a,h,{includeMetadataChanges:!0,_a:!0});return VS(i,m)}(await JS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t,e,n){if(!n)throw new se(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q3(t,e,n,r){if(e===!0&&r===!0)throw new se(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function x1(t){if(!ce.isDocumentKey(t))throw new se(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function E1(t){if(ce.isDocumentKey(t))throw new se(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function co(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cf(t);throw new se(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Af{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oO;switch(r.type){case"firstParty":return new cO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=w1.get(n);r&&(ae("ComponentProvider","Removing Datastore"),w1.delete(n),r.terminate())}(this),Promise.resolve()}}function H3(t,e,n,r={}){var s;const i=(t=co(t,Af))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Xt.MOCK_USER;else{a=TP(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new se(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Xt(c)}t._authCredentials=new aO(new KT(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf=class eb{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new eb(this.firestore,e,this._query)}};class Sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class ai extends Rf{constructor(e,n,r){super(e,n,av(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new ce(e))}withConverter(e){return new ai(this.firestore,e,this._path)}}function W3(t,e,...n){if(t=In(t),XS("collection","path",e),t instanceof Af){const r=Ze.fromString(e,...n);return E1(r),new ai(t,null,r)}{if(!(t instanceof Sn||t instanceof ai))throw new se(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return E1(r),new ai(t.firestore,null,r)}}function Ph(t,e,...n){if(t=In(t),arguments.length===1&&(e=QT.newId()),XS("doc","path",e),t instanceof Af){const r=Ze.fromString(e,...n);return x1(r),new Sn(t,null,new ce(r))}{if(!(t instanceof Sn||t instanceof ai))throw new se(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return x1(r),new Sn(t.firestore,t instanceof ai?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new kS(this,"async_queue_retry"),this.Eu=()=>{const n=qp();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=qp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new ls;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!_c(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw gs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=_v.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&ye()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class kf extends Af{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new K3}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||tb(this),this._firestoreClient.terminate()}}function Q3(t,e){const n=typeof t=="object"?t:rT(),r=typeof t=="string"?t:"(default)",s=qy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=xP("firestore");i&&H3(s,...i)}return s}function Tv(t){return t._firestoreClient||tb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function tb(t){var e,n,r;const s=t._freezeSettings(),i=function(a,u,c,h){return new TO(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,YS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new V3(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ma(Bt.fromBase64String(e))}catch(n){throw new se(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ma(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=/^__.*__$/;class Z3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wo(e,this.data,this.fieldMask,n,this.fieldTransforms):new xc(e,this.data,n,this.fieldTransforms)}}function rb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class Cv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Cv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Nh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(rb(this.wu)&&G3.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class J3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sf(e)}Nu(e,n,r,s=!1){return new Cv({wu:e,methodName:n,Ou:r,path:Vt.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sb(t){const e=t._freezeSettings(),n=Sf(t._databaseId);return new J3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Y3(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);ab("Data must be an object, but it was:",o,r);const a=ib(r,o);let u,c;if(i.merge)u=new or(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const m of i.mergeFields){const p=e5(e,m,n);if(!o.contains(p))throw new se(W.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);n5(h,p)||h.push(p)}u=new or(h),c=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=o.fieldTransforms;return new Z3(new Hn(a),u,c)}function X3(t,e,n,r=!1){return Av(n,t.Nu(r?4:3,e))}function Av(t,e){if(ob(t=In(t)))return ab("Unsupported field value:",e,t),ib(t,e);if(t instanceof nb)return function(r,s){if(!rb(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=Av(a,s.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=In(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HO(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=bt.fromDate(r);return{timestampValue:Rh(s.serializer,i)}}if(r instanceof bt){const i=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rh(s.serializer,i)}}if(r instanceof bv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ma)return{bytesValue:xS(s.serializer,r._byteString)};if(r instanceof Sn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:dv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Iv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return lv(a.serializer,u)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${Cf(r)}`)}(t,e)}function ib(t,e){const n={};return GT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Za(t,(r,s)=>{const i=Av(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function ob(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof bv||t instanceof Ma||t instanceof Sn||t instanceof nb||t instanceof Iv)}function ab(t,e,n){if(!ob(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Cf(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function e5(t,e,n){if((e=In(e))instanceof Sv)return e._internalPath;if(typeof e=="string")return lb(t,e);throw Nh("Field path arguments must be of type string or ",t,!1,void 0,n)}const t5=new RegExp("[~\\*/\\[\\]]");function lb(t,e,n){if(e.search(t5)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sv(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new se(W.INVALID_ARGUMENT,a+t+u)}function n5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r5 extends ub{data(){return super.data()}}function Rv(t,e){return typeof e=="string"?lb(t,e):e instanceof Sv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kv{}class i5 extends kv{}function o5(t,e,...n){let r=[];e instanceof kv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof Pv).length,a=i.filter(u=>u instanceof Pf).length;if(o>1||o>0&&a>0)throw new se(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Pf extends i5{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Pf(e,n,r)}_apply(e){const n=this._parse(e);return cb(e._query,n),new Rf(e.firestore,e.converter,hg(e._query,n))}_parse(e){const n=sb(e.firestore);return function(i,o,a,u,c,h,m){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new se(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){b1(m,h);const v=[];for(const y of m)v.push(S1(u,i,y));p={arrayValue:{values:v}}}else p=S1(u,i,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||b1(m,h),p=X3(a,o,m,h==="in"||h==="not-in");return gt.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function a5(t,e,n){const r=e,s=Rv("where",t);return Pf._create(s,r,n)}class Pv extends kv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Pv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)cb(o,u),o=hg(o,u)}(e._query,n),new Rf(e.firestore,e.converter,hg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function S1(t,e,n){if(typeof(n=In(n))=="string"){if(n==="")throw new se(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sS(e)&&n.indexOf("/")!==-1)throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ze.fromString(n));if(!ce.isDocumentKey(r))throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ww(t,new ce(r))}if(n instanceof Sn)return Ww(t,n._key);throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cf(n)}.`)}function b1(t,e){if(!Array.isArray(t)||t.length===0)throw new se(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cb(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class l5{convertValue(e,n="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Za(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>ht(o.doubleValue));return new Iv(i)}convertGeoPoint(e){return new bv(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ju(e));default:return null}}convertTimestamp(e){const n=fi(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ze.fromString(e);He(CS(r));const s=new Ou(r.get(1),r.get(3)),i=new ce(r.popFirst(5));return s.isEqual(n)||gs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class db extends ub{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Rv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Md extends db{data(e={}){return super.data(e)}}class c5{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new zl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Md(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new Md(s._firestore,s._userDataWriter,a.doc.key,a.doc,new zl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Md(s._firestore,s._userDataWriter,a.doc.key,a.doc,new zl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:d5(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function d5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t){t=co(t,Sn);const e=co(t.firestore,kf);return B3(Tv(e),t._key).then(n=>p5(e,t,n))}class fb extends l5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ma(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,n)}}function h5(t){t=co(t,Rf);const e=co(t.firestore,kf),n=Tv(e),r=new fb(e);return s5(t._query),$3(n,t._query).then(s=>new c5(e,r,t,s))}function pb(t,e,n){t=co(t,Sn);const r=co(t.firestore,kf),s=u5(t.converter,e);return f5(r,[Y3(sb(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,us.none())])}function f5(t,e){return function(r,s){const i=new ls;return r.asyncQueue.enqueueAndForget(async()=>R3(await z3(r),s,i)),i.promise}(Tv(t),e)}function p5(t,e,n){const r=n.docs.get(e._key),s=new fb(t);return new db(t,s,e._key,r,new zl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ga=s})(Ka),ka(new so("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new kf(new lO(r.getProvider("auth-internal")),new hO(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new se(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ou(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),oi(zw,"4.7.2",e),oi(zw,"4.7.2","esm2017")})();const m5={apiKey:"AIzaSyDDCtbm5w9Q0Z_uI41jM7R7HM6ZFPjbv8c",authDomain:"amabilis-store.firebaseapp.com",projectId:"amabilis-store",storageBucket:"amabilis-store.appspot.com",messagingSenderId:"1041108624466",appId:"1:1041108624466:web:a442365512d383d91ceb8b"},mb=nT(m5),jh=nO(mb),ou=Q3(mb),gb=z.createContext(),g5=({children:t})=>{const[e,n]=z.useState(null),[r,s]=z.useState(!1);z.useEffect(()=>{const a=H4(jh,async u=>{if(u){const c=await hb(Ph(ou,"users",u.uid));if(c.exists()){const h={uid:u.uid,email:u.email,username:c.data().username};n(h)}}else n(null)});return()=>a()},[]);const i=a=>{n(a)},o=async()=>{await jh.signOut(),n(null),s(!1)};return d.jsx(gb.Provider,{value:{user:e,login:i,logout:o,isLoggedIn:r,setIsLoggedIn:s},children:t})},Nv=()=>z.useContext(gb);function y5(){var v;const[t,e]=z.useState(null),{isLoggedIn:n,user:r,logout:s}=Nv(),[i,o]=z.useState(""),a=vo(),u=()=>{i.trim()&&a(`/search?query=${encodeURIComponent(i)}`),o("")},{cartCount:c}=z.useContext(gr),h=y=>{e(b=>b===y?null:y)},m=y=>{y.stopPropagation()},p=()=>{s(),e(null),a("/")};return d.jsxs("ul",{className:" flex justify-between w-36 cursor-pointer sm:w-28 ",children:[d.jsxs("li",{onClick:()=>h("search"),children:[" ",d.jsx(Jm,{size:25,className:"hover:stroke-lilac stroke-1 relative"}),t==="search"&&d.jsx("div",{className:"absolute bg-white shadow-md z-50 p-3.5 right-28 top-[5.75rem] min-w-60 sm:top-[4.2rem] sm:right-12",onClick:m,children:d.jsxs("form",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search",value:i,onChange:y=>o(y.target.value),className:"border border-gray-300 outline-0 py-1.5 px-6 w-full text-black bg-transparent transition-all duration-400 ease-in-out"}),d.jsx("button",{type:"submit",onClick:u,className:"bg-lilac transition-all duration-400 ease-in-out absolute right-0 h-full w-10 pt-1.5 pb-0.5 px-2 text-white",children:d.jsx(Jm,{size:22})})]})})]}),d.jsxs("li",{children:[n?d.jsx("div",{className:"flex items-center justify-center w-6 h-6 border-black border text-black rounded-full relative ",onClick:()=>h("my-account"),children:(v=r==null?void 0:r.username)==null?void 0:v.charAt(0).toUpperCase()}):d.jsx(aP,{size:25,className:" hover:stroke-lilac stroke-1 relative ",onClick:()=>h("contact")}),t==="contact"&&!n&&d.jsx("div",{className:" absolute bg-white shadow-md pt-2 px-3 pb-3 text-left w-32 z-50 transition-all duration-300 ease-in flex items-center top-[5.75rem] sm:top-[4.2rem] sm:right-0 ",children:d.jsxs("ul",{className:"text-sm *:mb-2",children:[d.jsxs("li",{className:"hover:text-lilac ",children:[" ",d.jsx(sr,{to:"login-register/login",className:({isActive:y})=>y?"text-lilac":"text-black",children:"Login"})," "]}),d.jsxs("li",{className:"hover:text-lilac ",children:[" ",d.jsx(sr,{to:"login-register/register",className:({isActive:y})=>y?"text-lilac":"text-black",children:"Register"})," "]})]})}),t==="my-account"&&n&&d.jsx("div",{className:"absolute bg-white shadow-md pt-2 px-3 pb-3 text-left w-32 z-50 transition-all duration-300 ease-in flex items-center top-[5.75rem] sm:top-[4.2rem] sm:right-0",children:d.jsxs("ul",{className:"text-sm *:mb-2",children:[d.jsxs("li",{className:"hover:text-lilac ",children:[" ",d.jsx(sr,{to:"/my-account",className:({isActive:y})=>y?"text-lilac":"text-black",children:"My Account"})," "]}),d.jsx("li",{className:"hover:text-lilac ",onClick:p,children:"Log Out"})]})})]}),d.jsxs("li",{children:[" ",d.jsxs(sr,{to:"/wishlist",className:({isActive:y})=>y?" text-lilac ":" text-black ",children:[" ",d.jsx(di,{size:25})," "]})," "]}),d.jsxs("li",{className:" relative ",children:[" ",d.jsxs(sr,{to:"/cart",className:({isActive:y})=>y?" text-lilac ":" text-black ",children:[" ",d.jsx(K2,{size:25})," ",d.jsx("span",{className:" absolute bg-lilac w-5 h-5 rounded-[100%] top-[-0.56rem] right-[-0.6rem] text-white text-sm text-center ",children:c})," "]})]})]})}function v5(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"},child:[]}]})(t)}function _5(){const[t,e]=z.useState(!1),n=()=>{e(s=>!s)},r=[{title:"Home",link:"/"},{title:"Collection",link:"/collection"},{title:"About",link:"/about"},{title:"Contact",link:"/contact"}];return d.jsxs("header",{className:"flex items-center justify-between px-20 py-7 border-b sticky top-0 z-[51] bg-white md:px-2 sm:px-2 sm:py-4",children:[d.jsx(q2,{}),d.jsx("ul",{className:"flex w-2/5 justify-between md:hidden sm:hidden ",children:r.map(s=>d.jsx("li",{children:d.jsx(sr,{to:s.link,className:({isActive:i})=>i?" font-medium text-[0.9375rem] text-lilac ":" font-medium text-[0.9375rem] text-black ",children:s.title})},ci()))}),d.jsxs("div",{className:" md:flex md:w-48 md:justify-between sm:w-36 sm:flex sm:justify-between",children:[d.jsx(y5,{}),d.jsx("div",{className:" hidden md:flex sm:flex ",children:t?d.jsx(nP,{size:25,onClick:n}):d.jsx(v5,{size:25,onClick:n})})]}),t&&d.jsx("ul",{className:" md:w-full md:block md:absolute md:bg-white md:top-[5.785rem] md:left-0 sm:absolute sm:w-full sm:bg-gray-200 sm:top-16 sm:left-0 ",children:r.map(s=>d.jsx("li",{className:" md:border-b-2 md:p-4 sm:border-b-2 sm:border-white sm:p-4 ",children:d.jsx(sr,{to:s.link,className:({isActive:i})=>i?" font-medium text-[0.9375rem] text-lilac md:uppercase sm:uppercase ":" font-medium text-[0.9375rem] text-black md:uppercase sm:uppercase ",onClick:n,children:s.title})},ci()))})]})}function w5(){return d.jsxs(d.Fragment,{children:[d.jsx(cP,{}),d.jsx(_5,{})]})}function Nf(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M12,17 C9.27272727,17 6,14.2222222 6,12 C6,9.77777778 9.27272727,7 12,7 C14.7272727,7 18,9.77777778 18,12 C18,14.2222222 14.7272727,17 12,17 Z M11,12 C11,12.55225 11.44775,13 12,13 C12.55225,13 13,12.55225 13,12 C13,11.44775 12.55225,11 12,11 C11.44775,11 11,11.44775 11,12 Z"},child:[]}]})(t)}function I1(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M12,22 C17.5228475,22 22,17.5228475 22,12 C22,6.4771525 17.5228475,2 12,2 C6.4771525,2 2,6.4771525 2,12 C2,17.5228475 6.4771525,22 12,22 Z M7,12 L11,15 L16,8"},child:[]}]})(t)}const Eo=z.createContext(null),x5=({children:t})=>{const[e,n]=z.useState(()=>{const p=localStorage.getItem("wishList");return p?JSON.parse(p):[]}),{addToCart:r}=z.useContext(gr),[s,i]=z.useState("");z.useEffect(()=>{localStorage.setItem("wishList",JSON.stringify(e))},[e]);const o=p=>{n(v=>v.find(b=>b.id===p.id)?v.map(b=>b.id===p.id?{...b,quantity:b.quantity+1}:b):[...v,{...p,quantity:1}]),i("Item added to wishlist"),setTimeout(()=>i(""),3e3)};function a(p){n(v=>v.map(y=>y.id===p?{...y,quantity:y.quantity+1}:y))}function u(p){n(v=>v.map(y=>y.id===p&&y.quantity>1?{...y,quantity:y.quantity-1}:y))}function c(p){return Number((p.price*p.quantity).toFixed(2))}const h=p=>{const v=e.filter(y=>y.id!==p);n(v)},m=p=>{r(p),h(p.id)};return d.jsx(Eo.Provider,{value:{wishList:e,addToWishList:o,incrementItemQuantity:a,decrementItemQuantity:u,handleAddToCartWhileRemovingFromWishList:m,getTotalPriceForItem:c,wishListMessage:s},children:t})};function E5(){const{cartMessage:t}=z.useContext(gr),{wishListMessage:e}=z.useContext(Eo);return d.jsxs("div",{className:"min-h-fit",children:[d.jsx(w5,{}),d.jsxs("main",{children:[t&&d.jsxs("div",{className:"fixed top-12 left-1/2 transform -translate-x-1/2 px-4 py-2 w-fit rounded shadow-lg z-[57] flex justify-center items-center gap-2 bg-white sm:w-full ",children:[d.jsx(I1,{className:"text-green-500"}),d.jsx("p",{children:t})]}),e&&d.jsxs("div",{className:"fixed top-12 left-1/2 transform -translate-x-1/2 px-4 py-2 w-fit rounded shadow-lg z-[57] flex justify-center items-center gap-2 bg-white sm:w-full ",children:[d.jsx(I1,{className:"text-green-500 "}),d.jsx("p",{children:e})]}),d.jsx(zy,{})]}),d.jsx(iP,{})]})}const T5="/amabilis-e-commerce-website/assets/slider-2-C1bZADUC.webp";function S5(){return d.jsxs("div",{className:"h-800 border relative md:h-[31.5rem] sm:h-[25rem] sm:flex sm:justify-center ",children:[d.jsx("img",{src:T5,alt:"A man posing",className:"h-full object-cover object-center -z-50 sm:object-left sm: "}),d.jsxs("div",{className:"z-50 absolute top-60 right-28 text-center md:top-28 sm:top-10 sm:right-auto",children:[d.jsx("h3",{className:'font-medium text-2xl relative mb-7 before:content-[""] before:bg-black before:w-20 before:h-[0.125rem] before:absolute before:left-24 before:top-4 after:content-[""] after:bg-black after:w-20 after:h-[0.125rem] after:absolute after:right-24 after:top-4 md:before:left-16 md:after:right-16 sm:mb-4 sm:before:-left-7 sm:after:-right-7 ',children:"Stylish"}),d.jsx("h1",{className:"font-normal text-7xl mb-6 leading-[3.5rem] md:text-6xl sm:text-3xl sm:mb-3 ",children:"Male Clothes"}),d.jsx("p",{className:"text-lg mb-11",children:"30% off Summer Vacation"}),d.jsxs("button",{type:"submit",className:"border border-solid border-black px-[50px] pt-[16px] pb-[21px] hover:bg-lilac hover:border-none hover:transition-all hover:ease-linear  ",children:[" ",d.jsx(et,{to:"collection",children:"SHOP NOW"})," "]})]})]})}function b5({children:t}){return d.jsx("div",{className:" px-[4.375rem] pb-[3.75rem] md:px-8 sm:px-5 ",children:t})}function I5(){return d.jsxs("div",{className:" mb-[3.75rem] text-center ",children:[d.jsx("h2",{className:' text-3xl font-semibold mb-4 pb-4 relative before:absolute before:content-[""] before:bg-black before:w-20 before:h-[0.125rem] before:bottom-0 before:mx-auto before:my-0 before:left-0 before:right-0 ',children:"New Arrival"}),d.jsx("p",{className:"font-normal text-sm",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. "})]})}function C5(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M160 144h288M160 256h288M160 368h288"},child:[]},{tag:"circle",attr:{cx:"80",cy:"144",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"80",cy:"256",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"80",cy:"368",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]}]})(t)}function A5(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M480 257.35c0-123.7-100.3-224-224-224s-224 100.3-224 224c0 111.8 81.9 204.47 189 221.29V322.12h-56.89v-64.77H221V208c0-56.13 33.45-87.16 84.61-87.16 24.51 0 50.15 4.38 50.15 4.38v55.13H327.5c-27.81 0-36.51 17.26-36.51 35v42h62.12l-9.92 64.77H291v156.54c107.1-16.81 189-109.48 189-221.31z"},child:[]}]})(t)}function jv(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 203.3H312.36L256 32l-56.36 171.3H16l150.21 105.4-58.5 171.3L256 373.84 404.29 480l-58.61-171.3z"},child:[]}]})(t)}const jf=({items:t,closeModal:e,addToCart:n,addToWishList:r,decrementItemQuantity:s,incrementItemQuantity:i})=>d.jsx("div",{className:"fixed top-0 left-0 inset-0 bg-black bg-opacity-75 z-[53] flex justify-center items-start overflow-y-auto",children:d.jsxs("div",{className:"w-[70%] bg-white rounded-lg my-20 max-h-screen sm:w-full sm:max-h-full overflow-y-auto",children:[d.jsx("div",{className:"flex flex-row-reverse border-b-2 p-2",children:d.jsx(lP,{size:27,className:"text-dark-gray hover:text-black",onClick:e})}),d.jsxs("div",{className:"flex m-2 sm:flex-col",children:[d.jsx("div",{className:"w-2/5 h-96 sm:w-full sm:h-[31rem]",children:d.jsx("img",{src:t.image,alt:t.title,className:"h-full w-full p-5"})}),d.jsxs("div",{className:"w-3/5 sm:w-full overflow-y-auto",children:[d.jsx("h2",{className:"font-medium text-2xl mb-2",children:t.title}),d.jsxs("p",{className:"text-red-500 text-2xl leading-10",children:["$",t.price]}),d.jsx("p",{children:t.description}),d.jsxs("div",{className:"my-2 flex",children:[d.jsx(jv,{size:20,className:"inline mr-2 text-orange-600"}),d.jsx("span",{children:t.rating.rate}),d.jsxs("span",{className:"ml-5 text-dark-gray",children:["(",t.rating.count,")"]})]}),d.jsxs("div",{className:"w-72 flex justify-between",children:[d.jsxs("div",{className:"border w-24 h-12 flex items-center",children:[d.jsx("button",{className:"w-1/4 text-center",onClick:()=>s(t.id),children:"-"}),d.jsx("span",{className:"w-1/2 text-center",children:t.quantity}),d.jsx("button",{className:"w-1/4 text-center",onClick:()=>i(t.id),children:"+"})]}),d.jsx("button",{className:"bg-black text-white w-32 h-12 hover:bg-lilac",onClick:()=>n(t),children:"Add to Cart"}),d.jsx("div",{className:"flex items-center justify-center",onClick:()=>r(t),children:d.jsx(di,{className:"hover:text-lilac",size:25})})]}),d.jsx("div",{className:"mt-4",children:d.jsxs("span",{children:["Categories: ",t.category]})})]})]})]})});var bc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Va=typeof window>"u"||"Deno"in globalThis;function Bn(){}function R5(t,e){return typeof t=="function"?t(e):t}function xg(t){return typeof t=="number"&&t>=0&&t!==1/0}function yb(t,e){return Math.max(t+(e||0)-Date.now(),0)}function la(t,e){return typeof t=="function"?t(e):t}function rr(t,e){return typeof t=="function"?t(e):t}function C1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Ov(o,e.options))return!1}else if(!Fu(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function A1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Vu(e.options.mutationKey)!==Vu(i))return!1}else if(!Fu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ov(t,e){return((e==null?void 0:e.queryKeyHashFn)||Vu)(t)}function Vu(t){return JSON.stringify(t,(e,n)=>Tg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Fu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Fu(t[n],e[n])):!1}function vb(t,e){if(t===e)return t;const n=R1(t)&&R1(e);if(n||Tg(t)&&Tg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let u=0;for(let c=0;c<o;c++){const h=n?c:i[c];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=vb(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function Eg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function R1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Tg(t){if(!k1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!k1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function k1(t){return Object.prototype.toString.call(t)==="[object Object]"}function k5(t){return new Promise(e=>{setTimeout(e,t)})}function Sg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?vb(t,e):e}function P5(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function N5(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var _b=Symbol();function wb(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===_b?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var zi,Us,ca,ox,j5=(ox=class extends bc{constructor(){super();ve(this,zi);ve(this,Us);ve(this,ca);oe(this,ca,e=>{if(!Va&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){L(this,Us)||this.setEventListener(L(this,ca))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,Us))==null||e.call(this),oe(this,Us,void 0))}setEventListener(e){var n;oe(this,ca,e),(n=L(this,Us))==null||n.call(this),oe(this,Us,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){L(this,zi)!==e&&(oe(this,zi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof L(this,zi)=="boolean"?L(this,zi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},zi=new WeakMap,Us=new WeakMap,ca=new WeakMap,ox),Dv=new j5,da,zs,ha,ax,O5=(ax=class extends bc{constructor(){super();ve(this,da,!0);ve(this,zs);ve(this,ha);oe(this,ha,e=>{if(!Va&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){L(this,zs)||this.setEventListener(L(this,ha))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,zs))==null||e.call(this),oe(this,zs,void 0))}setEventListener(e){var n;oe(this,ha,e),(n=L(this,zs))==null||n.call(this),oe(this,zs,e(this.setOnline.bind(this)))}setOnline(e){L(this,da)!==e&&(oe(this,da,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return L(this,da)}},da=new WeakMap,zs=new WeakMap,ha=new WeakMap,ax),Oh=new O5;function D5(t){return Math.min(1e3*2**t,3e4)}function xb(t){return(t??"online")==="online"?Oh.isOnline():!0}var Eb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Wp(t){return t instanceof Eb}function Tb(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((E,w)=>{i=E,o=w}),u=E=>{var w;r||(y(new Eb(E)),(w=t.abort)==null||w.call(t))},c=()=>{e=!0},h=()=>{e=!1},m=()=>Dv.isFocused()&&(t.networkMode==="always"||Oh.isOnline())&&t.canRun(),p=()=>xb(t.networkMode)&&t.canRun(),v=E=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,E),s==null||s(),i(E))},y=E=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,E),s==null||s(),o(E))},b=()=>new Promise(E=>{var w;s=S=>{(r||m())&&E(S)},(w=t.onPause)==null||w.call(t)}).then(()=>{var E;s=void 0,r||(E=t.onContinue)==null||E.call(t)}),P=()=>{if(r)return;let E;const w=n===0?t.initialPromise:void 0;try{E=w??t.fn()}catch(S){E=Promise.reject(S)}Promise.resolve(E).then(v).catch(S=>{var _;if(r)return;const D=t.retry??(Va?0:3),V=t.retryDelay??D5,q=typeof V=="function"?V(n,S):V,C=D===!0||typeof D=="number"&&n<D||typeof D=="function"&&D(n,S);if(e||!C){y(S);return}n++,(_=t.onFail)==null||_.call(t,n,S),k5(q).then(()=>m()?void 0:b()).then(()=>{e?y(S):P()})})};return{promise:a,cancel:u,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:h,canStart:p,start:()=>(p()?P():b().then(P),a)}}function L5(){let t=[],e=0,n=p=>{p()},r=p=>{p()},s=p=>setTimeout(p,0);const i=p=>{s=p},o=p=>{let v;e++;try{v=p()}finally{e--,e||c()}return v},a=p=>{e?t.push(p):s(()=>{n(p)})},u=p=>(...v)=>{a(()=>{p(...v)})},c=()=>{const p=t;t=[],p.length&&s(()=>{r(()=>{p.forEach(v=>{n(v)})})})};return{batch:o,batchCalls:u,schedule:a,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{r=p},setScheduler:i}}var Mt=L5(),Bi,lx,Sb=(lx=class{constructor(){ve(this,Bi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xg(this.gcTime)&&oe(this,Bi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Va?1/0:5*60*1e3))}clearGcTimeout(){L(this,Bi)&&(clearTimeout(L(this,Bi)),oe(this,Bi,void 0))}},Bi=new WeakMap,lx),fa,pa,zn,Yt,tc,$i,er,Zr,ux,M5=(ux=class extends Sb{constructor(e){super();ve(this,er);ve(this,fa);ve(this,pa);ve(this,zn);ve(this,Yt);ve(this,tc);ve(this,$i);oe(this,$i,!1),oe(this,tc,e.defaultOptions),this.setOptions(e.options),this.observers=[],oe(this,zn,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,oe(this,fa,V5(this.options)),this.state=e.state??L(this,fa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=L(this,Yt))==null?void 0:e.promise}setOptions(e){this.options={...L(this,tc),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,zn).remove(this)}setData(e,n){const r=Sg(this.state.data,e,this.options);return Ae(this,er,Zr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ae(this,er,Zr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=L(this,Yt))==null?void 0:r.promise;return(s=L(this,Yt))==null||s.cancel(e),n?n.then(Bn).catch(Bn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,fa))}isActive(){return this.observers.some(e=>rr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!yb(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=L(this,Yt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=L(this,Yt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),L(this,zn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(L(this,Yt)&&(L(this,$i)?L(this,Yt).cancel({revert:!0}):L(this,Yt).cancelRetry()),this.scheduleGc()),L(this,zn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ae(this,er,Zr).call(this,{type:"invalidate"})}fetch(e,n){var u,c,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(L(this,Yt))return L(this,Yt).continueRetry(),L(this,Yt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(oe(this,$i,!0),r.signal)})},i=()=>{const m=wb(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),oe(this,$i,!1),this.options.persister?this.options.persister(m,p,this):m(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(u=this.options.behavior)==null||u.onFetch(o,this),oe(this,pa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Ae(this,er,Zr).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const a=m=>{var p,v,y,b;Wp(m)&&m.silent||Ae(this,er,Zr).call(this,{type:"error",error:m}),Wp(m)||((v=(p=L(this,zn).config).onError)==null||v.call(p,m,this),(b=(y=L(this,zn).config).onSettled)==null||b.call(y,this.state.data,m,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return oe(this,Yt,Tb({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var p,v,y,b;if(m===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(m),(v=(p=L(this,zn).config).onSuccess)==null||v.call(p,m,this),(b=(y=L(this,zn).config).onSettled)==null||b.call(y,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(m,p)=>{Ae(this,er,Zr).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{Ae(this,er,Zr).call(this,{type:"pause"})},onContinue:()=>{Ae(this,er,Zr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),L(this,Yt).start()}},fa=new WeakMap,pa=new WeakMap,zn=new WeakMap,Yt=new WeakMap,tc=new WeakMap,$i=new WeakMap,er=new WeakSet,Zr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...bb(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Wp(s)&&s.revert&&L(this,pa)?{...L(this,pa),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Mt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),L(this,zn).notify({query:this,type:"updated",action:e})})},ux);function bb(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xb(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function V5(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Sr,cx,F5=(cx=class extends bc{constructor(e={}){super();ve(this,Sr);this.config=e,oe(this,Sr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Ov(s,n);let o=this.get(i);return o||(o=new M5({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){L(this,Sr).has(e.queryHash)||(L(this,Sr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=L(this,Sr).get(e.queryHash);n&&(e.destroy(),n===e&&L(this,Sr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return L(this,Sr).get(e)}getAll(){return[...L(this,Sr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>C1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>C1(e,r)):n}notify(e){Mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Sr=new WeakMap,cx),br,ln,qi,Ir,Rs,dx,U5=(dx=class extends Sb{constructor(e){super();ve(this,Ir);ve(this,br);ve(this,ln);ve(this,qi);this.mutationId=e.mutationId,oe(this,ln,e.mutationCache),oe(this,br,[]),this.state=e.state||z5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){L(this,br).includes(e)||(L(this,br).push(e),this.clearGcTimeout(),L(this,ln).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){oe(this,br,L(this,br).filter(n=>n!==e)),this.scheduleGc(),L(this,ln).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){L(this,br).length||(this.state.status==="pending"?this.scheduleGc():L(this,ln).remove(this))}continue(){var e;return((e=L(this,qi))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,u,c,h,m,p,v,y,b,P,E,w,S,D,V,q,C;oe(this,qi,Tb({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(_,I)=>{Ae(this,Ir,Rs).call(this,{type:"failed",failureCount:_,error:I})},onPause:()=>{Ae(this,Ir,Rs).call(this,{type:"pause"})},onContinue:()=>{Ae(this,Ir,Rs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,ln).canRun(this)}));const n=this.state.status==="pending",r=!L(this,qi).canStart();try{if(!n){Ae(this,Ir,Rs).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=L(this,ln).config).onMutate)==null?void 0:i.call(s,e,this));const I=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));I!==this.state.context&&Ae(this,Ir,Rs).call(this,{type:"pending",context:I,variables:e,isPaused:r})}const _=await L(this,qi).start();return await((c=(u=L(this,ln).config).onSuccess)==null?void 0:c.call(u,_,e,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,_,e,this.state.context)),await((v=(p=L(this,ln).config).onSettled)==null?void 0:v.call(p,_,null,this.state.variables,this.state.context,this)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,_,null,e,this.state.context)),Ae(this,Ir,Rs).call(this,{type:"success",data:_}),_}catch(_){try{throw await((E=(P=L(this,ln).config).onError)==null?void 0:E.call(P,_,e,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,_,e,this.state.context)),await((V=(D=L(this,ln).config).onSettled)==null?void 0:V.call(D,void 0,_,this.state.variables,this.state.context,this)),await((C=(q=this.options).onSettled)==null?void 0:C.call(q,void 0,_,e,this.state.context)),_}finally{Ae(this,Ir,Rs).call(this,{type:"error",error:_})}}finally{L(this,ln).runNext(this)}}},br=new WeakMap,ln=new WeakMap,qi=new WeakMap,Ir=new WeakSet,Rs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Mt.batch(()=>{L(this,br).forEach(r=>{r.onMutationUpdate(e)}),L(this,ln).notify({mutation:this,type:"updated",action:e})})},dx);function z5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kn,nc,hx,B5=(hx=class extends bc{constructor(e={}){super();ve(this,kn);ve(this,nc);this.config=e,oe(this,kn,new Map),oe(this,nc,Date.now())}build(e,n,r){const s=new U5({mutationCache:this,mutationId:++Hc(this,nc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=md(e),r=L(this,kn).get(n)??[];r.push(e),L(this,kn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=md(e);if(L(this,kn).has(n)){const s=(r=L(this,kn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?L(this,kn).delete(n):L(this,kn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=L(this,kn).get(md(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=L(this,kn).get(md(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...L(this,kn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>A1(n,r))}findAll(e={}){return this.getAll().filter(n=>A1(e,n))}notify(e){Mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Mt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Bn))))}},kn=new WeakMap,nc=new WeakMap,hx);function md(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function $5(t){return{onFetch:(e,n)=>{const r=async()=>{var y,b,P,E,w;const s=e.options,i=(P=(b=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:b.fetchMore)==null?void 0:P.direction,o=((E=e.state.data)==null?void 0:E.pages)||[],a=((w=e.state.data)==null?void 0:w.pageParams)||[],u={pages:[],pageParams:[]};let c=!1;const h=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},m=wb(e.options,e.fetchOptions),p=async(S,D,V)=>{if(c)return Promise.reject();if(D==null&&S.pages.length)return Promise.resolve(S);const q={queryKey:e.queryKey,pageParam:D,direction:V?"backward":"forward",meta:e.options.meta};h(q);const C=await m(q),{maxPages:_}=e.options,I=V?N5:P5;return{pages:I(S.pages,C,_),pageParams:I(S.pageParams,D,_)}};let v;if(i&&o.length){const S=i==="backward",D=S?q5:P1,V={pages:o,pageParams:a},q=D(s,V);v=await p(V,q,S)}else{v=await p(u,a[0]??s.initialPageParam);const S=t??o.length;for(let D=1;D<S;D++){const V=P1(s,v);if(V==null)break;v=await p(v,V)}}return v};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function P1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function q5(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var at,Bs,$s,ma,ga,qs,ya,va,fx,H5=(fx=class{constructor(t={}){ve(this,at);ve(this,Bs);ve(this,$s);ve(this,ma);ve(this,ga);ve(this,qs);ve(this,ya);ve(this,va);oe(this,at,t.queryCache||new F5),oe(this,Bs,t.mutationCache||new B5),oe(this,$s,t.defaultOptions||{}),oe(this,ma,new Map),oe(this,ga,new Map),oe(this,qs,0)}mount(){Hc(this,qs)._++,L(this,qs)===1&&(oe(this,ya,Dv.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,at).onFocus())})),oe(this,va,Oh.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,at).onOnline())})))}unmount(){var t,e;Hc(this,qs)._--,L(this,qs)===0&&((t=L(this,ya))==null||t.call(this),oe(this,ya,void 0),(e=L(this,va))==null||e.call(this),oe(this,va,void 0))}isFetching(t){return L(this,at).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return L(this,Bs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,at).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=L(this,at).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(la(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return L(this,at).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=L(this,at).get(r.queryHash),i=s==null?void 0:s.state.data,o=R5(e,i);if(o!==void 0)return L(this,at).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Mt.batch(()=>L(this,at).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,at).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=L(this,at);Mt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=L(this,at),r={type:"active",...t};return Mt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Mt.batch(()=>L(this,at).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Bn).catch(Bn)}invalidateQueries(t={},e={}){return Mt.batch(()=>{if(L(this,at).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Mt.batch(()=>L(this,at).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Bn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Bn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=L(this,at).build(this,e);return n.isStaleByTime(la(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Bn).catch(Bn)}fetchInfiniteQuery(t){return t.behavior=$5(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Bn).catch(Bn)}resumePausedMutations(){return Oh.isOnline()?L(this,Bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,at)}getMutationCache(){return L(this,Bs)}getDefaultOptions(){return L(this,$s)}setDefaultOptions(t){oe(this,$s,t)}setQueryDefaults(t,e){L(this,ma).set(Vu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...L(this,ma).values()];let n={};return e.forEach(r=>{Fu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){L(this,ga).set(Vu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...L(this,ga).values()];let n={};return e.forEach(r=>{Fu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...L(this,$s).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ov(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===_b&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...L(this,$s).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){L(this,at).clear(),L(this,Bs).clear()}},at=new WeakMap,Bs=new WeakMap,$s=new WeakMap,ma=new WeakMap,ga=new WeakMap,qs=new WeakMap,ya=new WeakMap,va=new WeakMap,fx),vn,Re,rc,un,Hi,_a,Cr,sc,wa,xa,Wi,Ki,Hs,Ea,Fe,Bl,bg,Ig,Cg,Ag,Rg,kg,Pg,Ib,px,W5=(px=class extends bc{constructor(e,n){super();ve(this,Fe);ve(this,vn);ve(this,Re);ve(this,rc);ve(this,un);ve(this,Hi);ve(this,_a);ve(this,Cr);ve(this,sc);ve(this,wa);ve(this,xa);ve(this,Wi);ve(this,Ki);ve(this,Hs);ve(this,Ea,new Set);this.options=n,oe(this,vn,e),oe(this,Cr,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,Re).addObserver(this),N1(L(this,Re),this.options)?Ae(this,Fe,Bl).call(this):this.updateResult(),Ae(this,Fe,Ag).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ng(L(this,Re),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ng(L(this,Re),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ae(this,Fe,Rg).call(this),Ae(this,Fe,kg).call(this),L(this,Re).removeObserver(this)}setOptions(e,n){const r=this.options,s=L(this,Re);if(this.options=L(this,vn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof rr(this.options.enabled,L(this,Re))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ae(this,Fe,Pg).call(this),L(this,Re).setOptions(this.options),r._defaulted&&!Eg(this.options,r)&&L(this,vn).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,Re),observer:this});const i=this.hasListeners();i&&j1(L(this,Re),s,this.options,r)&&Ae(this,Fe,Bl).call(this),this.updateResult(n),i&&(L(this,Re)!==s||rr(this.options.enabled,L(this,Re))!==rr(r.enabled,L(this,Re))||la(this.options.staleTime,L(this,Re))!==la(r.staleTime,L(this,Re)))&&Ae(this,Fe,bg).call(this);const o=Ae(this,Fe,Ig).call(this);i&&(L(this,Re)!==s||rr(this.options.enabled,L(this,Re))!==rr(r.enabled,L(this,Re))||o!==L(this,Hs))&&Ae(this,Fe,Cg).call(this,o)}getOptimisticResult(e){const n=L(this,vn).getQueryCache().build(L(this,vn),e),r=this.createResult(n,e);return Q5(this,r)&&(oe(this,un,r),oe(this,_a,this.options),oe(this,Hi,L(this,Re).state)),r}getCurrentResult(){return L(this,un)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){L(this,Ea).add(e)}getCurrentQuery(){return L(this,Re)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=L(this,vn).defaultQueryOptions(e),r=L(this,vn).getQueryCache().build(L(this,vn),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ae(this,Fe,Bl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,un)))}createResult(e,n){var C;const r=L(this,Re),s=this.options,i=L(this,un),o=L(this,Hi),a=L(this,_a),c=e!==r?e.state:L(this,rc),{state:h}=e;let m={...h},p=!1,v;if(n._optimisticResults){const _=this.hasListeners(),I=!_&&N1(e,n),R=_&&j1(e,r,n,s);(I||R)&&(m={...m,...bb(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:P}=m;if(n.select&&m.data!==void 0)if(i&&m.data===(o==null?void 0:o.data)&&n.select===L(this,sc))v=L(this,wa);else try{oe(this,sc,n.select),v=n.select(m.data),v=Sg(i==null?void 0:i.data,v,n),oe(this,wa,v),oe(this,Cr,null)}catch(_){oe(this,Cr,_)}else v=m.data;if(n.placeholderData!==void 0&&v===void 0&&P==="pending"){let _;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))_=i.data;else if(_=typeof n.placeholderData=="function"?n.placeholderData((C=L(this,xa))==null?void 0:C.state.data,L(this,xa)):n.placeholderData,n.select&&_!==void 0)try{_=n.select(_),oe(this,Cr,null)}catch(I){oe(this,Cr,I)}_!==void 0&&(P="success",v=Sg(i==null?void 0:i.data,_,n),p=!0)}L(this,Cr)&&(y=L(this,Cr),v=L(this,wa),b=Date.now(),P="error");const E=m.fetchStatus==="fetching",w=P==="pending",S=P==="error",D=w&&E,V=v!==void 0;return{status:P,fetchStatus:m.fetchStatus,isPending:w,isSuccess:P==="success",isError:S,isInitialLoading:D,isLoading:D,data:v,dataUpdatedAt:m.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>c.dataUpdateCount||m.errorUpdateCount>c.errorUpdateCount,isFetching:E,isRefetching:E&&!w,isLoadingError:S&&!V,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:S&&V,isStale:Lv(e,n),refetch:this.refetch}}updateResult(e){const n=L(this,un),r=this.createResult(L(this,Re),this.options);if(oe(this,Hi,L(this,Re).state),oe(this,_a,this.options),L(this,Hi).data!==void 0&&oe(this,xa,L(this,Re)),Eg(r,n))return;oe(this,un,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!L(this,Ea).size)return!0;const u=new Set(a??L(this,Ea));return this.options.throwOnError&&u.add("error"),Object.keys(L(this,un)).some(c=>{const h=c;return L(this,un)[h]!==n[h]&&u.has(h)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Ae(this,Fe,Ib).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ae(this,Fe,Ag).call(this)}},vn=new WeakMap,Re=new WeakMap,rc=new WeakMap,un=new WeakMap,Hi=new WeakMap,_a=new WeakMap,Cr=new WeakMap,sc=new WeakMap,wa=new WeakMap,xa=new WeakMap,Wi=new WeakMap,Ki=new WeakMap,Hs=new WeakMap,Ea=new WeakMap,Fe=new WeakSet,Bl=function(e){Ae(this,Fe,Pg).call(this);let n=L(this,Re).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Bn)),n},bg=function(){Ae(this,Fe,Rg).call(this);const e=la(this.options.staleTime,L(this,Re));if(Va||L(this,un).isStale||!xg(e))return;const r=yb(L(this,un).dataUpdatedAt,e)+1;oe(this,Wi,setTimeout(()=>{L(this,un).isStale||this.updateResult()},r))},Ig=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,Re)):this.options.refetchInterval)??!1},Cg=function(e){Ae(this,Fe,kg).call(this),oe(this,Hs,e),!(Va||rr(this.options.enabled,L(this,Re))===!1||!xg(L(this,Hs))||L(this,Hs)===0)&&oe(this,Ki,setInterval(()=>{(this.options.refetchIntervalInBackground||Dv.isFocused())&&Ae(this,Fe,Bl).call(this)},L(this,Hs)))},Ag=function(){Ae(this,Fe,bg).call(this),Ae(this,Fe,Cg).call(this,Ae(this,Fe,Ig).call(this))},Rg=function(){L(this,Wi)&&(clearTimeout(L(this,Wi)),oe(this,Wi,void 0))},kg=function(){L(this,Ki)&&(clearInterval(L(this,Ki)),oe(this,Ki,void 0))},Pg=function(){const e=L(this,vn).getQueryCache().build(L(this,vn),this.options);if(e===L(this,Re))return;const n=L(this,Re);oe(this,Re,e),oe(this,rc,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Ib=function(e){Mt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(L(this,un))}),L(this,vn).getQueryCache().notify({query:L(this,Re),type:"observerResultsUpdated"})})},px);function K5(t,e){return rr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function N1(t,e){return K5(t,e)||t.state.data!==void 0&&Ng(t,e,e.refetchOnMount)}function Ng(t,e,n){if(rr(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Lv(t,e)}return!1}function j1(t,e,n,r){return(t!==e||rr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Lv(t,n)}function Lv(t,e){return rr(e.enabled,t)!==!1&&t.isStaleByTime(la(e.staleTime,t))}function Q5(t,e){return!Eg(t.getCurrentResult(),e)}var Cb=z.createContext(void 0),G5=t=>{const e=z.useContext(Cb);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Z5=({client:t,children:e})=>(z.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(Cb.Provider,{value:t,children:e})),Ab=z.createContext(!1),J5=()=>z.useContext(Ab);Ab.Provider;function Y5(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var X5=z.createContext(Y5()),eL=()=>z.useContext(X5);function tL(t,e){return typeof t=="function"?t(...e):!!t}var nL=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},rL=t=>{z.useEffect(()=>{t.clearReset()},[t])},sL=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&tL(n,[t.error,r]),iL=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},oL=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,aL=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function lL(t,e,n){var c,h,m,p;const r=G5(),s=J5(),i=eL(),o=r.defaultQueryOptions(t);(h=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||h.call(c,o),o._optimisticResults=s?"isRestoring":"optimistic",iL(o),nL(o,i),rL(i);const[a]=z.useState(()=>new e(r,o)),u=a.getOptimisticResult(o);if(z.useSyncExternalStore(z.useCallback(v=>{const y=s?()=>{}:a.subscribe(Mt.batchCalls(v));return a.updateResult(),y},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),z.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),oL(o,u))throw aL(o,a,i);if(sL({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;return(p=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,o,u),o.notifyOnChangeProps?u:a.trackResult(u)}function uL(t,e){return lL(t,W5)}function Rb(t,e){return function(){return t.apply(e,arguments)}}const{toString:cL}=Object.prototype,{getPrototypeOf:Mv}=Object,Of=(t=>e=>{const n=cL.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yr=t=>(t=t.toLowerCase(),e=>Of(e)===t),Df=t=>e=>typeof e===t,{isArray:Xa}=Array,Uu=Df("undefined");function dL(t){return t!==null&&!Uu(t)&&t.constructor!==null&&!Uu(t.constructor)&&Dn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const kb=yr("ArrayBuffer");function hL(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&kb(t.buffer),e}const fL=Df("string"),Dn=Df("function"),Pb=Df("number"),Lf=t=>t!==null&&typeof t=="object",pL=t=>t===!0||t===!1,Vd=t=>{if(Of(t)!=="object")return!1;const e=Mv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},mL=yr("Date"),gL=yr("File"),yL=yr("Blob"),vL=yr("FileList"),_L=t=>Lf(t)&&Dn(t.pipe),wL=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Dn(t.append)&&((e=Of(t))==="formdata"||e==="object"&&Dn(t.toString)&&t.toString()==="[object FormData]"))},xL=yr("URLSearchParams"),[EL,TL,SL,bL]=["ReadableStream","Request","Response","Headers"].map(yr),IL=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ic(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Xa(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function Nb(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Fi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jb=t=>!Uu(t)&&t!==Fi;function jg(){const{caseless:t}=jb(this)&&this||{},e={},n=(r,s)=>{const i=t&&Nb(e,s)||s;Vd(e[i])&&Vd(r)?e[i]=jg(e[i],r):Vd(r)?e[i]=jg({},r):Xa(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ic(arguments[r],n);return e}const CL=(t,e,n,{allOwnKeys:r}={})=>(Ic(e,(s,i)=>{n&&Dn(s)?t[i]=Rb(s,n):t[i]=s},{allOwnKeys:r}),t),AL=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),RL=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},kL=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Mv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},PL=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},NL=t=>{if(!t)return null;if(Xa(t))return t;let e=t.length;if(!Pb(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},jL=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Mv(Uint8Array)),OL=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},DL=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},LL=yr("HTMLFormElement"),ML=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),O1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),VL=yr("RegExp"),Ob=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ic(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},FL=t=>{Ob(t,(e,n)=>{if(Dn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Dn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},UL=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Xa(t)?r(t):r(String(t).split(e)),n},zL=()=>{},BL=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Kp="abcdefghijklmnopqrstuvwxyz",D1="0123456789",Db={DIGIT:D1,ALPHA:Kp,ALPHA_DIGIT:Kp+Kp.toUpperCase()+D1},$L=(t=16,e=Db.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function qL(t){return!!(t&&Dn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const HL=t=>{const e=new Array(10),n=(r,s)=>{if(Lf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Xa(r)?[]:{};return Ic(r,(o,a)=>{const u=n(o,s+1);!Uu(u)&&(i[a]=u)}),e[s]=void 0,i}}return r};return n(t,0)},WL=yr("AsyncFunction"),KL=t=>t&&(Lf(t)||Dn(t))&&Dn(t.then)&&Dn(t.catch),Lb=((t,e)=>t?setImmediate:e?((n,r)=>(Fi.addEventListener("message",({source:s,data:i})=>{s===Fi&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Fi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Dn(Fi.postMessage)),QL=typeof queueMicrotask<"u"?queueMicrotask.bind(Fi):typeof process<"u"&&process.nextTick||Lb,U={isArray:Xa,isArrayBuffer:kb,isBuffer:dL,isFormData:wL,isArrayBufferView:hL,isString:fL,isNumber:Pb,isBoolean:pL,isObject:Lf,isPlainObject:Vd,isReadableStream:EL,isRequest:TL,isResponse:SL,isHeaders:bL,isUndefined:Uu,isDate:mL,isFile:gL,isBlob:yL,isRegExp:VL,isFunction:Dn,isStream:_L,isURLSearchParams:xL,isTypedArray:jL,isFileList:vL,forEach:Ic,merge:jg,extend:CL,trim:IL,stripBOM:AL,inherits:RL,toFlatObject:kL,kindOf:Of,kindOfTest:yr,endsWith:PL,toArray:NL,forEachEntry:OL,matchAll:DL,isHTMLForm:LL,hasOwnProperty:O1,hasOwnProp:O1,reduceDescriptors:Ob,freezeMethods:FL,toObjectSet:UL,toCamelCase:ML,noop:zL,toFiniteNumber:BL,findKey:Nb,global:Fi,isContextDefined:jb,ALPHABET:Db,generateString:$L,isSpecCompliantForm:qL,toJSONObject:HL,isAsyncFn:WL,isThenable:KL,setImmediate:Lb,asap:QL};function xe(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}U.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Mb=xe.prototype,Vb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Vb[t]={value:t}});Object.defineProperties(xe,Vb);Object.defineProperty(Mb,"isAxiosError",{value:!0});xe.from=(t,e,n,r,s,i)=>{const o=Object.create(Mb);return U.toFlatObject(t,o,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),xe.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const GL=null;function Og(t){return U.isPlainObject(t)||U.isArray(t)}function Fb(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function L1(t,e,n){return t?t.concat(e).map(function(s,i){return s=Fb(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function ZL(t){return U.isArray(t)&&!t.some(Og)}const JL=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function Mf(t,e,n){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,P){return!U.isUndefined(P[b])});const r=n.metaTokens,s=n.visitor||h,i=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(s))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(U.isDate(y))return y.toISOString();if(!u&&U.isBlob(y))throw new xe("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(y)||U.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function h(y,b,P){let E=y;if(y&&!P&&typeof y=="object"){if(U.endsWith(b,"{}"))b=r?b:b.slice(0,-2),y=JSON.stringify(y);else if(U.isArray(y)&&ZL(y)||(U.isFileList(y)||U.endsWith(b,"[]"))&&(E=U.toArray(y)))return b=Fb(b),E.forEach(function(S,D){!(U.isUndefined(S)||S===null)&&e.append(o===!0?L1([b],D,i):o===null?b:b+"[]",c(S))}),!1}return Og(y)?!0:(e.append(L1(P,b,i),c(y)),!1)}const m=[],p=Object.assign(JL,{defaultVisitor:h,convertValue:c,isVisitable:Og});function v(y,b){if(!U.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(y),U.forEach(y,function(E,w){(!(U.isUndefined(E)||E===null)&&s.call(e,E,U.isString(w)?w.trim():w,b,p))===!0&&v(E,b?b.concat(w):[w])}),m.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return v(t),e}function M1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Vv(t,e){this._pairs=[],t&&Mf(t,this,e)}const Ub=Vv.prototype;Ub.append=function(e,n){this._pairs.push([e,n])};Ub.toString=function(e){const n=e?function(r){return e.call(this,r,M1)}:M1;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function YL(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zb(t,e,n){if(!e)return t;const r=n&&n.encode||YL,s=n&&n.serialize;let i;if(s?i=s(e,n):i=U.isURLSearchParams(e)?e.toString():new Vv(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class V1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Bb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},XL=typeof URLSearchParams<"u"?URLSearchParams:Vv,eM=typeof FormData<"u"?FormData:null,tM=typeof Blob<"u"?Blob:null,nM={isBrowser:!0,classes:{URLSearchParams:XL,FormData:eM,Blob:tM},protocols:["http","https","file","blob","url","data"]},Fv=typeof window<"u"&&typeof document<"u",rM=(t=>Fv&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),sM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",iM=Fv&&window.location.href||"http://localhost",oM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fv,hasStandardBrowserEnv:rM,hasStandardBrowserWebWorkerEnv:sM,origin:iM},Symbol.toStringTag,{value:"Module"})),cr={...oM,...nM};function aM(t,e){return Mf(t,new cr.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return cr.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function lM(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function uM(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function $b(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),u=i>=n.length;return o=!o&&U.isArray(s)?s.length:o,u?(U.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!U.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&U.isArray(s[o])&&(s[o]=uM(s[o])),!a)}if(U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,(r,s)=>{e(lM(r),s,n,0)}),n}return null}function cM(t,e,n){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Cc={transitional:Bb,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=U.isObject(e);if(i&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return s?JSON.stringify($b(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e)||U.isReadableStream(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return aM(e,this.formSerializer).toString();if((a=U.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Mf(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),cM(e)):e}],transformResponse:[function(e){const n=this.transitional||Cc.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(U.isResponse(e)||U.isReadableStream(e))return e;if(e&&U.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?xe.from(a,xe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cr.classes.FormData,Blob:cr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{Cc.headers[t]={}});const dM=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hM=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&dM[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},F1=Symbol("internals");function Rl(t){return t&&String(t).trim().toLowerCase()}function Fd(t){return t===!1||t==null?t:U.isArray(t)?t.map(Fd):String(t)}function fM(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const pM=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Qp(t,e,n,r,s){if(U.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!U.isString(e)){if(U.isString(r))return e.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(e)}}function mM(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function gM(t,e){const n=U.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class bn{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,u,c){const h=Rl(u);if(!h)throw new Error("header name must be a non-empty string");const m=U.findKey(s,h);(!m||s[m]===void 0||c===!0||c===void 0&&s[m]!==!1)&&(s[m||u]=Fd(a))}const o=(a,u)=>U.forEach(a,(c,h)=>i(c,h,u));if(U.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(U.isString(e)&&(e=e.trim())&&!pM(e))o(hM(e),n);else if(U.isHeaders(e))for(const[a,u]of e.entries())i(u,a,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=Rl(e),e){const r=U.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return fM(s);if(U.isFunction(n))return n.call(this,s,r);if(U.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Rl(e),e){const r=U.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Qp(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=Rl(o),o){const a=U.findKey(r,o);a&&(!n||Qp(r,r[a],a,n))&&(delete r[a],s=!0)}}return U.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Qp(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return U.forEach(this,(s,i)=>{const o=U.findKey(r,i);if(o){n[o]=Fd(s),delete n[i];return}const a=e?mM(i):String(i).trim();a!==i&&delete n[i],n[a]=Fd(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return U.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[F1]=this[F1]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Rl(o);r[a]||(gM(s,o),r[a]=!0)}return U.isArray(e)?e.forEach(i):i(e),this}}bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(bn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});U.freezeMethods(bn);function Gp(t,e){const n=this||Cc,r=e||n,s=bn.from(r.headers);let i=r.data;return U.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function qb(t){return!!(t&&t.__CANCEL__)}function el(t,e,n){xe.call(this,t??"canceled",xe.ERR_CANCELED,e,n),this.name="CanceledError"}U.inherits(el,xe,{__CANCEL__:!0});function Hb(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new xe("Request failed with status code "+n.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function yM(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function vM(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),h=r[i];o||(o=c),n[s]=u,r[s]=c;let m=i,p=0;for(;m!==s;)p+=n[m++],m=m%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const v=h&&c-h;return v?Math.round(p*1e3/v):void 0}}function _M(t,e){let n=0,r=1e3/e,s,i;const o=(c,h=Date.now())=>{n=h,s=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const h=Date.now(),m=h-n;m>=r?o(c,h):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-m)))},()=>s&&o(s)]}const Dh=(t,e,n=3)=>{let r=0;const s=vM(50,250);return _M(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,u=o-r,c=s(u),h=o<=a;r=o;const m={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:c||void 0,estimated:c&&a&&h?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(m)},n)},U1=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},z1=t=>(...e)=>U.asap(()=>t(...e)),wM=cr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=U.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),xM=cr.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];U.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),U.isString(r)&&o.push("path="+r),U.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function EM(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function TM(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Wb(t,e){return t&&!EM(e)?TM(t,e):e}const B1=t=>t instanceof bn?{...t}:t;function ho(t,e){e=e||{};const n={};function r(c,h,m){return U.isPlainObject(c)&&U.isPlainObject(h)?U.merge.call({caseless:m},c,h):U.isPlainObject(h)?U.merge({},h):U.isArray(h)?h.slice():h}function s(c,h,m){if(U.isUndefined(h)){if(!U.isUndefined(c))return r(void 0,c,m)}else return r(c,h,m)}function i(c,h){if(!U.isUndefined(h))return r(void 0,h)}function o(c,h){if(U.isUndefined(h)){if(!U.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function a(c,h,m){if(m in e)return r(c,h);if(m in t)return r(void 0,c)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h)=>s(B1(c),B1(h),!0)};return U.forEach(Object.keys(Object.assign({},t,e)),function(h){const m=u[h]||s,p=m(t[h],e[h],h);U.isUndefined(p)&&m!==a||(n[h]=p)}),n}const Kb=t=>{const e=ho({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=bn.from(o),e.url=zb(Wb(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let u;if(U.isFormData(n)){if(cr.hasStandardBrowserEnv||cr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[c,...h]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...h].join("; "))}}if(cr.hasStandardBrowserEnv&&(r&&U.isFunction(r)&&(r=r(e)),r||r!==!1&&wM(e.url))){const c=s&&i&&xM.read(i);c&&o.set(s,c)}return e},SM=typeof XMLHttpRequest<"u",bM=SM&&function(t){return new Promise(function(n,r){const s=Kb(t);let i=s.data;const o=bn.from(s.headers).normalize();let{responseType:a,onUploadProgress:u,onDownloadProgress:c}=s,h,m,p,v,y;function b(){v&&v(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let P=new XMLHttpRequest;P.open(s.method.toUpperCase(),s.url,!0),P.timeout=s.timeout;function E(){if(!P)return;const S=bn.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),V={data:!a||a==="text"||a==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:S,config:t,request:P};Hb(function(C){n(C),b()},function(C){r(C),b()},V),P=null}"onloadend"in P?P.onloadend=E:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(E)},P.onabort=function(){P&&(r(new xe("Request aborted",xe.ECONNABORTED,t,P)),P=null)},P.onerror=function(){r(new xe("Network Error",xe.ERR_NETWORK,t,P)),P=null},P.ontimeout=function(){let D=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const V=s.transitional||Bb;s.timeoutErrorMessage&&(D=s.timeoutErrorMessage),r(new xe(D,V.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,t,P)),P=null},i===void 0&&o.setContentType(null),"setRequestHeader"in P&&U.forEach(o.toJSON(),function(D,V){P.setRequestHeader(V,D)}),U.isUndefined(s.withCredentials)||(P.withCredentials=!!s.withCredentials),a&&a!=="json"&&(P.responseType=s.responseType),c&&([p,y]=Dh(c,!0),P.addEventListener("progress",p)),u&&P.upload&&([m,v]=Dh(u),P.upload.addEventListener("progress",m),P.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(h=S=>{P&&(r(!S||S.type?new el(null,t,P):S),P.abort(),P=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const w=yM(s.url);if(w&&cr.protocols.indexOf(w)===-1){r(new xe("Unsupported protocol "+w+":",xe.ERR_BAD_REQUEST,t));return}P.send(i||null)})},IM=(t,e)=>{let n=new AbortController,r;const s=function(u){if(!r){r=!0,o();const c=u instanceof Error?u:this.reason;n.abort(c instanceof xe?c:new el(c instanceof Error?c.message:c))}};let i=e&&setTimeout(()=>{s(new xe(`timeout ${e} of ms exceeded`,xe.ETIMEDOUT))},e);const o=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u&&(u.removeEventListener?u.removeEventListener("abort",s):u.unsubscribe(s))}),t=null)};t.forEach(u=>u&&u.addEventListener&&u.addEventListener("abort",s));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{i&&clearTimeout(i),i=null}]},CM=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},AM=async function*(t,e,n){for await(const r of t)yield*CM(ArrayBuffer.isView(r)?r:await n(String(r)),e)},$1=(t,e,n,r,s)=>{const i=AM(t,e,s);let o=0,a,u=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:h,value:m}=await i.next();if(h){u(),c.close();return}let p=m.byteLength;if(n){let v=o+=p;n(v)}c.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(c){return u(c),i.return()}},{highWaterMark:2})},Vf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Qb=Vf&&typeof ReadableStream=="function",Dg=Vf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Gb=(t,...e)=>{try{return!!t(...e)}catch{return!1}},RM=Qb&&Gb(()=>{let t=!1;const e=new Request(cr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),q1=64*1024,Lg=Qb&&Gb(()=>U.isReadableStream(new Response("").body)),Lh={stream:Lg&&(t=>t.body)};Vf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Lh[e]&&(Lh[e]=U.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new xe(`Response type '${e}' is not supported`,xe.ERR_NOT_SUPPORT,r)})})})(new Response);const kM=async t=>{if(t==null)return 0;if(U.isBlob(t))return t.size;if(U.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(U.isArrayBufferView(t)||U.isArrayBuffer(t))return t.byteLength;if(U.isURLSearchParams(t)&&(t=t+""),U.isString(t))return(await Dg(t)).byteLength},PM=async(t,e)=>{const n=U.toFiniteNumber(t.getContentLength());return n??kM(e)},NM=Vf&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:u,responseType:c,headers:h,withCredentials:m="same-origin",fetchOptions:p}=Kb(t);c=c?(c+"").toLowerCase():"text";let[v,y]=s||i||o?IM([s,i],o):[],b,P;const E=()=>{!b&&setTimeout(()=>{v&&v.unsubscribe()}),b=!0};let w;try{if(u&&RM&&n!=="get"&&n!=="head"&&(w=await PM(h,r))!==0){let q=new Request(e,{method:"POST",body:r,duplex:"half"}),C;if(U.isFormData(r)&&(C=q.headers.get("content-type"))&&h.setContentType(C),q.body){const[_,I]=U1(w,Dh(z1(u)));r=$1(q.body,q1,_,I,Dg)}}U.isString(m)||(m=m?"include":"omit"),P=new Request(e,{...p,signal:v,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:m});let S=await fetch(P);const D=Lg&&(c==="stream"||c==="response");if(Lg&&(a||D)){const q={};["status","statusText","headers"].forEach(R=>{q[R]=S[R]});const C=U.toFiniteNumber(S.headers.get("content-length")),[_,I]=a&&U1(C,Dh(z1(a),!0))||[];S=new Response($1(S.body,q1,_,()=>{I&&I(),D&&E()},Dg),q)}c=c||"text";let V=await Lh[U.findKey(Lh,c)||"text"](S,t);return!D&&E(),y&&y(),await new Promise((q,C)=>{Hb(q,C,{data:V,headers:bn.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:P})})}catch(S){throw E(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new xe("Network Error",xe.ERR_NETWORK,t,P),{cause:S.cause||S}):xe.from(S,S&&S.code,t,P)}}),Mg={http:GL,xhr:bM,fetch:NM};U.forEach(Mg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const H1=t=>`- ${t}`,jM=t=>U.isFunction(t)||t===null||t===!1,Zb={getAdapter:t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!jM(n)&&(r=Mg[(o=String(n)).toLowerCase()],r===void 0))throw new xe(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(H1).join(`
`):" "+H1(i[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Mg};function Zp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new el(null,t)}function W1(t){return Zp(t),t.headers=bn.from(t.headers),t.data=Gp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Zb.getAdapter(t.adapter||Cc.adapter)(t).then(function(r){return Zp(t),r.data=Gp.call(t,t.transformResponse,r),r.headers=bn.from(r.headers),r},function(r){return qb(r)||(Zp(t),r&&r.response&&(r.response.data=Gp.call(t,t.transformResponse,r.response),r.response.headers=bn.from(r.response.headers))),Promise.reject(r)})}const Jb="1.7.3",Uv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Uv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const K1={};Uv.transitional=function(e,n,r){function s(i,o){return"[Axios v"+Jb+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new xe(s(o," has been removed"+(n?" in "+n:"")),xe.ERR_DEPRECATED);return n&&!K1[o]&&(K1[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function OM(t,e,n){if(typeof t!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],u=a===void 0||o(a,i,t);if(u!==!0)throw new xe("option "+i+" must be "+u,xe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new xe("Unknown option "+i,xe.ERR_BAD_OPTION)}}const Vg={assertOptions:OM,validators:Uv},As=Vg.validators;class Ji{constructor(e){this.defaults=e,this.interceptors={request:new V1,response:new V1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ho(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Vg.assertOptions(r,{silentJSONParsing:As.transitional(As.boolean),forcedJSONParsing:As.transitional(As.boolean),clarifyTimeoutError:As.transitional(As.boolean)},!1),s!=null&&(U.isFunction(s)?n.paramsSerializer={serialize:s}:Vg.assertOptions(s,{encode:As.function,serialize:As.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&U.merge(i.common,i[n.method]);i&&U.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=bn.concat(o,i);const a=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(u=u&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let h,m=0,p;if(!u){const y=[W1.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,c),p=y.length,h=Promise.resolve(n);m<p;)h=h.then(y[m++],y[m++]);return h}p=a.length;let v=n;for(m=0;m<p;){const y=a[m++],b=a[m++];try{v=y(v)}catch(P){b.call(this,P);break}}try{h=W1.call(this,v)}catch(y){return Promise.reject(y)}for(m=0,p=c.length;m<p;)h=h.then(c[m++],c[m++]);return h}getUri(e){e=ho(this.defaults,e);const n=Wb(e.baseURL,e.url);return zb(n,e.params,e.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(e){Ji.prototype[e]=function(n,r){return this.request(ho(r||{},{method:e,url:n,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(ho(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ji.prototype[e]=n(),Ji.prototype[e+"Form"]=n(!0)});class zv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new el(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new zv(function(s){e=s}),cancel:e}}}function DM(t){return function(n){return t.apply(null,n)}}function LM(t){return U.isObject(t)&&t.isAxiosError===!0}const Fg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fg).forEach(([t,e])=>{Fg[e]=t});function Yb(t){const e=new Ji(t),n=Rb(Ji.prototype.request,e);return U.extend(n,Ji.prototype,e,{allOwnKeys:!0}),U.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return Yb(ho(t,s))},n}const yt=Yb(Cc);yt.Axios=Ji;yt.CanceledError=el;yt.CancelToken=zv;yt.isCancel=qb;yt.VERSION=Jb;yt.toFormData=Mf;yt.AxiosError=xe;yt.Cancel=yt.CanceledError;yt.all=function(e){return Promise.all(e)};yt.spread=DM;yt.isAxiosError=LM;yt.mergeConfig=ho;yt.AxiosHeaders=bn;yt.formToJSON=t=>$b(U.isHTMLForm(t)?new FormData(t):t);yt.getAdapter=Zb.getAdapter;yt.HttpStatusCode=Fg;yt.default=yt;const MM=async()=>(await yt.get("https://fakestoreapi.com/products")).data.map(e=>({...e,quantity:1})),To=()=>{const{data:t,isLoading:e,error:n,refetch:r}=uL({queryKey:["products"],queryFn:MM}),[s,i]=z.useState([]);return z.useEffect(()=>{t&&i(t)},[t]),{products:s,isLoading:e,error:n,refetch:r,incrementProductQuantity:u=>{i(c=>c.map(h=>h.id===u?{...h,quantity:h.quantity+1}:h))},decrementProductQuantity:u=>{i(c=>c.map(h=>h.id===u&&h.quantity>1?{...h,quantity:h.quantity-1}:h))}}},Ac=()=>{const[t,e]=z.useState(null);return{isShow:t,setIsShow:e,handleShow:r=>{e(t===r?null:r)}}},Ff=()=>{const[t,e]=z.useState(null);return{isProductModal:t,handleProductModal:s=>{e(i=>i===s?null:s)},closeProductModal:()=>{e(null)}}},VM=t=>{let e=t.length;const n=25;return e>n?t.slice(0,n)+"...":t},Bv=t=>{let e=t.length;const n=20;return e>n?t.slice(0,n)+"...":t};function FM(t){return Me({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M144.27,45.93a8,8,0,0,1,9.8-5.66,86.22,86.22,0,0,1,61.66,61.66,8,8,0,0,1-5.66,9.8A8.23,8.23,0,0,1,208,112a8,8,0,0,1-7.73-5.93,70.35,70.35,0,0,0-50.33-50.34A8,8,0,0,1,144.27,45.93Zm-2.33,41.8c13.79,3.68,22.65,12.55,26.33,26.34A8,8,0,0,0,176,120a8.23,8.23,0,0,0,2.07-.27,8,8,0,0,0,5.66-9.8c-5.12-19.16-18.5-32.54-37.66-37.66a8,8,0,1,0-4.13,15.46Zm72.43,78.73-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L126.87,168c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L89.54,41.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,24,88c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,214.37,166.46Z"},child:[]}]})(t)}function Uf(t){return Me({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M230.14,58.87A8,8,0,0,0,224,56H62.68L56.6,22.57A8,8,0,0,0,48.73,16H24a8,8,0,0,0,0,16h18L67.56,172.29a24,24,0,0,0,5.33,11.27,28,28,0,1,0,44.4,8.44h45.42A27.75,27.75,0,0,0,160,204a28,28,0,1,0,28-28H91.17a8,8,0,0,1-7.87-6.57L80.13,152h116a24,24,0,0,0,23.61-19.71l12.16-66.86A8,8,0,0,0,230.14,58.87ZM104,204a12,12,0,1,1-12-12A12,12,0,0,1,104,204Zm96,0a12,12,0,1,1-12-12A12,12,0,0,1,200,204Z"},child:[]}]})(t)}function UM(){const{products:t,isLoading:e,error:n,refetch:r}=To(),{isShow:s,setIsShow:i,handleShow:o}=Ac(),{isProductModal:a,handleProductModal:u,closeProductModal:c}=Ff(),{addToCart:h}=z.useContext(gr),{addToWishList:m}=z.useContext(Eo);return e?d.jsx("div",{className:"fixed inset-0 z-[60] flex justify-center items-center bg-white ",children:d.jsx("div",{className:"w-12 h-12 aspect-square rounded-full border-8 border-lilac border-t-transparent animate-spin"})}):n?d.jsxs("div",{className:"fixed inset-0 z-[60] flex flex-col items-center justify-center bg-white",children:[d.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Something went wrong"}),d.jsxs("p",{className:"text-gray-600 mb-6",children:["Error: ",n.message]}),d.jsx("button",{className:"bg-lilac text-white py-2 px-4 rounded hover:bg-lilac-dark transition duration-300",onClick:()=>r(),children:"Refresh Page"})]}):d.jsxs(b5,{children:[d.jsx(I5,{}),d.jsx("div",{className:"h-fit grid grid-cols-5 gap-10 md:grid-cols-2 sm:grid-cols-1 ",children:t.slice(0,10).map(p=>d.jsxs("div",{className:"h-96 md:h-fit sm:h-fit ",children:[d.jsxs("div",{className:"h-3/5 relative border shadow-sm md:h-[27rem] sm:h-[27rem] ",onMouseEnter:()=>o(p.id),onMouseLeave:()=>i(!1),onClick:()=>o(p.id),children:[d.jsx("img",{src:p.image,alt:p.title,className:" p-5 w-full h-full sm:object-contain "}),s===p.id&&d.jsxs("div",{className:" flex absolute top-2/4 w-full justify-center ",children:[d.jsx("button",{className:"size-8 flex justify-center items-center bg-lilac rounded-full mr-2 hover:bg-black md:size-12 sm:size-12",onClick:()=>h(p),children:d.jsx(Uf,{className:"text-white size-5 md:size-8 sm:size-8 "})}),d.jsx("button",{className:"size-8 flex justify-center items-center bg-lilac rounded-full mr-2 hover:bg-black md:size-12 sm:size-12",onClick:()=>u(p.id),children:d.jsx(Nf,{className:"text-white size-5 md:size-10 sm:size-10"})}),d.jsx("button",{className:"size-8 flex justify-center items-center bg-lilac rounded-full hover:bg-black md:size-12 sm:size-12",onClick:()=>m(p),children:d.jsx(di,{className:"text-white size-5 md:size-10 sm:size-10"})})]}),a===p.id&&d.jsx(jf,{items:p,closeModal:c,addToCart:h,addToWishList:m})]}),d.jsxs("div",{className:" mt-6 ",children:[d.jsx("p",{className:"hover:text-lilac",children:d.jsx(et,{to:`product-details/${p.id}`,children:Bv(p.title)})}),d.jsxs("p",{children:["$ ",p.price]})]})]},p.id))})]})}function zM({children:t}){return d.jsx("div",{className:" pt-[6.25rem] pb-[3.75rem] px-[7.5rem] md:px-11 sm:px-10 ",children:t})}function BM(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M5 17h-2v-4m-1 -8h11v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5"},child:[]},{tag:"path",attr:{d:"M3 9l4 0"},child:[]}]})(t)}function $M(){return d.jsx(zM,{children:d.jsxs("div",{className:" flex md:text-sm sm:flex-col sm:text-sm ",children:[d.jsx("div",{className:" px-[0.9rem] ",children:d.jsxs("div",{className:' mb-7 relative text-center before:absolute before:bg-[rgb(213,212,212)] before:content-[""] before:h-[3.8rem] before:w-[0.062rem] before:top-2/4 before:right-[-0.875rem] before:translate-y-[-50%] sm:before:hidden ',children:[d.jsx("div",{className:"flex justify-center ",children:d.jsx(BM,{size:50,className:"  "})}),d.jsx("h5",{className:" text-[1.125rem] my-4 ",children:"Free Shipping"}),d.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit sed"})]})}),d.jsx("div",{className:" px-[0.9rem] ",children:d.jsxs("div",{className:' mb-7 relative text-center before:absolute before:bg-[#d5d4d4] before:content-[""] before:h-[3.8rem] before:w-[0.062rem] before:top-2/4 before:right-[-0.875rem] before:translate-y-[-50%] sm:before:hidden ',children:[d.jsx("div",{className:"flex justify-center ",children:d.jsx(dP,{size:50,className:"  "})}),d.jsx("h5",{className:" text-[1.125rem] my-4 fo ",children:"Support 24/7"}),d.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit sed"})]})}),d.jsx("div",{className:" px-[0.9rem] ",children:d.jsxs("div",{className:" mb-7 relative text-center ",children:[d.jsx("div",{className:"flex justify-center ",children:d.jsx(hP,{size:50,className:"  "})}),d.jsx("h5",{className:" text-[1.125rem] my-4 fo ",children:"Money Return"}),d.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit sed"})]})})]})})}function qM(){return d.jsxs("div",{className:"h-fit",children:[d.jsx(S5,{}),d.jsx($M,{}),d.jsx(UM,{})]})}function HM(){return d.jsx(d.Fragment,{children:d.jsx(qM,{})})}var Rc=t=>t.type==="checkbox",Go=t=>t instanceof Date,dn=t=>t==null;const Xb=t=>typeof t=="object";var It=t=>!dn(t)&&!Array.isArray(t)&&Xb(t)&&!Go(t),WM=t=>It(t)&&t.target?Rc(t.target)?t.target.checked:t.target.value:t,KM=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,QM=(t,e)=>t.has(KM(e)),GM=t=>{const e=t.constructor&&t.constructor.prototype;return It(e)&&e.hasOwnProperty("isPrototypeOf")},$v=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Un(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!($v&&(t instanceof Blob||t instanceof FileList))&&(n||It(t)))if(e=n?[]:{},!n&&!GM(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Un(t[r]));else return t;return e}var zf=t=>Array.isArray(t)?t.filter(Boolean):[],dt=t=>t===void 0,te=(t,e,n)=>{if(!e||!It(t))return n;const r=zf(e.split(/[,[\].]+?/)).reduce((s,i)=>dn(s)?s:s[i],t);return dt(r)||r===t?dt(t[e])?n:t[e]:r},Vs=t=>typeof t=="boolean",qv=t=>/^\w*$/.test(t),eI=t=>zf(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Be=(t,e,n)=>{let r=-1;const s=qv(e)?[e]:eI(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let u=n;if(r!==o){const c=t[a];u=It(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=u,t=t[a]}return t};const Q1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ir={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Gr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ct.createContext(null);var ZM=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==ir.all&&(e._proxyFormState[o]=!r||ir.all),t[o]}});return s},Pn=t=>It(t)&&!Object.keys(t).length,JM=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Pn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===ir.all)},Ud=t=>Array.isArray(t)?t:[t];function YM(t){const e=ct.useRef(t);e.current=t,ct.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var kr=t=>typeof t=="string",XM=(t,e,n,r,s)=>kr(t)?(r&&e.watch.add(t),te(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),te(n,i))):(r&&(e.watchAll=!0),n),tI=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},G1=t=>({isOnSubmit:!t||t===ir.onSubmit,isOnBlur:t===ir.onBlur,isOnChange:t===ir.onChange,isOnAll:t===ir.all,isOnTouch:t===ir.onTouched}),Z1=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const au=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=te(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;au(a,e)}else It(a)&&au(a,e)}}};var eV=(t,e,n)=>{const r=Ud(te(t,n));return Be(r,"root",e[n]),Be(t,n,r),t},Hv=t=>t.type==="file",Gs=t=>typeof t=="function",Mh=t=>{if(!$v)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},zd=t=>kr(t),Wv=t=>t.type==="radio",Vh=t=>t instanceof RegExp;const J1={value:!1,isValid:!1},Y1={value:!0,isValid:!0};var nI=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!dt(t[0].attributes.value)?dt(t[0].value)||t[0].value===""?Y1:{value:t[0].value,isValid:!0}:Y1:J1}return J1};const X1={isValid:!1,value:null};var rI=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,X1):X1;function ex(t,e,n="validate"){if(zd(t)||Array.isArray(t)&&t.every(zd)||Vs(t)&&!t)return{type:n,message:zd(t)?t:"",ref:e}}var ko=t=>It(t)&&!Vh(t)?t:{value:t,message:""},tx=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:u,minLength:c,min:h,max:m,pattern:p,validate:v,name:y,valueAsNumber:b,mount:P,disabled:E}=t._f,w=te(e,y);if(!P||E)return{};const S=o?o[0]:i,D=j=>{r&&S.reportValidity&&(S.setCustomValidity(Vs(j)?"":j||""),S.reportValidity())},V={},q=Wv(i),C=Rc(i),_=q||C,I=(b||Hv(i))&&dt(i.value)&&dt(w)||Mh(i)&&i.value===""||w===""||Array.isArray(w)&&!w.length,R=tI.bind(null,y,n,V),O=(j,A,ge,Ve=Gr.maxLength,vt=Gr.minLength)=>{const Ye=j?A:ge;V[y]={type:j?Ve:vt,message:Ye,ref:i,...R(j?Ve:vt,Ye)}};if(s?!Array.isArray(w)||!w.length:a&&(!_&&(I||dn(w))||Vs(w)&&!w||C&&!nI(o).isValid||q&&!rI(o).isValid)){const{value:j,message:A}=zd(a)?{value:!!a,message:a}:ko(a);if(j&&(V[y]={type:Gr.required,message:A,ref:S,...R(Gr.required,A)},!n))return D(A),V}if(!I&&(!dn(h)||!dn(m))){let j,A;const ge=ko(m),Ve=ko(h);if(!dn(w)&&!isNaN(w)){const vt=i.valueAsNumber||w&&+w;dn(ge.value)||(j=vt>ge.value),dn(Ve.value)||(A=vt<Ve.value)}else{const vt=i.valueAsDate||new Date(w),Ye=he=>new Date(new Date().toDateString()+" "+he),J=i.type=="time",de=i.type=="week";kr(ge.value)&&w&&(j=J?Ye(w)>Ye(ge.value):de?w>ge.value:vt>new Date(ge.value)),kr(Ve.value)&&w&&(A=J?Ye(w)<Ye(Ve.value):de?w<Ve.value:vt<new Date(Ve.value))}if((j||A)&&(O(!!j,ge.message,Ve.message,Gr.max,Gr.min),!n))return D(V[y].message),V}if((u||c)&&!I&&(kr(w)||s&&Array.isArray(w))){const j=ko(u),A=ko(c),ge=!dn(j.value)&&w.length>+j.value,Ve=!dn(A.value)&&w.length<+A.value;if((ge||Ve)&&(O(ge,j.message,A.message),!n))return D(V[y].message),V}if(p&&!I&&kr(w)){const{value:j,message:A}=ko(p);if(Vh(j)&&!w.match(j)&&(V[y]={type:Gr.pattern,message:A,ref:i,...R(Gr.pattern,A)},!n))return D(A),V}if(v){if(Gs(v)){const j=await v(w,e),A=ex(j,S);if(A&&(V[y]={...A,...R(Gr.validate,A.message)},!n))return D(A.message),V}else if(It(v)){let j={};for(const A in v){if(!Pn(j)&&!n)break;const ge=ex(await v[A](w,e),S,A);ge&&(j={...ge,...R(A,ge.message)},D(ge.message),n&&(V[y]=j))}if(!Pn(j)&&(V[y]={ref:S,...j},!n))return V}}return D(!0),V};function tV(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=dt(t)?r++:t[e[r++]];return t}function nV(t){for(const e in t)if(t.hasOwnProperty(e)&&!dt(t[e]))return!1;return!0}function xt(t,e){const n=Array.isArray(e)?e:qv(e)?[e]:eI(e),r=n.length===1?t:tV(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(It(r)&&Pn(r)||Array.isArray(r)&&nV(r))&&xt(t,n.slice(0,-1)),t}var Jp=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Fh=t=>dn(t)||!Xb(t);function Ui(t,e){if(Fh(t)||Fh(e))return t===e;if(Go(t)&&Go(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Go(i)&&Go(o)||It(i)&&It(o)||Array.isArray(i)&&Array.isArray(o)?!Ui(i,o):i!==o)return!1}}return!0}var sI=t=>t.type==="select-multiple",rV=t=>Wv(t)||Rc(t),Yp=t=>Mh(t)&&t.isConnected,iI=t=>{for(const e in t)if(Gs(t[e]))return!0;return!1};function Uh(t,e={}){const n=Array.isArray(t);if(It(t)||n)for(const r in t)Array.isArray(t[r])||It(t[r])&&!iI(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Uh(t[r],e[r])):dn(t[r])||(e[r]=!0);return e}function oI(t,e,n){const r=Array.isArray(t);if(It(t)||r)for(const s in t)Array.isArray(t[s])||It(t[s])&&!iI(t[s])?dt(e)||Fh(n[s])?n[s]=Array.isArray(t[s])?Uh(t[s],[]):{...Uh(t[s])}:oI(t[s],dn(e)?{}:e[s],n[s]):n[s]=!Ui(t[s],e[s]);return n}var gd=(t,e)=>oI(t,e,Uh(e)),aI=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>dt(t)?t:e?t===""?NaN:t&&+t:n&&kr(t)?new Date(t):r?r(t):t;function Xp(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Hv(e)?e.files:Wv(e)?rI(t.refs).value:sI(e)?[...e.selectedOptions].map(({value:n})=>n):Rc(e)?nI(t.refs).value:aI(dt(e.value)?t.ref.value:e.value,t)}var sV=(t,e,n,r)=>{const s={};for(const i of t){const o=te(e,i);o&&Be(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},kl=t=>dt(t)?t:Vh(t)?t.source:It(t)?Vh(t.value)?t.value.source:t.value:t,iV=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function nx(t,e,n){const r=te(t,n);if(r||qv(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=te(e,i),a=te(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var oV=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,aV=(t,e)=>!zf(te(t,e)).length&&xt(t,e);const lV={mode:ir.onSubmit,reValidateMode:ir.onChange,shouldFocusError:!0};function uV(t={}){let e={...lV,...t},n={submitCount:0,isDirty:!1,isLoading:Gs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=It(e.defaultValues)||It(e.values)?Un(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Un(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:Jp(),array:Jp(),state:Jp()},p=G1(e.mode),v=G1(e.reValidateMode),y=e.criteriaMode===ir.all,b=x=>k=>{clearTimeout(c),c=setTimeout(x,k)},P=async x=>{if(h.isValid||x){const k=e.resolver?Pn((await _()).errors):await R(r,!0);k!==n.isValid&&m.state.next({isValid:k})}},E=(x,k)=>{(h.isValidating||h.validatingFields)&&((x||Array.from(a.mount)).forEach(N=>{N&&(k?Be(n.validatingFields,N,k):xt(n.validatingFields,N))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Pn(n.validatingFields)}))},w=(x,k=[],N,H,$=!0,B=!0)=>{if(H&&N){if(o.action=!0,B&&Array.isArray(te(r,x))){const Q=N(te(r,x),H.argA,H.argB);$&&Be(r,x,Q)}if(B&&Array.isArray(te(n.errors,x))){const Q=N(te(n.errors,x),H.argA,H.argB);$&&Be(n.errors,x,Q),aV(n.errors,x)}if(h.touchedFields&&B&&Array.isArray(te(n.touchedFields,x))){const Q=N(te(n.touchedFields,x),H.argA,H.argB);$&&Be(n.touchedFields,x,Q)}h.dirtyFields&&(n.dirtyFields=gd(s,i)),m.state.next({name:x,isDirty:j(x,k),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Be(i,x,k)},S=(x,k)=>{Be(n.errors,x,k),m.state.next({errors:n.errors})},D=x=>{n.errors=x,m.state.next({errors:n.errors,isValid:!1})},V=(x,k,N,H)=>{const $=te(r,x);if($){const B=te(i,x,dt(N)?te(s,x):N);dt(B)||H&&H.defaultChecked||k?Be(i,x,k?B:Xp($._f)):Ve(x,B),o.mount&&P()}},q=(x,k,N,H,$)=>{let B=!1,Q=!1;const ie={name:x},ne=!!(te(r,x)&&te(r,x)._f&&te(r,x)._f.disabled);if(!N||H){h.isDirty&&(Q=n.isDirty,n.isDirty=ie.isDirty=j(),B=Q!==ie.isDirty);const le=ne||Ui(te(s,x),k);Q=!!(!ne&&te(n.dirtyFields,x)),le||ne?xt(n.dirtyFields,x):Be(n.dirtyFields,x,!0),ie.dirtyFields=n.dirtyFields,B=B||h.dirtyFields&&Q!==!le}if(N){const le=te(n.touchedFields,x);le||(Be(n.touchedFields,x,N),ie.touchedFields=n.touchedFields,B=B||h.touchedFields&&le!==N)}return B&&$&&m.state.next(ie),B?ie:{}},C=(x,k,N,H)=>{const $=te(n.errors,x),B=h.isValid&&Vs(k)&&n.isValid!==k;if(t.delayError&&N?(u=b(()=>S(x,N)),u(t.delayError)):(clearTimeout(c),u=null,N?Be(n.errors,x,N):xt(n.errors,x)),(N?!Ui($,N):$)||!Pn(H)||B){const Q={...H,...B&&Vs(k)?{isValid:k}:{},errors:n.errors,name:x};n={...n,...Q},m.state.next(Q)}},_=async x=>{E(x,!0);const k=await e.resolver(i,e.context,sV(x||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return E(x),k},I=async x=>{const{errors:k}=await _(x);if(x)for(const N of x){const H=te(k,N);H?Be(n.errors,N,H):xt(n.errors,N)}else n.errors=k;return k},R=async(x,k,N={valid:!0})=>{for(const H in x){const $=x[H];if($){const{_f:B,...Q}=$;if(B){const ie=a.array.has(B.name);E([H],!0);const ne=await tx($,i,y,e.shouldUseNativeValidation&&!k,ie);if(E([H]),ne[B.name]&&(N.valid=!1,k))break;!k&&(te(ne,B.name)?ie?eV(n.errors,ne,B.name):Be(n.errors,B.name,ne[B.name]):xt(n.errors,B.name))}Q&&await R(Q,k,N)}}return N.valid},O=()=>{for(const x of a.unMount){const k=te(r,x);k&&(k._f.refs?k._f.refs.every(N=>!Yp(N)):!Yp(k._f.ref))&&$t(x)}a.unMount=new Set},j=(x,k)=>(x&&k&&Be(i,x,k),!Ui(Ue(),s)),A=(x,k,N)=>XM(x,a,{...o.mount?i:dt(k)?s:kr(x)?{[x]:k}:k},N,k),ge=x=>zf(te(o.mount?i:s,x,t.shouldUnregister?te(s,x,[]):[])),Ve=(x,k,N={})=>{const H=te(r,x);let $=k;if(H){const B=H._f;B&&(!B.disabled&&Be(i,x,aI(k,B)),$=Mh(B.ref)&&dn(k)?"":k,sI(B.ref)?[...B.ref.options].forEach(Q=>Q.selected=$.includes(Q.value)):B.refs?Rc(B.ref)?B.refs.length>1?B.refs.forEach(Q=>(!Q.defaultChecked||!Q.disabled)&&(Q.checked=Array.isArray($)?!!$.find(ie=>ie===Q.value):$===Q.value)):B.refs[0]&&(B.refs[0].checked=!!$):B.refs.forEach(Q=>Q.checked=Q.value===$):Hv(B.ref)?B.ref.value="":(B.ref.value=$,B.ref.type||m.values.next({name:x,values:{...i}})))}(N.shouldDirty||N.shouldTouch)&&q(x,$,N.shouldTouch,N.shouldDirty,!0),N.shouldValidate&&he(x)},vt=(x,k,N)=>{for(const H in k){const $=k[H],B=`${x}.${H}`,Q=te(r,B);(a.array.has(x)||!Fh($)||Q&&!Q._f)&&!Go($)?vt(B,$,N):Ve(B,$,N)}},Ye=(x,k,N={})=>{const H=te(r,x),$=a.array.has(x),B=Un(k);Be(i,x,B),$?(m.array.next({name:x,values:{...i}}),(h.isDirty||h.dirtyFields)&&N.shouldDirty&&m.state.next({name:x,dirtyFields:gd(s,i),isDirty:j(x,B)})):H&&!H._f&&!dn(B)?vt(x,B,N):Ve(x,B,N),Z1(x,a)&&m.state.next({...n}),m.values.next({name:o.mount?x:void 0,values:{...i}})},J=async x=>{o.mount=!0;const k=x.target;let N=k.name,H=!0;const $=te(r,N),B=()=>k.type?Xp($._f):WM(x),Q=ie=>{H=Number.isNaN(ie)||ie===te(i,N,ie)};if($){let ie,ne;const le=B(),be=x.type===Q1.BLUR||x.type===Q1.FOCUS_OUT,_t=!iV($._f)&&!e.resolver&&!te(n.errors,N)&&!$._f.deps||oV(be,te(n.touchedFields,N),n.isSubmitted,v,p),Cn=Z1(N,a,be);Be(i,N,le),be?($._f.onBlur&&$._f.onBlur(x),u&&u(0)):$._f.onChange&&$._f.onChange(x);const on=q(N,le,be,!1),yn=!Pn(on)||Cn;if(!be&&m.values.next({name:N,type:x.type,values:{...i}}),_t)return h.isValid&&P(),yn&&m.state.next({name:N,...Cn?{}:on});if(!be&&Cn&&m.state.next({...n}),e.resolver){const{errors:Hr}=await _([N]);if(Q(le),H){const Wr=nx(n.errors,r,N),An=nx(Hr,r,Wr.name||N);ie=An.error,N=An.name,ne=Pn(Hr)}}else E([N],!0),ie=(await tx($,i,y,e.shouldUseNativeValidation))[N],E([N]),Q(le),H&&(ie?ne=!1:h.isValid&&(ne=await R(r,!0)));H&&($._f.deps&&he($._f.deps),C(N,ne,ie,on))}},de=(x,k)=>{if(te(n.errors,k)&&x.focus)return x.focus(),1},he=async(x,k={})=>{let N,H;const $=Ud(x);if(e.resolver){const B=await I(dt(x)?x:$);N=Pn(B),H=x?!$.some(Q=>te(B,Q)):N}else x?(H=(await Promise.all($.map(async B=>{const Q=te(r,B);return await R(Q&&Q._f?{[B]:Q}:Q)}))).every(Boolean),!(!H&&!n.isValid)&&P()):H=N=await R(r);return m.state.next({...!kr(x)||h.isValid&&N!==n.isValid?{}:{name:x},...e.resolver||!x?{isValid:N}:{},errors:n.errors}),k.shouldFocus&&!H&&au(r,de,x?$:a.mount),H},Ue=x=>{const k={...o.mount?i:s};return dt(x)?k:kr(x)?te(k,x):x.map(N=>te(k,N))},Oe=(x,k)=>({invalid:!!te((k||n).errors,x),isDirty:!!te((k||n).dirtyFields,x),error:te((k||n).errors,x),isValidating:!!te(n.validatingFields,x),isTouched:!!te((k||n).touchedFields,x)}),Ke=x=>{x&&Ud(x).forEach(k=>xt(n.errors,k)),m.state.next({errors:x?n.errors:{}})},gn=(x,k,N)=>{const H=(te(r,x,{_f:{}})._f||{}).ref,$=te(n.errors,x)||{},{ref:B,message:Q,type:ie,...ne}=$;Be(n.errors,x,{...ne,...k,ref:H}),m.state.next({name:x,errors:n.errors,isValid:!1}),N&&N.shouldFocus&&H&&H.focus&&H.focus()},kt=(x,k)=>Gs(x)?m.values.subscribe({next:N=>x(A(void 0,k),N)}):A(x,k,!0),$t=(x,k={})=>{for(const N of x?Ud(x):a.mount)a.mount.delete(N),a.array.delete(N),k.keepValue||(xt(r,N),xt(i,N)),!k.keepError&&xt(n.errors,N),!k.keepDirty&&xt(n.dirtyFields,N),!k.keepTouched&&xt(n.touchedFields,N),!k.keepIsValidating&&xt(n.validatingFields,N),!e.shouldUnregister&&!k.keepDefaultValue&&xt(s,N);m.values.next({values:{...i}}),m.state.next({...n,...k.keepDirty?{isDirty:j()}:{}}),!k.keepIsValid&&P()},qt=({disabled:x,name:k,field:N,fields:H,value:$})=>{if(Vs(x)&&o.mount||x){const B=x?void 0:dt($)?Xp(N?N._f:te(H,k)._f):$;Be(i,k,B),q(k,B,!1,!1,!0)}},$r=(x,k={})=>{let N=te(r,x);const H=Vs(k.disabled);return Be(r,x,{...N||{},_f:{...N&&N._f?N._f:{ref:{name:x}},name:x,mount:!0,...k}}),a.mount.add(x),N?qt({field:N,disabled:k.disabled,name:x,value:k.value}):V(x,!0,k.value),{...H?{disabled:k.disabled}:{},...e.progressive?{required:!!k.required,min:kl(k.min),max:kl(k.max),minLength:kl(k.minLength),maxLength:kl(k.maxLength),pattern:kl(k.pattern)}:{},name:x,onChange:J,onBlur:J,ref:$=>{if($){$r(x,k),N=te(r,x);const B=dt($.value)&&$.querySelectorAll&&$.querySelectorAll("input,select,textarea")[0]||$,Q=rV(B),ie=N._f.refs||[];if(Q?ie.find(ne=>ne===B):B===N._f.ref)return;Be(r,x,{_f:{...N._f,...Q?{refs:[...ie.filter(Yp),B,...Array.isArray(te(s,x))?[{}]:[]],ref:{type:B.type,name:x}}:{ref:B}}}),V(x,!1,void 0,B)}else N=te(r,x,{}),N._f&&(N._f.mount=!1),(e.shouldUnregister||k.shouldUnregister)&&!(QM(a.array,x)&&o.action)&&a.unMount.add(x)}}},xs=()=>e.shouldFocusError&&au(r,de,a.mount),Zn=x=>{Vs(x)&&(m.state.next({disabled:x}),au(r,(k,N)=>{const H=te(r,N);H&&(k.disabled=H._f.disabled||x,Array.isArray(H._f.refs)&&H._f.refs.forEach($=>{$.disabled=H._f.disabled||x}))},0,!1))},vr=(x,k)=>async N=>{let H;N&&(N.preventDefault&&N.preventDefault(),N.persist&&N.persist());let $=Un(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:B,values:Q}=await _();n.errors=B,$=Q}else await R(r);if(xt(n.errors,"root"),Pn(n.errors)){m.state.next({errors:{}});try{await x($,N)}catch(B){H=B}}else k&&await k({...n.errors},N),xs(),setTimeout(xs);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pn(n.errors)&&!H,submitCount:n.submitCount+1,errors:n.errors}),H)throw H},Si=(x,k={})=>{te(r,x)&&(dt(k.defaultValue)?Ye(x,Un(te(s,x))):(Ye(x,k.defaultValue),Be(s,x,Un(k.defaultValue))),k.keepTouched||xt(n.touchedFields,x),k.keepDirty||(xt(n.dirtyFields,x),n.isDirty=k.defaultValue?j(x,Un(te(s,x))):j()),k.keepError||(xt(n.errors,x),h.isValid&&P()),m.state.next({...n}))},qr=(x,k={})=>{const N=x?Un(x):s,H=Un(N),$=Pn(x),B=$?s:H;if(k.keepDefaultValues||(s=N),!k.keepValues){if(k.keepDirtyValues)for(const Q of a.mount)te(n.dirtyFields,Q)?Be(B,Q,te(i,Q)):Ye(Q,te(B,Q));else{if($v&&dt(x))for(const Q of a.mount){const ie=te(r,Q);if(ie&&ie._f){const ne=Array.isArray(ie._f.refs)?ie._f.refs[0]:ie._f.ref;if(Mh(ne)){const le=ne.closest("form");if(le){le.reset();break}}}}r={}}i=t.shouldUnregister?k.keepDefaultValues?Un(s):{}:Un(B),m.array.next({values:{...B}}),m.values.next({values:{...B}})}a={mount:k.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!k.keepIsValid||!!k.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:k.keepSubmitCount?n.submitCount:0,isDirty:$?!1:k.keepDirty?n.isDirty:!!(k.keepDefaultValues&&!Ui(x,s)),isSubmitted:k.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:$?{}:k.keepDirtyValues?k.keepDefaultValues&&i?gd(s,i):n.dirtyFields:k.keepDefaultValues&&x?gd(s,x):k.keepDirty?n.dirtyFields:{},touchedFields:k.keepTouched?n.touchedFields:{},errors:k.keepErrors?n.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},_r=(x,k)=>qr(Gs(x)?x(i):x,k);return{control:{register:$r,unregister:$t,getFieldState:Oe,handleSubmit:vr,setError:gn,_executeSchema:_,_getWatch:A,_getDirty:j,_updateValid:P,_removeUnmounted:O,_updateFieldArray:w,_updateDisabledField:qt,_getFieldArray:ge,_reset:qr,_resetDefaultValues:()=>Gs(e.defaultValues)&&e.defaultValues().then(x=>{_r(x,e.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:x=>{n={...n,...x}},_disableForm:Zn,_subjects:m,_proxyFormState:h,_setErrors:D,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(x){o=x},get _defaultValues(){return s},get _names(){return a},set _names(x){a=x},get _formState(){return n},set _formState(x){n=x},get _options(){return e},set _options(x){e={...e,...x}}},trigger:he,register:$r,handleSubmit:vr,watch:kt,setValue:Ye,getValues:Ue,reset:_r,resetField:Si,clearErrors:Ke,unregister:$t,setError:gn,setFocus:(x,k={})=>{const N=te(r,x),H=N&&N._f;if(H){const $=H.refs?H.refs[0]:H.ref;$.focus&&($.focus(),k.shouldSelect&&$.select())}},getFieldState:Oe}}function Bf(t={}){const e=ct.useRef(),n=ct.useRef(),[r,s]=ct.useState({isDirty:!1,isValidating:!1,isLoading:Gs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Gs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...uV(t),formState:r});const i=e.current.control;return i._options=t,YM({subject:i._subjects.state,next:o=>{JM(o,i._proxyFormState,i._updateFormState)&&s({...i._formState})}}),ct.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ct.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),ct.useEffect(()=>{t.values&&!Ui(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),ct.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),ct.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ct.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=ZM(r,i),e.current}function lI(t){return Me({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 10h3v3h-3v7h-3v-7h-3v-3h3v-1.255c0-1.189.374-2.691 1.118-3.512.744-.823 1.673-1.233 2.786-1.233h2.096v3h-2.1c-.498 0-.9.402-.9.899v2.101z"},child:[]}]})(t)}function uI(t){return Me({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.486 4.771c-4.23 0-6.363 3.033-6.363 5.562 0 1.533.581 2.894 1.823 3.401.205.084.387.004.446-.221l.182-.717c.061-.221.037-.3-.127-.495-.359-.422-.588-.972-.588-1.747 0-2.25 1.683-4.264 4.384-4.264 2.392 0 3.706 1.463 3.706 3.412 0 2.568-1.137 4.734-2.824 4.734-.932 0-1.629-.77-1.405-1.715.268-1.13.786-2.347.786-3.16 0-.729-.392-1.336-1.2-1.336-.952 0-1.718.984-1.718 2.304 0 .841.286 1.409.286 1.409l-1.146 4.852c-.34 1.44-.051 3.206-.025 3.385.013.104.149.131.21.051.088-.115 1.223-1.517 1.607-2.915.111-.396.627-2.445.627-2.445.311.589 1.213 1.108 2.175 1.108 2.863 0 4.804-2.608 4.804-6.103-.003-2.64-2.24-5.1-5.64-5.1z"},child:[]}]})(t)}function cV(t){return Me({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2c-4.971 0-9 4.029-9 9s4.029 9 9 9 9-4.029 9-9-4.029-9-9-9zm2 2c0 1-.5 2-1.5 2s-1.5 1-1.5 2v3s1 0 1-3c0-.553.447-1 1-1s1 .447 1 1v3c-.552 0-1 .448-1 1s.448 1 1 1c.553 0 1-.448 1-1h1v-2l1 1-1 1c0 3 0 3-2 4 0-1-1-1-3-1v-2l-2-2v-2c-1 0-1 1-1 1l-.561-.561-2.39-2.39c.11-.192.225-.382.35-.564l.523-.678c1.468-1.716 3.644-2.807 6.078-2.807.691 0 1.359.098 2 .262v.738z"},child:[]}]})(t)}function dV(t){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function hV(t){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(t)}function cI(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(t)}function fV(t){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224,202.66A53.34,53.34,0,1,0,277.36,256,53.38,53.38,0,0,0,224,202.66Zm124.71-41a54,54,0,0,0-30.41-30.41c-21-8.29-71-6.43-94.3-6.43s-73.25-1.93-94.31,6.43a54,54,0,0,0-30.41,30.41c-8.28,21-6.43,71.05-6.43,94.33S91,329.26,99.32,350.33a54,54,0,0,0,30.41,30.41c21,8.29,71,6.43,94.31,6.43s73.24,1.93,94.3-6.43a54,54,0,0,0,30.41-30.41c8.35-21,6.43-71.05,6.43-94.33S357.1,182.74,348.75,161.67ZM224,338a82,82,0,1,1,82-82A81.9,81.9,0,0,1,224,338Zm85.38-148.3a19.14,19.14,0,1,1,19.13-19.14A19.1,19.1,0,0,1,309.42,189.74ZM400,32H48A48,48,0,0,0,0,80V432a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V80A48,48,0,0,0,400,32ZM382.88,322c-1.29,25.63-7.14,48.34-25.85,67s-41.4,24.63-67,25.85c-26.41,1.49-105.59,1.49-132,0-25.63-1.29-48.26-7.15-67-25.85s-24.63-41.42-25.85-67c-1.49-26.42-1.49-105.61,0-132,1.29-25.63,7.07-48.34,25.85-67s41.47-24.56,67-25.78c26.41-1.49,105.59-1.49,132,0,25.63,1.29,48.33,7.15,67,25.85s24.63,41.42,25.85,67.05C384.37,216.44,384.37,295.56,382.88,322Z"},child:[]}]})(t)}function pV(t){return Me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function mV(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256s111 248 248 248 248-111 248-248zm-448 0c0-110.5 89.5-200 200-200s200 89.5 200 200-89.5 200-200 200S56 366.5 56 256zm72 20v-40c0-6.6 5.4-12 12-12h116v-67c0-10.7 12.9-16 20.5-8.5l99 99c4.7 4.7 4.7 12.3 0 17l-99 99c-7.6 7.6-20.5 2.2-20.5-8.5v-67H140c-6.6 0-12-5.4-12-12z"},child:[]}]})(t)}const rx=(t,e,n)=>{if(t&&"reportValidity"in t){const r=te(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},dI=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?rx(r.ref,n,t):r.refs&&r.refs.forEach(s=>rx(s,n,t))}},gV=(t,e)=>{e.shouldUseNativeValidation&&dI(t,e);const n={};for(const r in t){const s=te(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(yV(e.names||Object.keys(t),r)){const o=Object.assign({},te(n,r));Be(o,"root",i),Be(n,r,o)}else Be(n,r,i)}return n},yV=(t,e)=>t.some(n=>n.startsWith(e+"."));var vV=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(m){return t.push(m)})}),e){var u=n[o].types,c=u&&u[r.code];n[o]=tI(o,e,n,s,c?[].concat(c,r.message):r.message)}t.shift()}return n},$f=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var u=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return i.shouldUseNativeValidation&&dI({},i),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return u&&u.then?u.then(void 0,a):u}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:gV(vV(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ne;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ne||(Ne={}));var Ug;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ug||(Ug={}));const ee=Ne.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fs=t=>{switch(typeof t){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return isNaN(t)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"symbol":return ee.symbol;case"object":return Array.isArray(t)?ee.array:t===null?ee.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ee.promise:typeof Map<"u"&&t instanceof Map?ee.map:typeof Set<"u"&&t instanceof Set?ee.set:typeof Date<"u"&&t instanceof Date?ee.date:ee.object;default:return ee.unknown}},Z=Ne.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),_V=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ln extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,u=0;for(;u<o.path.length;){const c=o.path[u];u===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return s(this),r}static assert(e){if(!(e instanceof Ln))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ne.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ln.create=t=>new Ln(t);const Fa=(t,e)=>{let n;switch(t.code){case Z.invalid_type:t.received===ee.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Z.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ne.jsonStringifyReplacer)}`;break;case Z.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ne.joinValues(t.keys,", ")}`;break;case Z.invalid_union:n="Invalid input";break;case Z.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ne.joinValues(t.options)}`;break;case Z.invalid_enum_value:n=`Invalid enum value. Expected ${Ne.joinValues(t.options)}, received '${t.received}'`;break;case Z.invalid_arguments:n="Invalid function arguments";break;case Z.invalid_return_type:n="Invalid function return type";break;case Z.invalid_date:n="Invalid date";break;case Z.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ne.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Z.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Z.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Z.custom:n="Invalid input";break;case Z.invalid_intersection_types:n="Intersection results could not be merged";break;case Z.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Z.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ne.assertNever(t)}return{message:n}};let hI=Fa;function wV(t){hI=t}function zh(){return hI}const Bh=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const u=r.filter(c=>!!c).slice().reverse();for(const c of u)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},xV=[];function X(t,e){const n=zh(),r=Bh({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Fa?void 0:Fa].filter(s=>!!s)});t.common.issues.push(r)}class sn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return me;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return sn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return me;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const me=Object.freeze({status:"aborted"}),Zo=t=>({status:"dirty",value:t}),fn=t=>({status:"valid",value:t}),zg=t=>t.status==="aborted",Bg=t=>t.status==="dirty",zu=t=>t.status==="valid",Bu=t=>typeof Promise<"u"&&t instanceof Promise;function $h(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function fI(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ue;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ue||(ue={}));var $l,ql;class Ur{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const sx=(t,e)=>{if(zu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ln(t.common.issues);return this._error=n,this._error}}};function Ee(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var u,c;const{message:h}=t;return o.code==="invalid_enum_value"?{message:h??a.defaultError}:typeof a.data>"u"?{message:(u=h??r)!==null&&u!==void 0?u:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=h??n)!==null&&c!==void 0?c:a.defaultError}},description:s}}class Se{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Fs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new sn,ctx:{common:e.parent.common,data:e.data,parsedType:Fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Bu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fs(e)},i=this._parseSync({data:e,path:s.path,parent:s});return sx(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fs(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Bu(s)?s:Promise.resolve(s));return sx(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:Z.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new mr({schema:this,typeName:fe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Mr.create(this,this._def)}nullable(){return vi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dr.create(this,this._def)}promise(){return za.create(this,this._def)}or(e){return Wu.create([this,e],this._def)}and(e){return Ku.create(this,e,this._def)}transform(e){return new mr({...Ee(this._def),schema:this,typeName:fe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Yu({...Ee(this._def),innerType:this,defaultValue:n,typeName:fe.ZodDefault})}brand(){return new Kv({typeName:fe.ZodBranded,type:this,...Ee(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Xu({...Ee(this._def),innerType:this,catchValue:n,typeName:fe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return kc.create(this,e)}readonly(){return ec.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const EV=/^c[^\s-]{8,}$/i,TV=/^[0-9a-z]+$/,SV=/^[0-9A-HJKMNP-TV-Z]{26}$/,bV=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,IV=/^[a-z0-9_-]{21}$/i,CV=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,AV=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,RV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let em;const kV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PV=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,NV=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,pI="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",jV=new RegExp(`^${pI}$`);function mI(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function OV(t){return new RegExp(`^${mI(t)}$`)}function gI(t){let e=`${pI}T${mI(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function DV(t,e){return!!((e==="v4"||!e)&&kV.test(t)||(e==="v6"||!e)&&PV.test(t))}class ar extends Se{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ee.string){const i=this._getOrReturnCtx(e);return X(i,{code:Z.invalid_type,expected:ee.string,received:i.parsedType}),me}const r=new sn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),X(s,{code:Z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),X(s,{code:Z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?X(s,{code:Z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&X(s,{code:Z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")AV.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"email",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")em||(em=new RegExp(RV,"u")),em.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"emoji",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")bV.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"uuid",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")IV.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"nanoid",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")EV.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"cuid",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")TV.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"cuid2",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")SV.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"ulid",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),X(s,{validation:"url",code:Z.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"regex",code:Z.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),X(s,{code:Z.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),X(s,{code:Z.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),X(s,{code:Z.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?gI(i).test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{code:Z.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?jV.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{code:Z.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?OV(i).test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{code:Z.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?CV.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"duration",code:Z.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?DV(e.data,i.version)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"ip",code:Z.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?NV.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"base64",code:Z.invalid_string,message:i.message}),r.dirty()):Ne.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Z.invalid_string,...ue.errToObj(r)})}_addCheck(e){return new ar({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ue.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ue.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ue.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ue.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ue.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ue.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ue.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ue.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ue.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ue.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ue.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ue.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ue.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ue.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ue.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ue.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ue.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ue.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ue.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ue.errToObj(n)})}nonempty(e){return this.min(1,ue.errToObj(e))}trim(){return new ar({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ar({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ar({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ar.create=t=>{var e;return new ar({checks:[],typeName:fe.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ee(t)})};function LV(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class mi extends Se{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ee.number){const i=this._getOrReturnCtx(e);return X(i,{code:Z.invalid_type,expected:ee.number,received:i.parsedType}),me}let r;const s=new sn;for(const i of this._def.checks)i.kind==="int"?Ne.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),X(r,{code:Z.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),X(r,{code:Z.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),X(r,{code:Z.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?LV(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),X(r,{code:Z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),X(r,{code:Z.not_finite,message:i.message}),s.dirty()):Ne.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ue.toString(n))}setLimit(e,n,r,s){return new mi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ue.toString(s)}]})}_addCheck(e){return new mi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ue.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ue.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ue.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ue.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ue.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ne.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}mi.create=t=>new mi({checks:[],typeName:fe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ee(t)});class gi extends Se{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ee.bigint){const i=this._getOrReturnCtx(e);return X(i,{code:Z.invalid_type,expected:ee.bigint,received:i.parsedType}),me}let r;const s=new sn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),X(r,{code:Z.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),X(r,{code:Z.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),X(r,{code:Z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ne.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ue.toString(n))}setLimit(e,n,r,s){return new gi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ue.toString(s)}]})}_addCheck(e){return new gi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ue.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}gi.create=t=>{var e;return new gi({checks:[],typeName:fe.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ee(t)})};class $u extends Se{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ee.boolean){const r=this._getOrReturnCtx(e);return X(r,{code:Z.invalid_type,expected:ee.boolean,received:r.parsedType}),me}return fn(e.data)}}$u.create=t=>new $u({typeName:fe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ee(t)});class fo extends Se{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ee.date){const i=this._getOrReturnCtx(e);return X(i,{code:Z.invalid_type,expected:ee.date,received:i.parsedType}),me}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return X(i,{code:Z.invalid_date}),me}const r=new sn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),X(s,{code:Z.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),X(s,{code:Z.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ne.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new fo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ue.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ue.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}fo.create=t=>new fo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:fe.ZodDate,...Ee(t)});class qh extends Se{_parse(e){if(this._getType(e)!==ee.symbol){const r=this._getOrReturnCtx(e);return X(r,{code:Z.invalid_type,expected:ee.symbol,received:r.parsedType}),me}return fn(e.data)}}qh.create=t=>new qh({typeName:fe.ZodSymbol,...Ee(t)});class qu extends Se{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return X(r,{code:Z.invalid_type,expected:ee.undefined,received:r.parsedType}),me}return fn(e.data)}}qu.create=t=>new qu({typeName:fe.ZodUndefined,...Ee(t)});class Hu extends Se{_parse(e){if(this._getType(e)!==ee.null){const r=this._getOrReturnCtx(e);return X(r,{code:Z.invalid_type,expected:ee.null,received:r.parsedType}),me}return fn(e.data)}}Hu.create=t=>new Hu({typeName:fe.ZodNull,...Ee(t)});class Ua extends Se{constructor(){super(...arguments),this._any=!0}_parse(e){return fn(e.data)}}Ua.create=t=>new Ua({typeName:fe.ZodAny,...Ee(t)});class Yi extends Se{constructor(){super(...arguments),this._unknown=!0}_parse(e){return fn(e.data)}}Yi.create=t=>new Yi({typeName:fe.ZodUnknown,...Ee(t)});class vs extends Se{_parse(e){const n=this._getOrReturnCtx(e);return X(n,{code:Z.invalid_type,expected:ee.never,received:n.parsedType}),me}}vs.create=t=>new vs({typeName:fe.ZodNever,...Ee(t)});class Hh extends Se{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return X(r,{code:Z.invalid_type,expected:ee.void,received:r.parsedType}),me}return fn(e.data)}}Hh.create=t=>new Hh({typeName:fe.ZodVoid,...Ee(t)});class dr extends Se{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ee.array)return X(n,{code:Z.invalid_type,expected:ee.array,received:n.parsedType}),me;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(X(n,{code:o?Z.too_big:Z.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(X(n,{code:Z.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(X(n,{code:Z.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Ur(n,o,n.path,a)))).then(o=>sn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Ur(n,o,n.path,a)));return sn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new dr({...this._def,minLength:{value:e,message:ue.toString(n)}})}max(e,n){return new dr({...this._def,maxLength:{value:e,message:ue.toString(n)}})}length(e,n){return new dr({...this._def,exactLength:{value:e,message:ue.toString(n)}})}nonempty(e){return this.min(1,e)}}dr.create=(t,e)=>new dr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:fe.ZodArray,...Ee(e)});function Oo(t){if(t instanceof tt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Mr.create(Oo(r))}return new tt({...t._def,shape:()=>e})}else return t instanceof dr?new dr({...t._def,type:Oo(t.element)}):t instanceof Mr?Mr.create(Oo(t.unwrap())):t instanceof vi?vi.create(Oo(t.unwrap())):t instanceof zr?zr.create(t.items.map(e=>Oo(e))):t}class tt extends Se{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ne.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ee.object){const c=this._getOrReturnCtx(e);return X(c,{code:Z.invalid_type,expected:ee.object,received:c.parsedType}),me}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof vs&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const u=[];for(const c of o){const h=i[c],m=s.data[c];u.push({key:{status:"valid",value:c},value:h._parse(new Ur(s,m,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof vs){const c=this._def.unknownKeys;if(c==="passthrough")for(const h of a)u.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(c==="strict")a.length>0&&(X(s,{code:Z.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const h of a){const m=s.data[h];u.push({key:{status:"valid",value:h},value:c._parse(new Ur(s,m,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const h of u){const m=await h.key,p=await h.value;c.push({key:m,value:p,alwaysSet:h.alwaysSet})}return c}).then(c=>sn.mergeObjectSync(r,c)):sn.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return ue.errToObj,new tt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const u=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ue.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new tt({...this._def,unknownKeys:"strip"})}passthrough(){return new tt({...this._def,unknownKeys:"passthrough"})}extend(e){return new tt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:fe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new tt({...this._def,catchall:e})}pick(e){const n={};return Ne.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new tt({...this._def,shape:()=>n})}omit(e){const n={};return Ne.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new tt({...this._def,shape:()=>n})}deepPartial(){return Oo(this)}partial(e){const n={};return Ne.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new tt({...this._def,shape:()=>n})}required(e){const n={};return Ne.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Mr;)i=i._def.innerType;n[r]=i}}),new tt({...this._def,shape:()=>n})}keyof(){return yI(Ne.objectKeys(this.shape))}}tt.create=(t,e)=>new tt({shape:()=>t,unknownKeys:"strip",catchall:vs.create(),typeName:fe.ZodObject,...Ee(e)});tt.strictCreate=(t,e)=>new tt({shape:()=>t,unknownKeys:"strict",catchall:vs.create(),typeName:fe.ZodObject,...Ee(e)});tt.lazycreate=(t,e)=>new tt({shape:t,unknownKeys:"strip",catchall:vs.create(),typeName:fe.ZodObject,...Ee(e)});class Wu extends Se{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Ln(a.ctx.common.issues));return X(n,{code:Z.invalid_union,unionErrors:o}),me}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const u of r){const c={...n,common:{...n.common,issues:[]},parent:null},h=u._parseSync({data:n.data,path:n.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(u=>new Ln(u));return X(n,{code:Z.invalid_union,unionErrors:a}),me}}get options(){return this._def.options}}Wu.create=(t,e)=>new Wu({options:t,typeName:fe.ZodUnion,...Ee(e)});const Jr=t=>t instanceof Gu?Jr(t.schema):t instanceof mr?Jr(t.innerType()):t instanceof Zu?[t.value]:t instanceof yi?t.options:t instanceof Ju?Ne.objectValues(t.enum):t instanceof Yu?Jr(t._def.innerType):t instanceof qu?[void 0]:t instanceof Hu?[null]:t instanceof Mr?[void 0,...Jr(t.unwrap())]:t instanceof vi?[null,...Jr(t.unwrap())]:t instanceof Kv||t instanceof ec?Jr(t.unwrap()):t instanceof Xu?Jr(t._def.innerType):[];class qf extends Se{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.object)return X(n,{code:Z.invalid_type,expected:ee.object,received:n.parsedType}),me;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(X(n,{code:Z.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Jr(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new qf({typeName:fe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Ee(r)})}}function $g(t,e){const n=Fs(t),r=Fs(e);if(t===e)return{valid:!0,data:t};if(n===ee.object&&r===ee.object){const s=Ne.objectKeys(e),i=Ne.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const u=$g(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(n===ee.array&&r===ee.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],u=$g(o,a);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===ee.date&&r===ee.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ku extends Se{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(zg(i)||zg(o))return me;const a=$g(i.value,o.value);return a.valid?((Bg(i)||Bg(o))&&n.dirty(),{status:n.value,value:a.data}):(X(r,{code:Z.invalid_intersection_types}),me)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ku.create=(t,e,n)=>new Ku({left:t,right:e,typeName:fe.ZodIntersection,...Ee(n)});class zr extends Se{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.array)return X(r,{code:Z.invalid_type,expected:ee.array,received:r.parsedType}),me;if(r.data.length<this._def.items.length)return X(r,{code:Z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),me;!this._def.rest&&r.data.length>this._def.items.length&&(X(r,{code:Z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const u=this._def.items[a]||this._def.rest;return u?u._parse(new Ur(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>sn.mergeArray(n,o)):sn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new zr({...this._def,rest:e})}}zr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zr({items:t,typeName:fe.ZodTuple,rest:null,...Ee(e)})};class Qu extends Se{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.object)return X(r,{code:Z.invalid_type,expected:ee.object,received:r.parsedType}),me;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Ur(r,a,r.path,a)),value:o._parse(new Ur(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?sn.mergeObjectAsync(n,s):sn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Se?new Qu({keyType:e,valueType:n,typeName:fe.ZodRecord,...Ee(r)}):new Qu({keyType:ar.create(),valueType:e,typeName:fe.ZodRecord,...Ee(n)})}}class Wh extends Se{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.map)return X(r,{code:Z.invalid_type,expected:ee.map,received:r.parsedType}),me;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,u],c)=>({key:s._parse(new Ur(r,a,r.path,[c,"key"])),value:i._parse(new Ur(r,u,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const u of o){const c=await u.key,h=await u.value;if(c.status==="aborted"||h.status==="aborted")return me;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(c.value,h.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const u of o){const c=u.key,h=u.value;if(c.status==="aborted"||h.status==="aborted")return me;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(c.value,h.value)}return{status:n.value,value:a}}}}Wh.create=(t,e,n)=>new Wh({valueType:e,keyType:t,typeName:fe.ZodMap,...Ee(n)});class po extends Se{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.set)return X(r,{code:Z.invalid_type,expected:ee.set,received:r.parsedType}),me;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(X(r,{code:Z.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(X(r,{code:Z.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(u){const c=new Set;for(const h of u){if(h.status==="aborted")return me;h.status==="dirty"&&n.dirty(),c.add(h.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((u,c)=>i._parse(new Ur(r,u,r.path,c)));return r.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,n){return new po({...this._def,minSize:{value:e,message:ue.toString(n)}})}max(e,n){return new po({...this._def,maxSize:{value:e,message:ue.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}po.create=(t,e)=>new po({valueType:t,minSize:null,maxSize:null,typeName:fe.ZodSet,...Ee(e)});class ua extends Se{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.function)return X(n,{code:Z.invalid_type,expected:ee.function,received:n.parsedType}),me;function r(a,u){return Bh({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,zh(),Fa].filter(c=>!!c),issueData:{code:Z.invalid_arguments,argumentsError:u}})}function s(a,u){return Bh({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,zh(),Fa].filter(c=>!!c),issueData:{code:Z.invalid_return_type,returnTypeError:u}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof za){const a=this;return fn(async function(...u){const c=new Ln([]),h=await a._def.args.parseAsync(u,i).catch(v=>{throw c.addIssue(r(u,v)),c}),m=await Reflect.apply(o,this,h);return await a._def.returns._def.type.parseAsync(m,i).catch(v=>{throw c.addIssue(s(m,v)),c})})}else{const a=this;return fn(function(...u){const c=a._def.args.safeParse(u,i);if(!c.success)throw new Ln([r(u,c.error)]);const h=Reflect.apply(o,this,c.data),m=a._def.returns.safeParse(h,i);if(!m.success)throw new Ln([s(h,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ua({...this._def,args:zr.create(e).rest(Yi.create())})}returns(e){return new ua({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new ua({args:e||zr.create([]).rest(Yi.create()),returns:n||Yi.create(),typeName:fe.ZodFunction,...Ee(r)})}}class Gu extends Se{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Gu.create=(t,e)=>new Gu({getter:t,typeName:fe.ZodLazy,...Ee(e)});class Zu extends Se{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return X(n,{received:n.data,code:Z.invalid_literal,expected:this._def.value}),me}return{status:"valid",value:e.data}}get value(){return this._def.value}}Zu.create=(t,e)=>new Zu({value:t,typeName:fe.ZodLiteral,...Ee(e)});function yI(t,e){return new yi({values:t,typeName:fe.ZodEnum,...Ee(e)})}class yi extends Se{constructor(){super(...arguments),$l.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return X(n,{expected:Ne.joinValues(r),received:n.parsedType,code:Z.invalid_type}),me}if($h(this,$l)||fI(this,$l,new Set(this._def.values)),!$h(this,$l).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return X(n,{received:n.data,code:Z.invalid_enum_value,options:r}),me}return fn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return yi.create(e,{...this._def,...n})}exclude(e,n=this._def){return yi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}$l=new WeakMap;yi.create=yI;class Ju extends Se{constructor(){super(...arguments),ql.set(this,void 0)}_parse(e){const n=Ne.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ee.string&&r.parsedType!==ee.number){const s=Ne.objectValues(n);return X(r,{expected:Ne.joinValues(s),received:r.parsedType,code:Z.invalid_type}),me}if($h(this,ql)||fI(this,ql,new Set(Ne.getValidEnumValues(this._def.values))),!$h(this,ql).has(e.data)){const s=Ne.objectValues(n);return X(r,{received:r.data,code:Z.invalid_enum_value,options:s}),me}return fn(e.data)}get enum(){return this._def.values}}ql=new WeakMap;Ju.create=(t,e)=>new Ju({values:t,typeName:fe.ZodNativeEnum,...Ee(e)});class za extends Se{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.promise&&n.common.async===!1)return X(n,{code:Z.invalid_type,expected:ee.promise,received:n.parsedType}),me;const r=n.parsedType===ee.promise?n.data:Promise.resolve(n.data);return fn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}za.create=(t,e)=>new za({type:t,typeName:fe.ZodPromise,...Ee(e)});class mr extends Se{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{X(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return me;const u=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return u.status==="aborted"?me:u.status==="dirty"||n.value==="dirty"?Zo(u.value):u});{if(n.value==="aborted")return me;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?me:a.status==="dirty"||n.value==="dirty"?Zo(a.value):a}}if(s.type==="refinement"){const o=a=>{const u=s.refinement(a,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?me:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?me:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!zu(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>zu(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Ne.assertNever(s)}}mr.create=(t,e,n)=>new mr({schema:t,typeName:fe.ZodEffects,effect:e,...Ee(n)});mr.createWithPreprocess=(t,e,n)=>new mr({schema:e,effect:{type:"preprocess",transform:t},typeName:fe.ZodEffects,...Ee(n)});class Mr extends Se{_parse(e){return this._getType(e)===ee.undefined?fn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mr.create=(t,e)=>new Mr({innerType:t,typeName:fe.ZodOptional,...Ee(e)});class vi extends Se{_parse(e){return this._getType(e)===ee.null?fn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vi.create=(t,e)=>new vi({innerType:t,typeName:fe.ZodNullable,...Ee(e)});class Yu extends Se{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ee.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Yu.create=(t,e)=>new Yu({innerType:t,typeName:fe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ee(e)});class Xu extends Se{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Bu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ln(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ln(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Xu.create=(t,e)=>new Xu({innerType:t,typeName:fe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ee(e)});class Kh extends Se{_parse(e){if(this._getType(e)!==ee.nan){const r=this._getOrReturnCtx(e);return X(r,{code:Z.invalid_type,expected:ee.nan,received:r.parsedType}),me}return{status:"valid",value:e.data}}}Kh.create=t=>new Kh({typeName:fe.ZodNaN,...Ee(t)});const MV=Symbol("zod_brand");class Kv extends Se{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class kc extends Se{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?me:i.status==="dirty"?(n.dirty(),Zo(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?me:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new kc({in:e,out:n,typeName:fe.ZodPipeline})}}class ec extends Se{_parse(e){const n=this._def.innerType._parse(e),r=s=>(zu(s)&&(s.value=Object.freeze(s.value)),s);return Bu(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}ec.create=(t,e)=>new ec({innerType:t,typeName:fe.ZodReadonly,...Ee(e)});function vI(t,e={},n){return t?Ua.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...c,fatal:u})}}):Ua.create()}const VV={object:tt.lazycreate};var fe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(fe||(fe={}));const FV=(t,e={message:`Input not instance of ${t.name}`})=>vI(n=>n instanceof t,e),_I=ar.create,wI=mi.create,UV=Kh.create,zV=gi.create,xI=$u.create,BV=fo.create,$V=qh.create,qV=qu.create,HV=Hu.create,WV=Ua.create,KV=Yi.create,QV=vs.create,GV=Hh.create,ZV=dr.create,JV=tt.create,YV=tt.strictCreate,XV=Wu.create,e9=qf.create,t9=Ku.create,n9=zr.create,r9=Qu.create,s9=Wh.create,i9=po.create,o9=ua.create,a9=Gu.create,l9=Zu.create,u9=yi.create,c9=Ju.create,d9=za.create,ix=mr.create,h9=Mr.create,f9=vi.create,p9=mr.createWithPreprocess,m9=kc.create,g9=()=>_I().optional(),y9=()=>wI().optional(),v9=()=>xI().optional(),_9={string:t=>ar.create({...t,coerce:!0}),number:t=>mi.create({...t,coerce:!0}),boolean:t=>$u.create({...t,coerce:!0}),bigint:t=>gi.create({...t,coerce:!0}),date:t=>fo.create({...t,coerce:!0})},w9=me;var qe=Object.freeze({__proto__:null,defaultErrorMap:Fa,setErrorMap:wV,getErrorMap:zh,makeIssue:Bh,EMPTY_PATH:xV,addIssueToContext:X,ParseStatus:sn,INVALID:me,DIRTY:Zo,OK:fn,isAborted:zg,isDirty:Bg,isValid:zu,isAsync:Bu,get util(){return Ne},get objectUtil(){return Ug},ZodParsedType:ee,getParsedType:Fs,ZodType:Se,datetimeRegex:gI,ZodString:ar,ZodNumber:mi,ZodBigInt:gi,ZodBoolean:$u,ZodDate:fo,ZodSymbol:qh,ZodUndefined:qu,ZodNull:Hu,ZodAny:Ua,ZodUnknown:Yi,ZodNever:vs,ZodVoid:Hh,ZodArray:dr,ZodObject:tt,ZodUnion:Wu,ZodDiscriminatedUnion:qf,ZodIntersection:Ku,ZodTuple:zr,ZodRecord:Qu,ZodMap:Wh,ZodSet:po,ZodFunction:ua,ZodLazy:Gu,ZodLiteral:Zu,ZodEnum:yi,ZodNativeEnum:Ju,ZodPromise:za,ZodEffects:mr,ZodTransformer:mr,ZodOptional:Mr,ZodNullable:vi,ZodDefault:Yu,ZodCatch:Xu,ZodNaN:Kh,BRAND:MV,ZodBranded:Kv,ZodPipeline:kc,ZodReadonly:ec,custom:vI,Schema:Se,ZodSchema:Se,late:VV,get ZodFirstPartyTypeKind(){return fe},coerce:_9,any:WV,array:ZV,bigint:zV,boolean:xI,date:BV,discriminatedUnion:e9,effect:ix,enum:u9,function:o9,instanceof:FV,intersection:t9,lazy:a9,literal:l9,map:s9,nan:UV,nativeEnum:c9,never:QV,null:HV,nullable:f9,number:wI,object:JV,oboolean:v9,onumber:y9,optional:h9,ostring:g9,pipeline:m9,preprocess:p9,promise:d9,record:r9,set:i9,strictObject:YV,string:_I,symbol:$V,transformer:ix,tuple:n9,undefined:qV,union:XV,unknown:KV,void:GV,NEVER:w9,ZodIssueCode:Z,quotelessJson:_V,ZodError:Ln});const x9=qe.object({name:qe.string().min(6,{message:"Must be at least 6 characters long"}),email:qe.string().email("Please enter a valid email address"),subject:qe.string().min(6,{message:"Must be at least 6 characters long"}),message:qe.string().min(6,{message:"Must be at least 6 characters long"})});function E9(){const{register:t,handleSubmit:e,formState:{errors:n},reset:r}=Bf({resolver:$f(x9)}),s=i=>{console.log(i),r({name:"",email:"",subject:"",message:""})};return d.jsxs("div",{className:" flex -mx-1 h-full sm:flex-col sm:h-fit ",children:[d.jsx("div",{className:" px-1 w-[30%] h-full md:pr-4 md:w-2/5 sm:w-full sm:mb-8",children:d.jsxs("div",{className:" rounded-lg bg-gray-200 pt-32 pr-[4.375rem] pb-[7.25rem] pl-[5.525rem] h-full md:px-6 sm:py-16 sm:pl-16 ",children:[d.jsxs("div",{className:"flex center mb-10",children:[d.jsx("div",{className:" mr-5 flex items-center ",children:d.jsx(FM,{})}),d.jsxs("div",{children:[d.jsx("p",{children:"+048 505 894 787"}),d.jsx("p",{children:"+838 479 589 387"})]})]}),d.jsxs("div",{className:"flex center mb-10",children:[d.jsx("div",{className:" mr-5 flex items-center ",children:d.jsx(cV,{})}),d.jsxs("div",{children:[d.jsx("p",{children:"amabilis@gmail.com"}),d.jsx("p",{children:"amabiliswebsite.com"})]})]}),d.jsxs("div",{className:"flex center mb-10",children:[d.jsx("div",{className:" mr-5 flex items-center ",children:d.jsx(tP,{})}),d.jsx("div",{children:d.jsx("p",{children:"No. 3b Amabilis street, Port Harcourt, Nigeria"})})]}),d.jsxs("div",{className:" mt-14 text-center ",children:[d.jsx("h3",{className:" font-medium text-black text-2xl mb-4 ",children:"Follow us"}),d.jsxs("ul",{className:" flex justify-center ",children:[d.jsxs("li",{className:" mx-[0.625rem] ",children:[" ",d.jsx(lI,{size:20})," "]}),d.jsxs("li",{className:" mx-[0.625rem] ",children:[" ",d.jsx(uI,{size:20})," "]}),d.jsxs("li",{className:" mx-[0.625rem] ",children:[" ",d.jsx(cI,{size:20})," "]}),d.jsxs("li",{className:" mx-[0.625rem] ",children:[" ",d.jsx(pV,{size:20})," "]}),d.jsx("li",{className:" mx-[0.625rem] "})]})]})]})}),d.jsx("div",{className:" px-1 w-[70%] h-full md:w-3/5 sm:w-full",children:d.jsxs("div",{className:" rounded-lg bg-gray-200 py-[3.125rem] px-28 h-full md:px-8 sm:px-4 ",children:[d.jsx("h2",{className:" mb-16 text-2xl font-medium sm:mb-8",children:"Get in Touch"}),d.jsxs("form",{onSubmit:e(s),className:"sm:text-sm",children:[d.jsx("input",{type:"text",name:"name",placeholder:"Name*",...t("name"),className:" bg-transparent w-[44%] border border-white h-10 py-1 px-4 mb-8 mr-8 text-black outline-lilac placeholder:text-black md:w-full sm:w-full "}),n.name&&d.jsx("p",{className:"bg-red-500",children:n.name.message}),d.jsx("input",{type:"email",name:"email",placeholder:"Email*",...t("email"),className:" bg-transparent w-[45%] border border-white h-10 py-1 px-4 mb-8 ml-8 text-black  outline-lilac placeholder:text-black md:ml-0 md:w-full sm:w-full sm:ml-0 "}),n.email&&d.jsx("p",{className:"bg-red-500",children:n.email.message}),d.jsx("input",{type:"text",name:"subject",placeholder:"Subject*",...t("subject"),className:" block mb-8 bg-transparent border border-white py-1 px-4 w-full h-12 outline-lilac placeholder:text-black "}),n.subject&&d.jsx("p",{className:"bg-red-500",children:n.subject.message}),d.jsx("textarea",{name:"message",placeholder:"Your message*",...t("message"),className:" w-full h-64 bg-transparent border border-white py-1 px-4 outline-lilac placeholder:text-black md:pt-4 sm:pt-4 "}),n.message&&d.jsx("p",{className:"bg-red-500",children:n.message.message}),d.jsx("button",{type:"submit",className:" block bg-black text-white w-28 h-8 mt-8 rounded hover:bg-lilac ",children:" SEND"})]})]})})]})}function T9(){return d.jsx("div",{className:" py-24 px-20 h-[53rem] md:p-10 sm:h-fit sm:p-12 sm:px-6",children:d.jsx(E9,{})})}function S9(){return d.jsxs("div",{className:" flex flex-col justify-center items-center",children:[d.jsx("h2",{className:" font-black text-lilac text-[15rem] md:text-9xl md:mb-6 sm:text-9xl sm:mb-6 ",children:"Oops"}),d.jsx("p",{className:" mb-8 sm:text-sm ",children:"The page you are looking for is not here."}),d.jsxs("button",{className:" bg-transparent border px-20 py-5 hover:bg-lilac hover:border-lilac hover:text-white md:px-12 md:py-4 sm:px-10 sm:py-3 ",children:[" ",d.jsx(et,{to:"/",children:"Home Page"})," "]})]})}function b9(){return d.jsx("div",{className:" p-28 md:p-20 sm:p-4 ",children:d.jsx(S9,{})})}function I9({handleCategoryChange:t,handleSearchInput:e,maxPrice:n,handleMaxPriceFilter:r,handleSearchClear:s}){return d.jsx("div",{className:" px-4 py-6 rounded-lg border w-1/4 md:w-full sm:w-full ",children:d.jsxs("div",{className:" mr-8 ",children:[d.jsx("h4",{className:" font-medium leading-6 ",children:"Search"}),d.jsxs("form",{action:"",className:" mb-12 mt-6 relative ",children:[d.jsx("input",{type:"text",placeholder:"Search here...",className:" bg-none bg-repeat bg-scroll bg-transparent bg-[0%] border border-solid border-gray-500 text-black h-11 py-1 pr-14 pl-5 w-full outline-lilac  ",onChange:e}),d.jsxs("button",{className:" bg-none bg-repeat bg-scroll bg-transparent bg-[0%] border-gray-500 px-4 border-l absolute right-0 top-1/4  text-xl ",onClick:s,children:[" ",d.jsx(Jm,{})," "]})]}),d.jsx("h4",{className:" font-medium leading-6 mb-8 ",children:"Refine By"}),d.jsxs("div",{className:" relative pb-4 ",children:[d.jsx("input",{type:"checkbox"}),d.jsxs(et,{to:"#",className:" ml-8 ",children:["On Sale"," ",d.jsx("span",{className:" bg-lilac w-8 h-5 font-medium leading-5 rounded-3xl float-right text-center ",children:"4"})]})]}),d.jsxs("div",{className:" relative pb-4 ",children:[d.jsx("input",{type:"checkbox"}),d.jsxs(et,{to:"#",className:" ml-8 ",children:["New"," ",d.jsx("span",{className:" bg-lilac w-8 h-5 font-medium leading-5 rounded-3xl float-right text-center ",children:"4"})]})]}),d.jsxs("div",{className:" relative ",children:[d.jsx("input",{type:"checkbox"}),d.jsxs(et,{to:"#",className:" ml-8 ",children:["In Stock"," ",d.jsx("span",{className:" bg-lilac w-8 h-5 font-medium leading-5 rounded-3xl float-right text-center ",children:"4"})]})]}),d.jsxs("div",{className:" mt-11 ",children:[d.jsx("h4",{className:" font-medium leading-6 ",children:"Filter By Price"}),d.jsxs("div",{className:" mt-3 ",children:[d.jsxs("div",{children:["$7.95 -$",n]}),d.jsx("input",{type:"range",min:"7.95",max:"1000",step:"20",value:n,className:"w-full",onChange:r})]})]}),d.jsxs("div",{className:" mt-12 ",children:[d.jsx("h4",{className:" font-medium leading-6 mb-5 ",children:"Colour"}),d.jsxs("div",{className:" relative pb-4 ",children:[d.jsx("input",{type:"checkbox"}),d.jsxs(et,{to:"#",className:" ml-8 ",children:["Green"," ",d.jsx("span",{className:" bg-lilac w-8 h-5 font-medium leading-5 rounded-3xl float-right text-center ",children:"4"})]})]}),d.jsxs("div",{className:" relative pb-4 ",children:[d.jsx("input",{type:"checkbox"}),d.jsxs(et,{to:"#",className:" ml-8 ",children:["Cream"," ",d.jsx("span",{className:" bg-lilac w-8 h-5 font-medium leading-5 rounded-3xl float-right text-center ",children:"4"})]})]}),d.jsxs("div",{className:" relative pb-4 ",children:[d.jsx("input",{type:"checkbox"}),d.jsxs(et,{to:"#",className:" ml-8 ",children:["Blue"," ",d.jsx("span",{className:" bg-lilac w-8 h-5 font-medium leading-5 rounded-3xl float-right text-center ",children:"4"})]})]}),d.jsxs("div",{className:" relative ",children:[d.jsx("input",{type:"checkbox"}),d.jsxs(et,{to:"#",className:" ml-8 ",children:["Black"," ",d.jsx("span",{className:" bg-lilac w-8 h-5 font-medium leading-5 rounded-3xl float-right text-center ",children:"4"})]})]})]}),d.jsxs("div",{className:" mt-10 ",children:[d.jsx("h4",{className:" font-medium leading-6 mb-8 ",children:"Refine By"}),d.jsxs("div",{className:" relative pb-4 ",children:[d.jsx("input",{type:"checkbox"}),d.jsxs(et,{to:"#",className:" ml-8 ",children:["XL"," "]})]}),d.jsxs("div",{className:" relative pb-4 ",children:[d.jsx("input",{type:"checkbox"}),d.jsxs(et,{to:"#",className:" ml-8 ",children:["L"," "]})]}),d.jsxs("div",{className:" relative pb-4 ",children:[d.jsx("input",{type:"checkbox"}),d.jsxs(et,{to:"#",className:" ml-8 ",children:["SM"," "]})]}),d.jsxs("div",{className:" relative pb-4 ",children:[d.jsx("input",{type:"checkbox"}),d.jsxs(et,{to:"#",className:" ml-8 ",children:["XXL"," "]})]})]}),d.jsxs("div",{className:" mt-12 ",children:[d.jsx("h4",{className:" font-medium leading-6 mb-6 ",children:"Tag"}),d.jsx("button",{className:" mr-2 mb-4 bg-dark-gray hover:bg-lilac inline-block pt-2 pb-3 px-4 rounded-[3.125rem] ",onClick:t,children:"All"}),d.jsx("button",{className:" mr-2 mb-4 bg-dark-gray hover:bg-lilac inline-block pt-2 pb-3 px-4 rounded-[3.125rem] ",onClick:t,children:"Jewelery"}),d.jsx("button",{className:" mr-2 mb-4 bg-dark-gray hover:bg-lilac inline-block pt-2 pb-3 px-4 rounded-[3.125rem] ",onClick:t,children:"Men's clothing"}),d.jsx("button",{className:" mr-2 mb-4 bg-dark-gray hover:bg-lilac inline-block pt-2 pb-3 px-4 rounded-[3.125rem] ",onClick:t,children:"Women's clothing"}),d.jsx("button",{className:" mr-2 mb-4 bg-dark-gray hover:bg-lilac inline-block pt-2 pb-3 px-4 rounded-[3.125rem] ",onClick:t,children:"Electronics"})]})]})})}function C9(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"7",height:"7",x:"3",y:"3",rx:"1"},child:[]},{tag:"rect",attr:{width:"7",height:"7",x:"14",y:"3",rx:"1"},child:[]},{tag:"rect",attr:{width:"7",height:"7",x:"14",y:"14",rx:"1"},child:[]},{tag:"rect",attr:{width:"7",height:"7",x:"3",y:"14",rx:"1"},child:[]}]})(t)}function A9({handleSortOrder:t,filteredProductsLength:e}){return d.jsxs("div",{className:" flex justify-between items-center py-6 sm:flex-col sm:items-start sm:text-sm ",children:[d.jsxs("div",{className:"flex sm:flex-col sm:items-start ",children:[d.jsxs("select",{className:" mr-8 ",onChange:t,children:[d.jsx("option",{value:"",children:"Sort by newness"}),d.jsx("option",{value:"a-z",children:"A to Z"}),d.jsx("option",{value:"z-a",children:"Z to A"}),d.jsx("option",{value:"in stock",children:"In stock"})]}),d.jsxs("p",{className:" py-2 ",children:["Showing ",e," of 20 results"]})]}),d.jsxs("div",{className:" flex justify-between w-14 ",children:[d.jsx(sr,{to:"grid",className:({isActive:n})=>n?" text-lilac ":" text-black ",children:d.jsx(C9,{size:20})}),d.jsx(sr,{to:"list",className:({isActive:n})=>n?" text-lilac ":" text-black ",children:d.jsx(C5,{size:20})})]})]})}function R9({handleSortOrder:t,filteredProducts:e,filteredProductsLength:n}){return d.jsxs("div",{className:"px-4 w-3/4 border rounded-lg md:w-full md:border-none sm:w-full sm:border-none sm:px-1",children:[d.jsx(A9,{handleSortOrder:t,filteredProductsLength:n}),d.jsx(zy,{context:e})]})}function k9(){var D;const[t,e]=z.useState("all"),[n,r]=z.useState(""),[s,i]=z.useState(""),[o,a]=z.useState(1e3),[u,c]=z.useState(20),h=V=>{e(V.target.textContent.toLowerCase())},m=V=>{r(V.target.value.toLowerCase())},p=()=>{r("")},v=V=>{i(V.target.value.toLowerCase())},y=V=>{a(Number(V.target.value))},{products:b,isLoading:P,error:E,refetch:w}=To(),S=(D=b==null?void 0:b.filter(V=>{const q=t==="all"||V.category.toLowerCase()===t,C=V.title.toLowerCase().includes(n),_=V.price<=o;return q&&C&&_}))==null?void 0:D.sort((V,q)=>s==="a-z"?V.title.localeCompare(q.title):s==="z-a"?q.title.localeCompare(V.title):0);return z.useEffect(()=>{c(S.length)},[S.length]),P?d.jsx("div",{className:"fixed inset-0 z-[60] flex justify-center items-center bg-white ",children:d.jsx("div",{className:"w-12 h-12 aspect-square rounded-full border-8 border-lilac border-t-transparent animate-spin"})}):E?d.jsxs("div",{className:"fixed inset-0 z-[60] flex flex-col items-center justify-center bg-white",children:[d.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Something went wrong"}),d.jsxs("p",{className:"text-gray-600 mb-6",children:["Error: ",E.message]}),d.jsx("button",{className:"bg-lilac text-white py-2 px-4 rounded hover:bg-lilac-dark transition duration-300",onClick:()=>w(),children:"Refresh Page"})]}):d.jsxs("div",{className:" flex py-16 px-12 gap-8 md:flex-col-reverse md:px-4 sm:flex-col-reverse sm:px-4 ",children:[d.jsx(I9,{handleCategoryChange:h,handleSearchInput:m,handleMaxPriceFilter:y,maxPrice:o,handleSearchClear:p}),d.jsx(R9,{filteredProducts:S,handleSortOrder:v,filteredProductsLength:u})]})}function P9(){return d.jsx(d.Fragment,{children:d.jsx(k9,{})})}function N9(){const t=z2(),{isLoading:e,error:n,refetch:r}=To(),{isShow:s,setIsShow:i,handleShow:o}=Ac(),{isProductModal:a,handleProductModal:u,closeProductModal:c}=Ff(),{addToCart:h,incrementItemQuantity:m,decrementItemQuantity:p}=z.useContext(gr),{addToWishList:v}=z.useContext(Eo);return e?d.jsx("div",{className:"fixed inset-0 z-[60] flex justify-center items-center bg-white ",children:d.jsx("div",{className:"w-12 h-12 aspect-square rounded-full border-8 border-lilac border-t-transparent animate-spin"})}):n?d.jsxs("div",{className:"fixed inset-0 z-[60] flex flex-col items-center justify-center bg-white",children:[d.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Something went wrong"}),d.jsxs("p",{className:"text-gray-600 mb-6",children:["Error: ",n.message]}),d.jsx("button",{className:"bg-lilac text-white py-2 px-4 rounded hover:bg-lilac-dark transition duration-300",onClick:()=>r(),children:"Refresh Page"})]}):d.jsx("div",{className:"h-fit grid grid-cols-3 gap-10 md:grid-cols-2 sm:grid-cols-1 sm:pb-4 ",children:(t==null?void 0:t.length)>0?t.map(y=>d.jsxs("div",{className:"h-[25rem] border shadow-md md:h-[35rem] sm:h-[35rem] ",children:[d.jsxs("div",{className:"h-[70%] relative md:h-4/5 sm:h-4/5",onMouseEnter:()=>o(y.id),onMouseLeave:()=>i(!1),onClick:()=>o(y.id),children:[d.jsx("img",{src:y.image,alt:y.title,className:" w-full h-full md:p-4 sm: p-5 "}),s===y.id&&d.jsxs("div",{className:" z-50 flex absolute bottom-0 w-full h-12 ",children:[d.jsx("div",{className:" bg-lilac w-1/4 h-full flex justify-center hover:bg-black md:w-[15%] sm:w-[15%] ",children:d.jsxs("button",{className:" flex justify-center items-center cursor-pointer  ",onClick:()=>v(y),children:[" ",d.jsx(di,{size:25,className:"text-white"})," "]})}),d.jsx("div",{className:" bg-lilac w-2/4 h-full border-x border-slate-100 flex justify-center cursor-pointer hover:bg-black md:w-[70%] sm:w-[70%] ",children:d.jsxs("button",{className:" flex justify-center items-center text-white ",onClick:()=>h(y),children:[" ",d.jsx(Uf,{className:" m-1 text-white "}),"Add to Cart"," "]})}),d.jsx("div",{className:" bg-lilac w-1/4 h-full flex justify-center cursor-pointer hover:bg-black md:w-[15%] sm:w-[15%] ",children:d.jsxs("button",{className:" flex justify-center items-center cursor-pointer text-white ",onClick:()=>u(y.id),children:[" ",d.jsx(Nf,{size:30})," "]})})]})]}),d.jsxs("div",{className:" mt-6 p-2 sm:text-center ",children:[d.jsx("p",{className:"hover:text-lilac",children:d.jsx(et,{to:`/product-details/${y.id}`,children:VM(y.title)})}),d.jsxs("p",{className:" text-center pt-1 ",children:["$",y.price]})]}),a===y.id&&d.jsx(jf,{items:y,closeModal:c,addToCart:h,addToWishList:v,decrementItemQuantity:p,incrementItemQuantity:m})]},y.id)):d.jsx("div",{className:"font-medium text-xl italic",children:"No Products Found"})})}const j9=({getTotalPriceOfCart:t,handleNavigationToCheckout:e})=>d.jsxs("div",{className:"border w-1/3 px-8 py-10 bg-gray-200 rounded-md md:w-full md:col-span-2 sm:w-full sm:text-sm sm:px-4",children:[d.jsx("h3",{className:"text-lg font-medium mb-8",children:"Cart Total"}),d.jsxs("div",{className:"flex justify-between mb-4 border-b border-black pb-4",children:[d.jsx("p",{children:"Total Products"}),d.jsxs("p",{children:["$",t()]})]}),d.jsxs("div",{className:`border-b border-black\r
         pb-4`,children:[d.jsx("p",{className:"mb-4",children:"Total Shipping"}),d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("div",{children:[d.jsx("input",{type:"checkbox",name:"standardShipping"}),d.jsx("label",{htmlFor:"standardShipping",children:"Standard"})]}),d.jsx("span",{children:"$20.00"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("div",{children:[d.jsx("input",{type:"checkbox",name:"expressShipping"}),d.jsx("label",{htmlFor:"expressShipping",children:"Express"})]}),d.jsx("span",{children:"$30.00"})]})]}),d.jsxs("div",{className:"flex justify-between py-4 text-lilac text-xl",children:[d.jsx("h2",{className:" ",children:"Grand Total"}),d.jsxs("p",{children:["$",t()]})]}),d.jsx("button",{onClick:e,className:"uppercase bg-lilac w-full rounded-full py-4 text-white font-medium hover:bg-black",children:"Proceed to checkout"})]}),O9=()=>d.jsxs("div",{className:"border w-1/3 px-8 py-10 bg-gray-200 rounded-md md:w-full sm:w-full sm:text-sm sm:px-4",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Use Coupon Code"}),d.jsx("p",{className:"mb-4",children:"Enter your coupon code if you have one."}),d.jsx("input",{type:"text",className:"block outline-lilac border w-full px-4 py-2"}),d.jsx("button",{className:"uppercase bg-lilac w-full rounded-full py-4 text-white font-medium mt-8 hover:bg-black",children:"apply coupon"})]}),D9=()=>d.jsxs("div",{className:"border w-1/3 px-8 py-10 bg-gray-200 rounded-md md:w-full sm:w-full sm:text-sm sm:px-4",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Estimate Shipping And Tax"}),d.jsx("p",{children:"Enter your destination to get a shipping estimate."}),d.jsxs("form",{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"country",className:"mb-2",children:"*Country"}),d.jsx("select",{name:"country",id:"country",className:"block w-full outline-lilac h-8",children:d.jsx("option",{value:"",children:"Nigeria"})})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"country",className:"mb-2",children:"* Region / State"}),d.jsx("select",{name:"country",id:"country",className:"block w-full outline-lilac h-8",children:d.jsx("option",{value:"",children:"Rivers"})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"zip",className:"mb-2",children:"* Zip / Postal Code"}),d.jsx("input",{type:"number",id:"zip",className:"w-full h-8"})]}),d.jsx("button",{className:"uppercase bg-lilac w-full rounded-full py-4 text-white font-medium hover:bg-black mt-8",children:"Get a quote"})]})]});function L9(){const t=vo(),{error:e,isLoading:n}=To(),{cart:r,removeFromCart:s,incrementItemQuantity:i,decrementItemQuantity:o,getTotalPriceForItem:a,getTotalPriceOfCart:u,clearCart:c}=z.useContext(gr);if(n)return d.jsx("div",{children:"Data is loading"});if(e)return d.jsxs("p",{children:["Error: ",e.message," "]});const h=()=>{t("/collection/grid")},m=()=>{t("/checkout")};return d.jsx(d.Fragment,{children:r.length===0?d.jsxs("div",{className:" flex justify-center items-center flex-col  ",children:[d.jsx(K2,{size:100}),d.jsx("p",{className:" text-2xl my-5 ",children:"Cart is empty"}),d.jsx("p",{className:" mb-3 font-medium ",children:"PLease order your favorite items"}),d.jsx("button",{className:" bg-black text-white hover:bg-lilac w-40 h-11 ",children:d.jsx(et,{to:"/collection",children:"Add Items"})})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:" mb-4 font-semibold text-xl ",children:"Your cart items"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:" border w-full md:w-[60rem] md:text-sm sm:w-[50rem] sm:text-sm ",children:[d.jsx("thead",{className:" bg-gray-200 ",children:d.jsxs("tr",{className:" h-11 ",children:[d.jsx("th",{children:"IMAGE"}),d.jsx("th",{children:"PRODUCT NAME"}),d.jsx("th",{children:"UNIT PRICE"}),d.jsx("th",{children:"QTY"}),d.jsx("th",{children:"SUBTOTAL"}),d.jsx("th",{children:"ACTION"})]})}),d.jsx("tbody",{children:r==null?void 0:r.map(p=>d.jsxs("tr",{className:" border ",children:[d.jsx("td",{className:" h-40  w-[12.5%] ",children:d.jsx("img",{src:p.image,alt:p.title,className:" h-full w-full object-contain p-8 "})}),d.jsx("td",{className:" w-2/4 text-center ",children:p.title}),d.jsxs("td",{className:" w-[12.5%] text-center ",children:["$",p.price]}),d.jsx("td",{className:" w-[12.5%] ",children:d.jsxs("div",{className:" flex border ",children:[d.jsx("button",{className:" inline text-center cursor-pointer w-3/12 border-r ",onClick:()=>o(p.id),children:"-"}),d.jsx("span",{className:"w-1/2 text-center",children:p.quantity}),d.jsx("button",{className:" inline text-center cursor-pointer w-3/12 border-l ",onClick:()=>i(p.id),children:"+"})]})}),d.jsxs("td",{className:" w-[12.5%] text-center ",children:["$",a(p)]}),d.jsxs("td",{className:" w-[12.5%] ",children:[" ",d.jsx(rP,{size:30,onClick:()=>s(p.id),className:"hover:text-lilac"})," "]})]},p.id))})]})}),d.jsxs("div",{className:"mt-10 flex justify-between sm:flex-col sm:text-sm",children:[d.jsx("button",{className:"bg-gray-200 rounded-full py-4 px-10 uppercase font-medium hover:bg-lilac sm:mb-4",onClick:h,children:"Continue Shopping"}),d.jsx("button",{className:"bg-gray-200 rounded-full py-4 px-10 uppercase font-medium hover:bg-lilac",onClick:c,children:"Clear Shopping cart"})]}),d.jsxs("div",{className:"mt-12 flex gap-8 md:grid md:grid-cols-2 sm:flex-col",children:[d.jsx(D9,{}),d.jsx(O9,{}),d.jsx(j9,{getTotalPriceOfCart:u,handleNavigationToCheckout:m})]})]})})}function M9(){return d.jsx("div",{className:" p-20 md:px-8 sm:p-4 ",children:d.jsx(L9,{})})}function V9(){return d.jsxs("section",{className:" flex flex-col justify-center items-center p-48 md:px-8 md:py-16 sm:px-4 sm:py-16 ",children:[d.jsxs("div",{className:" flex mb-10 ",children:[d.jsx("div",{className:' relative before:absolute before:bg-[hsl(0,100%,3%)] before:content-[""] before:h-5 before:w-[0.0625rem] before:bottom-1 before:-right-[0.125rem] ',children:d.jsx(sr,{to:"login",className:({isActive:t})=>t?"text-lilac font-bold text-2xl":"text-black font-bold text-2xl",children:d.jsx("p",{className:"mx-5",children:"Login"})})}),d.jsx("div",{className:"",children:d.jsxs(sr,{to:"register",className:({isActive:t})=>t?"text-lilac font-bold text-2xl":"text-black font-bold text-2xl",children:[" ",d.jsx("p",{className:"mx-5",children:"Register"})," "]})})]}),d.jsx(zy,{})]})}function F9(){const{wishList:t,handleAddToCartWhileRemovingFromWishList:e,incrementItemQuantity:n,decrementItemQuantity:r,getTotalPriceForItem:s}=z.useContext(Eo);return d.jsx(d.Fragment,{children:t.length===0?d.jsxs("div",{className:" flex justify-center items-center flex-col  ",children:[d.jsx(di,{size:100}),d.jsx("p",{className:" text-2xl my-5 ",children:"WishList is empty"}),d.jsx("p",{className:" mb-3 font-medium ",children:"PLease order your favorite items"}),d.jsx("button",{className:" bg-black text-white hover:bg-lilac w-40 h-11 ",children:d.jsx(et,{to:"/collection",children:"Add Items"})})]}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:" border border-collapse w-full md:w-[60rem] md:text-sm sm:w-[50rem] sm:text-sm ",children:[d.jsx("thead",{className:" bg-gray-200 ",children:d.jsxs("tr",{className:" h-11 ",children:[d.jsx("th",{className:"w-[12.5%]",children:"IMAGE"}),d.jsx("th",{className:"w-[30%]",children:"PRODUCT NAME"}),d.jsx("th",{className:" w-[12.5%]",children:"UNIT PRICE"}),d.jsx("th",{className:" w-[12.5%]",children:"QTY"}),d.jsx("th",{className:" w-[12.5%]",children:"SUBTOTAL"}),d.jsx("th",{className:" w-[12.5%]",children:"ADD TO CART"})]})}),d.jsx("tbody",{children:t==null?void 0:t.map(i=>d.jsxs("tr",{className:" border ",children:[d.jsx("td",{className:" h-40  w-[12.5%] ",children:d.jsx("img",{src:i.image,alt:i.title,className:" h-full w-full object-contain p-8 "})}),d.jsx("td",{className:" w-[30%] text-center ",children:i.title}),d.jsxs("td",{className:" w-[12.5%] text-center ",children:["$ ",i.price]}),d.jsx("td",{className:" w-[12.5%] ",children:d.jsxs("div",{className:" flex border ",children:[d.jsx("button",{className:" inline text-center cursor-pointer w-3/12 border-r ",onClick:()=>r(i.id),children:"-"}),d.jsx("span",{className:"w-1/2 text-center",children:i.quantity}),d.jsx("button",{className:" inline text-center cursor-pointer w-3/12 border-l ",onClick:()=>n(i.id),children:"+"})]})}),d.jsxs("td",{className:" w-[12.5%] text-center ",children:["$",s(i)]}),d.jsxs("td",{className:" w-[12.5%] text-center ",children:[" ",d.jsx("button",{className:" bg-lilac text-white hover:bg-black rounded-md p-2 text-sm ",onClick:()=>e(i),children:"ADD TO CART"})," "]})]},i.id))})]})})})}function U9(){return d.jsx("div",{className:" p-20 md:px-8 sm:p-4 ",children:d.jsx(F9,{})})}function z9(){const t=z2(),{isLoading:e,error:n,refetch:r}=To(),{addToCart:s}=z.useContext(gr);return e?d.jsx("div",{className:"fixed inset-0 z-[60] flex justify-center items-center bg-white ",children:d.jsx("div",{className:"w-12 h-12 aspect-square rounded-full border-8 border-lilac border-t-transparent animate-spin"})}):n?d.jsxs("div",{className:"fixed inset-0 z-[60] flex flex-col items-center justify-center bg-white",children:[d.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Something went wrong"}),d.jsxs("p",{className:"text-gray-600 mb-6",children:["Error: ",n.message]}),d.jsx("button",{className:"bg-lilac text-white py-2 px-4 rounded hover:bg-lilac-dark transition duration-300",onClick:()=>r(),children:"Refresh Page"})]}):d.jsx("section",{className:" h-fit flex flex-col gap-10 mb-4",children:(t==null?void 0:t.length)>0?t.map(i=>d.jsxs("div",{className:" h-[31rem] flex border shadow-md sm:flex-col sm:h-fit ",children:[d.jsx("div",{className:"h-[31rem] w-[35%] border shadow-sm flex justify-center sm:w-full sm:h-[20rem] ",children:d.jsx("img",{src:i.image,alt:i.title,className:" h-1/2 py-5 px-4 sm:h-full"})}),d.jsxs("div",{className:" h-[31rem] w-[65%] py-5 mx-4 sm:w-full sm:pr-4 sm:h-fit ",children:[d.jsx("h2",{className:" text-2xl mb-3 ",children:i.title}),d.jsxs("p",{className:" text-red-500 text-lg mb-2 ",children:["$",i.price]}),d.jsxs("p",{className:"mb-3 flex",children:[d.jsx(jv,{size:20,className:"inline mr-2 text-orange-500"})," ",i.rating.rate]}),d.jsx("p",{className:" mb-3 sm:text-sm ",children:i.description}),d.jsx("button",{onClick:()=>s(i),className:" bg-black text-white w-32 h-12 hover:bg-lilac sm:text-sm sm:h-8 ",children:"ADD TO CART"})]})]},i.id)):d.jsx("div",{className:"font-medium text-xl italic",children:"No Products Found"})})}function lu({type:t,name:e,placeholder:n,register:r,value:s}){return d.jsx("input",{className:" border h-12 w-full p-3 outline-lilac md:text-sm sm:text-sm ",type:t,name:e,placeholder:n,...r(e),value:s})}const EI=({name:t})=>d.jsx("button",{className:" text-[0.938rem] font-medium bg-gray-300 w-28 h-10 mt-7 transition-colors duration-100 ease-linear delay-75 transform hover:bg-lilac hover:text-white md:text-sm sm:text-sm sm:h-9 ",type:"submit",children:t}),B9=qe.object({username:qe.string().min(6,{message:"Must be at least 6 characters long"}),password:qe.string().min(8,{message:"Password must be at least 8 characters long"}).max(20,{message:"Password must not exceed 20 characters"}).regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,20}$/,"Password must contain at least one lower letter, one uppercase letter, one number, and one special character"),rememberMe:qe.boolean()});function $9(){const t=vo(),{login:e,setIsLoggedIn:n}=Nv(),{register:r,handleSubmit:s,formState:{errors:i},reset:o}=Bf({resolver:$f(B9)}),[a,u]=z.useState(null),c=async h=>{const{username:m,password:p,rememberMe:v}=h;try{const y=o5(W3(ou,"users"),a5("username","==",m)),b=await h5(y);if(b.empty)u("user not found");else{const E=b.docs[0].data(),w=E.email;await B4(jh,w,p);const S={uid:E.uid,email:E.email,username:E.username};v?localStorage.setItem("user",JSON.stringify(S)):sessionStorage.setItem("user",JSON.stringify(S)),e(S),n(!0);const D=JSON.parse(localStorage.getItem("cart"))||[];await pb(Ph(ou,"carts",S.uid),{cartItems:D,updatedAt:new Date});const V=await hb(Ph(ou,"carts",S.uid));if(V.exists()){const q=V.data().cartItems||[];localStorage.setItem("cart",JSON.stringify(q))}t("/checkout")}}catch(y){u(y.message),console.error("Error logging in",y)}o({username:"",password:"",rememberMe:!1})};return d.jsxs("form",{onSubmit:s(c),className:" border h-full w-[70%] shadow-md p-20 md:w-full md:p-20 sm:w-full sm:py-10 sm:px-4 ",children:[a&&d.jsx("p",{className:"bg-red-500",children:a}),d.jsxs("div",{className:" mb-8 ",children:[d.jsx(lu,{type:"text",placeholder:"Username",name:"username",register:r}),i.username&&d.jsx("p",{className:" bg-red-500  ",children:i.username.message})]}),d.jsxs("div",{className:" mb-8 ",children:[d.jsx(lu,{type:"password",placeholder:"Password",name:"password",register:r}),i.password&&d.jsx("p",{className:" bg-red-500  ",children:i.password.message})]}),d.jsxs("div",{className:" flex justify-between ",children:[d.jsxs("div",{children:[d.jsx("input",{type:"checkbox",name:"rememberMe",...r("rememberMe")}),d.jsx("span",{className:" ml-2 text-[0.938rem]",children:"Remember me"})]}),d.jsx("div",{children:d.jsx(et,{className:" text-[0.938rem] ",children:"Forgot password?"})})]}),d.jsx(EI,{name:"LOGIN"})]})}const q9=qe.object({username:qe.string().min(6,{message:"Must be at least 6 characters long"}),password:qe.string().min(8,"Password must be at least 8 characters long").max(20,"Password must not exceed 20 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,20}$/,"Password must contain at least one lower letter, one uppercase letter, one number, and one special character"),email:qe.string().email("Please enter a valid email address")});function H9(){const t=vo(),{register:e,handleSubmit:n,formState:{errors:r},reset:s}=Bf({resolver:$f(q9)}),[i,o]=z.useState(null),a=async u=>{const{email:c,password:h,username:m}=u;try{const v=(await z4(jh,c,h)).user;await pb(Ph(ou,"users",v.uid),{uid:v.uid,username:m,email:v.email,createdAt:new Date}),console.log(v),t("/login-register/login")}catch(p){o(p.message),console.error("Error registering",p)}s({username:"",password:"",email:""})};return d.jsxs("form",{onSubmit:n(a),className:" border h-full w-[70%] shadow-md p-20 md:w-full md:p-20 sm:w-full sm:py-10 sm:px-4 ",children:[i&&d.jsx("p",{className:"bg-red-500",children:i}),d.jsxs("div",{className:" mb-8 ",children:[d.jsx(lu,{type:"text",placeholder:"Username",name:"username",register:e}),r.username&&d.jsx("p",{className:" bg-red-500  ",children:r.username.message})]}),d.jsxs("div",{className:"mb-8 ",children:[d.jsx(lu,{type:"password",placeholder:"Password",name:"password",register:e}),r.password&&d.jsx("p",{className:" bg-red-500  ",children:r.password.message})]}),d.jsxs("div",{children:[d.jsx(lu,{type:"email",placeholder:"Email",name:"email",register:e}),r.email&&d.jsx("p",{className:" bg-red-500  ",children:r.email.message})]}),d.jsx(EI,{name:"REGISTER"})]})}function W9(){const t=[{title:"Our Vision",content:"To be a leading global destination where fashion, elegance, and technology converge, creating an unparalleled shopping experience that inspires and empowers our customers to express their unique style and embrace modern living."},{title:"Our Mission",content:"At Amabilis, our mission is to curate a diverse and innovative selection of high-quality clothing, jewelry, and electronics that cater to the evolving needs and desires of our customers. We are committed to excellence, sustainability, and customer satisfaction, ensuring that every product and service we offer enhances the lives of those we serve."},{title:"Our Goal",content:"Our goal is to continually expand our product range, embrace the latest trends, and foster a loyal community of satisfied customers. We strive to set new standards in the online retail space, offering an effortless shopping experience, exceptional value, and unparalleled quality."}];return d.jsx("div",{className:" flex my-20 gap-8 px-3 sm:flex-col ",children:t.map(e=>d.jsxs("div",{className:" basis-2/6 ",children:[d.jsx("h4",{className:" font-medium text-2xl mb-4 ",children:e.title}),d.jsx("p",{children:e.content})]},ci()))})}const K9="/amabilis-e-commerce-website/assets/earrings-C1m4AEcD.jpg",Q9="/amabilis-e-commerce-website/assets/malebag-BPb88_W-.jpg",G9="/amabilis-e-commerce-website/assets/tv-BcGZUUSF.jpg";function Z9(){const t=vo(),e=()=>{t("/collection/grid")},n=[{image:K9,title:"Earrings"},{image:Q9,title:"School Bags"},{image:G9,title:"Television"}];return d.jsx("div",{className:" flex mt-20 gap-8 px-3 sm:flex-col ",children:n.map(r=>d.jsxs("div",{className:" basis-2/6 h-64 relative md:h-32 sm:h-40 ",children:[d.jsx("img",{src:r.image,alt:r.title,className:" h-full w-full "}),d.jsxs("div",{className:" absolute top-0 left-0 p-12 md:p-1 ",children:[d.jsx("h3",{className:" font-semibold text-3xl text-yellow-400 md:text-xl ",children:r.title}),d.jsxs("p",{className:" mb-12 md:mb-6 ",children:["Starting at ",d.jsx("span",{className:" italic text-yellow-400 ",children:"$100"})]}),d.jsx(mV,{onClick:e,className:" size-8 text-yellow-400 hover:text-lilac "})]})]},ci()))})}const J9="/amabilis-e-commerce-website/assets/manager-C82ru0RX.jpg",Y9="/amabilis-e-commerce-website/assets/developer-DMcNjs35.jpg",X9="/amabilis-e-commerce-website/assets/designer-BkXmQ7Iy.jpg",e6="/amabilis-e-commerce-website/assets/chairman-DdA7c6B7.jpg";function t6(t){return Me({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm215.3 337.7c.3 4.7.3 9.6.3 14.4 0 146.8-111.8 315.9-316.1 315.9-63 0-121.4-18.3-170.6-49.8 9 1 17.6 1.4 26.8 1.4 52 0 99.8-17.6 137.9-47.4-48.8-1-89.8-33-103.8-77 17.1 2.5 32.5 2.5 50.1-2a111 111 0 0 1-88.9-109v-1.4c14.7 8.3 32 13.4 50.1 14.1a111.13 111.13 0 0 1-49.5-92.4c0-20.7 5.4-39.6 15.1-56a315.28 315.28 0 0 0 229 116.1C492 353.1 548.4 292 616.2 292c32 0 60.8 13.4 81.1 35 25.1-4.7 49.1-14.1 70.5-26.7-8.3 25.7-25.7 47.4-48.8 61.1 22.4-2.4 44-8.6 64-17.3-15.1 22.2-34 41.9-55.7 57.6z"},child:[]}]})(t)}function n6(){const t=[{id:1,image:J9,name:"Mr. Omari Davis",position:"Manager",socialMedia:{facebook:"https://www.facebook.com",twitter:"https://www.twitter.com",instagram:"https://www.instagram.com"}},{id:2,image:Y9,name:"Ms. Nia Thompson",position:"Developer",socialMedia:{facebook:"https://www.facebook.com",twitter:"https://www.twitter.com",instagram:"https://www.instagram.com"}},{id:3,image:X9,name:"Ms. Kamaria Clark",position:"Designer",socialMedia:{facebook:"https://www.facebook.com",twitter:"https://www.twitter.com",instagram:"https://www.instagram.com"}},{id:4,image:e6,name:"Mr. Jabari Harris",position:"Chairman",socialMedia:{facebook:"https://www.facebook.com",twitter:"https://www.twitter.com",instagram:"https://www.instagram.com"}}],{isShow:e,setIsShow:n,handleShow:r}=Ac();return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col items-center pb-24",children:[d.jsx("h2",{className:' font-semibold text-3xl pb-4 relative before:absolute before:bg-black before:content-[""] before:h-1 before:w-16 before:left-0 before:right-0 before:bottom-0 before:my-0 before:mx-auto ',children:"Team Members"}),d.jsx("p",{className:"pt-6 sm:text-center",children:"Team members that give sustainability, quality and customer satisfaction"})]}),d.jsx("div",{className:" flex gap-6 sm:flex-col ",children:t.map(s=>d.jsxs("div",{className:" basis-1/4 ",children:[d.jsxs("div",{className:"h-80 relative sm:h-[30rem]",onMouseEnter:()=>r(s.id),onMouseLeave:()=>n(!1),onClick:()=>r(s.id),children:[d.jsx("img",{src:s.image,alt:s.name,className:" h-full w-full "}),e===s.id&&d.jsxs("div",{className:"bg-white flex absolute top-2/4 z-20 justify-center w-full p-2 gap-2",children:[d.jsx("a",{href:s.socialMedia.facebook,target:"_blank",children:d.jsx(A5,{className:"size-6 text-[#1877F2] sm:size-9"})}),d.jsx("a",{href:s.socialMedia.twitter,target:"_blank",children:d.jsx(t6,{className:"size-6 text-[#1DA1F2] sm:size-9"})}),d.jsx("a",{href:s.socialMedia.instagram,target:"_blank",children:d.jsx(fV,{className:"size-6 text-[#E1306C] sm:size-9"})})]})]}),d.jsxs("div",{className:"text-center p-4 bg-gray-500",children:[d.jsx("p",{className:"font-medium text-xl",children:s.name}),d.jsx("p",{className:"italic",children:s.position})]})]},s.id))})]})}function r6(){return d.jsxs("section",{className:" pb-20 sm:text-sm  ",children:[d.jsxs("div",{className:" flex flex-col items-center",children:[d.jsx("h4",{className:" text-lg font-medium ",children:"Who are we"}),d.jsx("h2",{className:' text-3xl pb-6 font-medium relative before:absolute before:bg-black before:content-[""] before:h-1 before:w-16 before:left-0 before:right-0 before:bottom-0 before:my-0 before:mx-auto ',children:"Welcome to Amabilis"}),d.jsx("p",{className:" px-20 mt-12 text-center sm:px-4 ",children:"At Amabilis, we are more than just a brand; we are a community of trendsetters, innovators, and dreamers. Our journey began with a simple idea: to create a space where fashion and technology coexist harmoniously. With a keen eye on the latest trends and a passion for quality, we handpick every item in our collection to ensure it meets our high standards of excellence. Our team is dedicated to providing you with the best products and customer service, making sure your experience with us is nothing short of extraordinary."})]}),d.jsxs("div",{className:" px-20 md:px-8 sm:px-4 ",children:[d.jsx(Z9,{}),d.jsx(W9,{}),d.jsx(n6,{})]})]})}const s6=()=>d.jsx("div",{className:" py-20 sm:py-10 ",children:d.jsx(r6,{})}),i6=qe.object({firstName:qe.string().min(6,{message:"Must be at least 6 characters long"}),lastName:qe.string().min(6,{message:"Must be at least 6 characters long"}),companyName:qe.string().optional(),country:qe.string().min(1,{message:"Please select a country"}),address:qe.object({street:qe.string().min(1,{message:"Street name and number is required"}),apartment:qe.string().optional()}),townOrCity:qe.string().min(1,{message:"Town is required"}),stateOrCounty:qe.string().min(1,{message:"State is required"}),postcodeOrZip:qe.string(),phone:qe.string(),email:qe.string().email("Please enter a valid email address"),additionalInformation:qe.string().optional()}),o6=()=>{var s,i;const{register:t,handleSubmit:e,formState:{errors:n}}=Bf({resolver:$f(i6)}),r=o=>{console.log(o)};return d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"font-medium text-xl",children:"Billing Details"}),d.jsxs("form",{onSubmit:e(r),children:[d.jsxs("div",{className:"flex gap-8 mt-4 sm:flex-col",children:[d.jsxs("div",{className:"flex flex-col w-full",children:[d.jsx("label",{htmlFor:"firstName",children:"First Name"}),d.jsx("input",{type:"text",id:"firstName",...t("firstName"),className:"border border-gray-200 h-12 p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),n.firstName&&d.jsx("p",{className:" bg-red-500  ",children:n.firstName.message})]}),d.jsxs("div",{className:"flex flex-col w-full",children:[d.jsx("label",{htmlFor:"lastName",children:"Last Name"}),d.jsx("input",{type:"text",id:"lastName",...t("lastName"),className:"border border-gray-200 h-12  p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),n.lastName&&d.jsx("p",{className:" bg-red-500  ",children:n.lastName.message})]})]}),d.jsxs("div",{className:"flex flex-col w-full mt-4",children:[d.jsx("label",{htmlFor:"companyName",children:"Company Name"}),d.jsx("input",{type:"text",id:"companyName",...t("companyName"),className:"border border-gray-200 h-12  p-3 mt-2 outline-lilac md:text-sm sm:text-sm "})]}),d.jsxs("div",{className:"flex flex-col w-full mt-4",children:[d.jsx("label",{htmlFor:"country",children:"Country"}),d.jsx("select",{name:"",id:"country",...t("country"),className:"border border-gray-200 h-12 p-3 mt-2 outline-lilac md:text-sm sm:text-sm",children:d.jsx("option",{value:"",children:"Select a Country"})}),n.country&&d.jsx("p",{className:" bg-red-500  ",children:n.country.message})]}),d.jsxs("div",{className:"flex flex-col w-full mt-4",children:[d.jsx("label",{htmlFor:"streetAddress",children:"Street Address"}),d.jsx("input",{type:"text",id:"streetAddress",placeholder:"House number and street name",...t("address.street"),className:"border border-gray-200 h-12  p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),((s=n.address)==null?void 0:s.street)&&d.jsx("p",{className:" bg-red-500  ",children:n.address.street.message}),d.jsx("input",{type:"text",placeholder:"Apartment, suite, unit, etc",...t("address.apartment"),className:"border border-gray-200 h-12  p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),((i=n.address)==null?void 0:i.apartment)&&d.jsx("p",{className:" bg-red-500  ",children:n.address.apartment.message})]}),d.jsxs("div",{className:"flex flex-col w-full mt-4",children:[d.jsx("label",{htmlFor:"townOrCity",children:"Town / City"}),d.jsx("input",{type:"text",id:"townOrCity",...t("townOrCity"),className:"border border-gray-200 h-12  p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),n.townOrCity&&d.jsx("p",{className:" bg-red-500  ",children:n.townOrCity.message})]}),d.jsxs("div",{className:"flex gap-8 mt-4 sm:flex-col",children:[d.jsxs("div",{className:"flex flex-col w-full",children:[d.jsx("label",{htmlFor:"stateOrCounty",children:"State / County"}),d.jsx("input",{type:"text",id:"stateOrCounty",...t("stateOrCounty"),className:"border border-gray-200 h-12 p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),n.stateOrCounty&&d.jsx("p",{className:" bg-red-500  ",children:n.stateOrCounty.message})]}),d.jsxs("div",{className:"flex flex-col w-full",children:[d.jsx("label",{htmlFor:"postcodeOrZip",children:"Postcode / ZIP"}),d.jsx("input",{type:"text",id:"postcodeOrZip",...t("postcodeOrZip"),className:"border border-gray-200 h-12  p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),n.postcodeOrZip&&d.jsx("p",{className:" bg-red-500  ",children:n.postcodeOrZip.message})]})]}),d.jsxs("div",{className:"flex gap-8 mt-4 sm:flex-col",children:[d.jsxs("div",{className:"flex flex-col w-full",children:[d.jsx("label",{htmlFor:"phone",children:"Phone"}),d.jsx("input",{type:"number",id:"phone",...t("phone"),className:"border border-gray-200 h-12 p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),n.phone&&d.jsx("p",{className:" bg-red-500  ",children:n.phone.message})]}),d.jsxs("div",{className:"flex flex-col w-full",children:[d.jsx("label",{htmlFor:"email",children:"Email Address"}),d.jsx("input",{type:"email",id:"email",...t("email"),className:"border border-gray-200 h-12  p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),n.email&&d.jsx("p",{className:" bg-red-500  ",children:n.email.message})]})]}),d.jsxs("div",{className:" mt-8",children:[d.jsx("h3",{children:"Additional Information"}),d.jsx("p",{children:"Order notes"}),d.jsx("textarea",{name:"",id:"",...t("additionalInformation"),placeholder:"Notes about your order, e.g special notes for delivery.",className:"w-full border border-gray-200 h-40 p-3 mt-2 outline-lilac md:text-sm sm:text-sm"})]})]})]})},a6=({cart:t,getTotalPriceForItem:e,getTotalPriceOfCart:n})=>{const r=n();return d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"font-medium text-xl",children:"Your Order"}),d.jsxs("div",{className:"bg-gray-200 p-8 my-6 rounded-xl",children:[d.jsxs("div",{className:"flex justify-between pb-8 border-b border-dark-gray *:font-medium",children:[d.jsx("h3",{children:"Product"}),d.jsx("h3",{children:"Total"})]}),d.jsx("div",{className:"py-4 border-b border-dark-gray ",children:t==null?void 0:t.map(s=>d.jsxs("ul",{className:"flex justify-between *:mb-4",children:[d.jsxs("li",{children:[s.title," X ",s.quantity]}),d.jsxs("li",{children:["$",e(s)]})]},s.id))}),d.jsxs("div",{className:" flex justify-between py-4 border-b border-dark-gray ",children:[d.jsx("h3",{children:"Shipping"}),d.jsx("h3",{children:"Free Shipping"})]}),d.jsxs("div",{className:" flex justify-between py-4 border-b border-dark-gray *:font-medium",children:[d.jsx("h3",{children:"Total"}),d.jsxs("h3",{className:"text-lilac",children:["$",r]})]})]}),d.jsx("button",{className:"w-full py-4 rounded-full text-white bg-lilac",children:"PLACE ORDER"})]})};function l6(){const{cart:t,getTotalPriceForItem:e,getTotalPriceOfCart:n}=z.useContext(gr);return d.jsxs("div",{className:" flex gap-8 md:flex-col sm:flex-col ",children:[d.jsx("div",{className:" w-3/5 h-fit md:w-full sm:w-full ",children:d.jsx(o6,{})}),d.jsx("div",{className:" w-2/5 h-fit md:w-full sm:w-full ",children:d.jsx(a6,{cart:t,getTotalPriceForItem:e,getTotalPriceOfCart:n})})]})}function u6(){return d.jsx("div",{className:" p-20 md:px-8 sm:p-6 ",children:d.jsx(l6,{})})}const c6=()=>{const{products:t=[],isLoading:e,error:n,refetch:r}=To(),{isShow:s,setIsShow:i,handleShow:o}=Ac(),{isProductModal:a,handleProductModal:u,closeProductModal:c}=Ff(),{addToCart:h}=z.useContext(gr),{addToWishList:m}=z.useContext(Eo),p=new URLSearchParams(Wa().search).get("query")||"",v=Array.isArray(t)?t.filter(y=>{var b,P;return((b=y.title)==null?void 0:b.toLowerCase().includes(p.toLowerCase()))||((P=y.category)==null?void 0:P.toLowerCase().includes(p.toLowerCase()))}):[];return e?d.jsx("div",{className:"fixed inset-0 z-[60] flex justify-center items-center bg-white ",children:d.jsx("div",{className:"w-12 h-12 aspect-square rounded-full border-8 border-lilac border-t-transparent animate-spin"})}):n?d.jsxs("div",{className:"fixed inset-0 z-[60] flex flex-col items-center justify-center bg-white",children:[d.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Something went wrong"}),d.jsxs("p",{className:"text-gray-600 mb-6",children:["Error: ",n.message]}),d.jsx("button",{className:"bg-lilac text-white py-2 px-4 rounded hover:bg-lilac-dark transition duration-300",onClick:()=>r(),children:"Refresh Page"})]}):d.jsxs("div",{className:"m-6 p-10 shadow-sm border",children:[d.jsxs("h2",{className:"font-medium text-2xl",children:['Search Results for "',p,'"']}),d.jsx("div",{className:"grid grid-cols-5 gap-8 mt-6 md:grid-cols-2 sm:grid-cols-1",children:v.length>0?v.map(y=>d.jsxs("div",{className:"border shadow-md p-2 w-56 h-96 md:h-fit md:w-full sm:h-fit sm:w-full ",children:[d.jsxs("div",{className:"h-3/5 relative shadow-sm md:h-[27rem] sm:h-[27rem] ",onMouseEnter:()=>o(y.id),onMouseLeave:()=>i(!1),onClick:()=>o(y.id),children:[d.jsx("img",{src:y.image,alt:y.title,className:" p-5 w-full h-full sm:object-contain "}),s===y.id&&d.jsxs("div",{className:" flex absolute top-2/4 w-full justify-center ",children:[d.jsx("button",{className:"size-8 flex justify-center items-center bg-lilac rounded-full mr-2 hover:bg-black md:size-12 sm:size-12",onClick:()=>h(y),children:d.jsx(Uf,{className:"text-white size-5 md:size-8 sm:size-8 "})}),d.jsx("button",{className:"size-8 flex justify-center items-center bg-lilac rounded-full mr-2 hover:bg-black md:size-12 sm:size-12",onClick:()=>u(y.id),children:d.jsx(Nf,{className:"text-white size-5 md:size-10 sm:size-10"})}),d.jsx("button",{className:"size-8 flex justify-center items-center bg-lilac rounded-full hover:bg-black md:size-12 sm:size-12",onClick:()=>m(y),children:d.jsx(di,{className:"text-white size-5 md:size-10 sm:size-10"})})]}),a===y.id&&d.jsx(jf,{items:y,closeModal:c,addToCart:h,addToWishList:m})]}),d.jsxs("div",{className:" mt-6 ",children:[d.jsx("p",{children:Bv(y.title)}),d.jsxs("p",{children:["$ ",y.price]})]})]},y.id)):d.jsx("p",{children:"No Products Found"})})]})},d6=()=>d.jsx(d.Fragment,{children:d.jsx(c6,{})}),h6=()=>{const{id:t}=Sk(),{products:e,isLoading:n,error:r,refetch:s,incrementProductQuantity:i,decrementProductQuantity:o}=To(),a=e==null?void 0:e.find(E=>E.id===Number(t)),u=e==null?void 0:e.filter(E=>E.category===a.category&&E!==a),{isShow:c,setIsShow:h,handleShow:m}=Ac(),{isProductModal:p,handleProductModal:v,closeProductModal:y}=Ff(),{addToCart:b}=z.useContext(gr),{addToWishList:P}=z.useContext(Eo);return n?d.jsx("div",{className:"fixed inset-0 z-[60] flex justify-center items-center bg-white ",children:d.jsx("div",{className:"w-12 h-12 aspect-square rounded-full border-8 border-lilac border-t-transparent animate-spin"})}):r?d.jsxs("div",{className:"fixed inset-0 z-[60] flex flex-col items-center justify-center bg-white",children:[d.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Something went wrong"}),d.jsxs("p",{className:"text-gray-600 mb-6",children:["Error: ",r.message]}),d.jsx("button",{className:"bg-lilac text-white py-2 px-4 rounded hover:bg-lilac-dark transition duration-300",onClick:()=>s(),children:"Refresh Page"})]}):d.jsxs(d.Fragment,{children:[a&&d.jsxs("div",{className:" flex gap-8 h-[43rem] md:h-fit sm:flex-col sm:h-fit",children:[d.jsx("div",{className:"basis-1/2 border p-8 h-full md:h-96 sm:w-full sm:h-[35rem] sm:basis-0 ",children:d.jsx("img",{src:a.image,alt:a.title,className:"h-full w-full"})}),d.jsxs("div",{className:"basis-1/2 sm:basis-0",children:[d.jsxs("div",{className:"border-b mb-8 pb-8",children:[d.jsx("h2",{className:"font-medium text-3xl mb-4",children:a.title}),d.jsxs("p",{className:"text-red-500 text-2xl mb-4",children:["$",a.price]}),d.jsxs("div",{className:"mb-4 flex",children:[d.jsx(jv,{size:20,className:"inline mr-2 text-orange-600"}),d.jsx("span",{children:a.rating.rate}),d.jsx("span",{className:"border-l pl-5 ml-5 mr-1",children:a.rating.count}),d.jsx("span",{children:"Reviews"})]}),d.jsx("p",{children:a.description})]}),d.jsxs("div",{className:"w-72 flex justify-between sm:w-full",children:[d.jsxs("div",{className:"border w-24 h-12 flex items-center",children:[d.jsx("button",{className:"w-1/4 text-center",onClick:()=>o(a.id),children:"-"}),d.jsx("span",{className:"w-1/2 text-center",children:a.quantity}),d.jsx("button",{className:"w-1/4 text-center",onClick:()=>i(a.id),children:"+"})]}),d.jsx("button",{className:"bg-black text-white w-32 h-12 hover:bg-lilac",onClick:()=>b(a),children:"Add to Cart"}),d.jsx("div",{className:"flex items-center justify-center",onClick:()=>P(a),children:d.jsx(di,{className:"hover:text-lilac",size:25})})]}),d.jsx("div",{className:"mt-4",children:d.jsxs("span",{children:["Categories: ",a.category,", Minimal"]})}),d.jsx("div",{className:"mt-4",children:d.jsx("span",{children:"Tags: Fashion, Electronic, Furniture"})}),d.jsx("div",{className:" mt-14 text-center sm:mt-7",children:d.jsxs("ul",{className:" flex ",children:[d.jsx("li",{className:" mx-[0.625rem] hover:text-lilac ",children:d.jsx("a",{href:"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer",children:d.jsx(lI,{size:20})})}),d.jsx("li",{className:" mx-[0.625rem] hover:text-lilac ",children:d.jsx("a",{href:"https://www.pinterest.com",target:"_blank",children:d.jsx(uI,{size:20})})}),d.jsx("li",{className:" mx-[0.625rem] hover:text-lilac ",children:d.jsx("a",{href:"https://www.twitter.com",target:"_blank",children:d.jsx(cI,{size:20})})}),d.jsx("li",{className:" mx-[0.625rem] hover:text-lilac ",children:d.jsx("a",{href:"https://www.instagram.com",target:"_blank",children:d.jsx(dV,{size:20})})}),d.jsxs("li",{className:" mx-[0.625rem] hover:text-lilac ",children:[d.jsx("a",{href:"https://www.linkedIn.com",target:"_blank",children:d.jsx(hV,{size:20,className:"bg-white"})})," "]})]})})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"my-[3.75rem] text-center",children:d.jsx("h2",{className:'text-3xl font-semibold mb-4 pb-4 relative before:content-[""] before:bg-black before:w-20 before:h-[0.125rem] before:absolute before:left-[22rem] before:top-4 after:content-[""] after:bg-black after:w-20 after:h-[0.125rem] after:absolute after:right-[22rem] after:top-4 md:before:left-32 md:after:right-32 sm:before:w-7 sm:after:w-7 sm:mb-4 sm:before:left-4 sm:after:right-4',children:"Related Products"})}),d.jsx("div",{className:"grid gap-8 grid-cols-4 md:grid-cols-2 sm:grid-cols-1",children:u.map(E=>d.jsxs("div",{className:"h-fit",children:[d.jsxs("div",{className:"relative h-80 border p-4",onMouseEnter:()=>m(E.id),onMouseLeave:()=>h(!1),onClick:()=>m(E.id),children:[d.jsx("img",{src:E.image,alt:E.title,className:"h-full w-full"}),c===E.id&&d.jsxs("div",{className:" z-50 flex absolute left-0 bottom-0 w-full h-12 ",children:[d.jsx("div",{className:" bg-lilac w-1/4 h-full flex justify-center hover:bg-black md:w-[15%] sm:w-[15%] ",children:d.jsxs("button",{className:" flex justify-center items-center cursor-pointer  ",onClick:()=>P(E),children:[" ",d.jsx(di,{size:25,className:"text-white"})," "]})}),d.jsx("div",{className:" bg-lilac w-2/4 h-full border-x border-slate-100 flex justify-center cursor-pointer hover:bg-black md:w-[70%] sm:w-[70%] ",children:d.jsxs("button",{className:" flex justify-center items-center text-white ",onClick:()=>b(E),children:[" ",d.jsx(Uf,{className:" m-1 text-white "}),"Add to Cart"," "]})}),d.jsx("div",{className:" bg-lilac w-1/4 h-full flex justify-center cursor-pointer hover:bg-black md:w-[15%] sm:w-[15%] ",children:d.jsxs("button",{className:" flex justify-center items-center cursor-pointer text-white ",onClick:()=>v(E.id),children:[" ",d.jsx(Nf,{size:30})," "]})})]})]}),d.jsxs("div",{className:"text-center mt-4",children:[d.jsx("p",{className:"hover:text-lilac mb-2",children:d.jsx(et,{to:`/product-details/${E.id}`,children:Bv(E.title)})}),d.jsxs("p",{children:["$",E.price]})]}),p===E.id&&d.jsx(jf,{items:E,closeModal:y,addToCart:b,addToWishList:P,decrementItemQuantity:o,incrementItemQuantity:i})]},E.id))})]})]})},f6=()=>d.jsx("div",{className:"my-16 mx-24 md:mx-8 sm:mx-4",children:d.jsx(h6,{})}),p6=({children:t})=>{const{isLoggedIn:e}=Nv();return e?t:d.jsx(Zm,{to:"/login-register/login"})},m6=Fk(fh(d.jsxs(wt,{path:"/",element:d.jsx(E5,{}),children:[d.jsx(wt,{index:!0,element:d.jsx(HM,{})}),d.jsxs(wt,{path:"collection",element:d.jsx(P9,{}),children:[d.jsx(wt,{index:!0,element:d.jsx(Zm,{to:"grid"})}),d.jsx(wt,{path:"grid",element:d.jsx(N9,{})}),d.jsx(wt,{path:"list",element:d.jsx(z9,{})})]}),d.jsx(wt,{path:"about",element:d.jsx(s6,{})}),d.jsx(wt,{path:"contact",element:d.jsx(T9,{})}),d.jsx(wt,{path:"wishlist",element:d.jsx(U9,{})}),d.jsx(wt,{path:"cart",element:d.jsx(M9,{})}),d.jsxs(wt,{path:"login-register",element:d.jsx(V9,{}),children:[d.jsx(wt,{index:!0,element:d.jsx(Zm,{to:"login"})}),d.jsx(wt,{path:"login",element:d.jsx($9,{})}),d.jsx(wt,{path:"register",element:d.jsx(H9,{})})]}),d.jsx(wt,{path:"checkout",element:d.jsx(p6,{children:d.jsx(u6,{})})}),d.jsx(wt,{path:"/search",element:d.jsx(d6,{})}),d.jsx(wt,{path:"product-details/:id",element:d.jsx(f6,{})}),d.jsx(wt,{path:"*",element:d.jsx(b9,{})})]})));function g6(){return d.jsx(Nk,{router:m6})}const y6=new H5({});nm.createRoot(document.getElementById("root")).render(d.jsx(ct.StrictMode,{children:d.jsx(Z5,{client:y6,children:d.jsx(g5,{children:d.jsx(fP,{children:d.jsx(x5,{children:d.jsx(g6,{})})})})})}));

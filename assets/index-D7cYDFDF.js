var q0=t=>{throw TypeError(t)};var um=(t,e,n)=>e.has(t)||q0("Cannot "+n);var L=(t,e,n)=>(um(t,e,"read from private field"),n?n.call(t):e.get(t)),ve=(t,e,n)=>e.has(t)?q0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),oe=(t,e,n,r)=>(um(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ae=(t,e,n)=>(um(t,e,"access private method"),n);var Zc=(t,e,n,r)=>({set _(s){oe(t,e,s,n)},get _(){return L(t,e,r)}});function eC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function tC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bx={exports:{}},Yh={},Ix={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lc=Symbol.for("react.element"),nC=Symbol.for("react.portal"),rC=Symbol.for("react.fragment"),sC=Symbol.for("react.strict_mode"),iC=Symbol.for("react.profiler"),oC=Symbol.for("react.provider"),aC=Symbol.for("react.context"),lC=Symbol.for("react.forward_ref"),uC=Symbol.for("react.suspense"),cC=Symbol.for("react.memo"),dC=Symbol.for("react.lazy"),H0=Symbol.iterator;function hC(t){return t===null||typeof t!="object"?null:(t=H0&&t[H0]||t["@@iterator"],typeof t=="function"?t:null)}var Cx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ax=Object.assign,Rx={};function Qa(t,e,n){this.props=t,this.context=e,this.refs=Rx,this.updater=n||Cx}Qa.prototype.isReactComponent={};Qa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kx(){}kx.prototype=Qa.prototype;function Zg(t,e,n){this.props=t,this.context=e,this.refs=Rx,this.updater=n||Cx}var Jg=Zg.prototype=new kx;Jg.constructor=Zg;Ax(Jg,Qa.prototype);Jg.isPureReactComponent=!0;var W0=Array.isArray,Nx=Object.prototype.hasOwnProperty,Yg={current:null},Px={key:!0,ref:!0,__self:!0,__source:!0};function jx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Nx.call(e,r)&&!Px.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),d=0;d<a;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:lc,type:t,key:i,ref:o,props:s,_owner:Yg.current}}function fC(t,e){return{$$typeof:lc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xg(t){return typeof t=="object"&&t!==null&&t.$$typeof===lc}function mC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var K0=/\/+/g;function cm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mC(""+t.key):e.toString(36)}function Ed(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case lc:case nC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+cm(o,0):r,W0(s)?(n="",t!=null&&(n=t.replace(K0,"$&/")+"/"),Ed(s,e,n,"",function(d){return d})):s!=null&&(Xg(s)&&(s=fC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(K0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",W0(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+cm(i,a);o+=Ed(i,e,n,u,s)}else if(u=hC(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+cm(i,a++),o+=Ed(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jc(t,e,n){if(t==null)return t;var r=[],s=0;return Ed(t,r,"","",function(i){return e.call(n,i,s++)}),r}function pC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gn={current:null},Td={transition:null},gC={ReactCurrentDispatcher:gn,ReactCurrentBatchConfig:Td,ReactCurrentOwner:Yg};function Ox(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Jc,forEach:function(t,e,n){Jc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jc(t,function(){e++}),e},toArray:function(t){return Jc(t,function(e){return e})||[]},only:function(t){if(!Xg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Qa;Ie.Fragment=rC;Ie.Profiler=iC;Ie.PureComponent=Zg;Ie.StrictMode=sC;Ie.Suspense=uC;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gC;Ie.act=Ox;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ax({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Yg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Nx.call(e,u)&&!Px.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var d=0;d<u;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:lc,type:t.type,key:s,ref:i,props:r,_owner:o}};Ie.createContext=function(t){return t={$$typeof:aC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oC,_context:t},t.Consumer=t};Ie.createElement=jx;Ie.createFactory=function(t){var e=jx.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:lC,render:t}};Ie.isValidElement=Xg;Ie.lazy=function(t){return{$$typeof:dC,_payload:{_status:-1,_result:t},_init:pC}};Ie.memo=function(t,e){return{$$typeof:cC,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=Td.transition;Td.transition={};try{t()}finally{Td.transition=e}};Ie.unstable_act=Ox;Ie.useCallback=function(t,e){return gn.current.useCallback(t,e)};Ie.useContext=function(t){return gn.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return gn.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return gn.current.useEffect(t,e)};Ie.useId=function(){return gn.current.useId()};Ie.useImperativeHandle=function(t,e,n){return gn.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return gn.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return gn.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return gn.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return gn.current.useReducer(t,e,n)};Ie.useRef=function(t){return gn.current.useRef(t)};Ie.useState=function(t){return gn.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return gn.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return gn.current.useTransition()};Ie.version="18.3.1";Ix.exports=Ie;var F=Ix.exports;const ct=tC(F),ap=eC({__proto__:null,default:ct},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yC=F,vC=Symbol.for("react.element"),_C=Symbol.for("react.fragment"),wC=Object.prototype.hasOwnProperty,xC=yC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EC={key:!0,ref:!0,__self:!0,__source:!0};function Dx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wC.call(e,r)&&!EC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:vC,type:t,key:i,ref:o,props:s,_owner:xC.current}}Yh.Fragment=_C;Yh.jsx=Dx;Yh.jsxs=Dx;bx.exports=Yh;var c=bx.exports,lp={},Lx={exports:{}},Un={},Mx={exports:{}},Vx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,de){var he=J.length;J.push(de);e:for(;0<he;){var Ue=he-1>>>1,De=J[Ue];if(0<s(De,de))J[Ue]=de,J[he]=De,he=Ue;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var de=J[0],he=J.pop();if(he!==de){J[0]=he;e:for(var Ue=0,De=J.length,Ke=De>>>1;Ue<Ke;){var vn=2*(Ue+1)-1,kt=J[vn],qt=vn+1,Ht=J[qt];if(0>s(kt,he))qt<De&&0>s(Ht,kt)?(J[Ue]=Ht,J[qt]=he,Ue=qt):(J[Ue]=kt,J[vn]=he,Ue=vn);else if(qt<De&&0>s(Ht,he))J[Ue]=Ht,J[qt]=he,Ue=qt;else break e}}return de}function s(J,de){var he=J.sortIndex-de.sortIndex;return he!==0?he:J.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],d=[],h=1,p=null,m=3,v=!1,y=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(J){for(var de=n(d);de!==null;){if(de.callback===null)r(d);else if(de.startTime<=J)r(d),de.sortIndex=de.expirationTime,e(u,de);else break;de=n(d)}}function D(J){if(b=!1,S(J),!y)if(n(u)!==null)y=!0,_t(V);else{var de=n(d);de!==null&&Ye(D,de.startTime-J)}}function V(J,de){y=!1,b&&(b=!1,T(_),_=-1),v=!0;var he=m;try{for(S(de),p=n(u);p!==null&&(!(p.expirationTime>de)||J&&!O());){var Ue=p.callback;if(typeof Ue=="function"){p.callback=null,m=p.priorityLevel;var De=Ue(p.expirationTime<=de);de=t.unstable_now(),typeof De=="function"?p.callback=De:p===n(u)&&r(u),S(de)}else r(u);p=n(u)}if(p!==null)var Ke=!0;else{var vn=n(d);vn!==null&&Ye(D,vn.startTime-de),Ke=!1}return Ke}finally{p=null,m=he,v=!1}}var B=!1,I=null,_=-1,C=5,k=-1;function O(){return!(t.unstable_now()-k<C)}function j(){if(I!==null){var J=t.unstable_now();k=J;var de=!0;try{de=I(!0,J)}finally{de?A():(B=!1,I=null)}}else B=!1}var A;if(typeof w=="function")A=function(){w(j)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Ve=ge.port2;ge.port1.onmessage=j,A=function(){Ve.postMessage(null)}}else A=function(){R(j,0)};function _t(J){I=J,B||(B=!0,A())}function Ye(J,de){_=R(function(){J(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,_t(V))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(J){switch(m){case 1:case 2:case 3:var de=3;break;default:de=m}var he=m;m=de;try{return J()}finally{m=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,de){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var he=m;m=J;try{return de()}finally{m=he}},t.unstable_scheduleCallback=function(J,de,he){var Ue=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ue+he:Ue):he=Ue,J){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=he+De,J={id:h++,callback:de,priorityLevel:J,startTime:he,expirationTime:De,sortIndex:-1},he>Ue?(J.sortIndex=he,e(d,J),n(u)===null&&J===n(d)&&(b?(T(_),_=-1):b=!0,Ye(D,he-Ue))):(J.sortIndex=De,e(u,J),y||v||(y=!0,_t(V))),J},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(J){var de=m;return function(){var he=m;m=de;try{return J.apply(this,arguments)}finally{m=he}}}})(Vx);Mx.exports=Vx;var TC=Mx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC=F,Fn=TC;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fx=new Set,hu={};function yo(t,e){Ca(t,e),Ca(t+"Capture",e)}function Ca(t,e){for(hu[t]=e,t=0;t<e.length;t++)Fx.add(e[t])}var cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),up=Object.prototype.hasOwnProperty,bC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q0={},G0={};function IC(t){return up.call(G0,t)?!0:up.call(Q0,t)?!1:bC.test(t)?G0[t]=!0:(Q0[t]=!0,!1)}function CC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AC(t,e,n,r){if(e===null||typeof e>"u"||CC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ey=/[\-:]([a-z])/g;function ty(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ey,ty);zt[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ey,ty);zt[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ey,ty);zt[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ny(t,e,n,r){var s=zt.hasOwnProperty(e)?zt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AC(e,n,s,r)&&(n=null),r||s===null?IC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ws=SC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yc=Symbol.for("react.element"),Fo=Symbol.for("react.portal"),Uo=Symbol.for("react.fragment"),ry=Symbol.for("react.strict_mode"),cp=Symbol.for("react.profiler"),Ux=Symbol.for("react.provider"),zx=Symbol.for("react.context"),sy=Symbol.for("react.forward_ref"),dp=Symbol.for("react.suspense"),hp=Symbol.for("react.suspense_list"),iy=Symbol.for("react.memo"),Ns=Symbol.for("react.lazy"),Bx=Symbol.for("react.offscreen"),Z0=Symbol.iterator;function El(t){return t===null||typeof t!="object"?null:(t=Z0&&t[Z0]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,dm;function Dl(t){if(dm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dm=e&&e[1]||""}return`
`+dm+t}var hm=!1;function fm(t,e){if(!t||hm)return"";hm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{hm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Dl(t):""}function RC(t){switch(t.tag){case 5:return Dl(t.type);case 16:return Dl("Lazy");case 13:return Dl("Suspense");case 19:return Dl("SuspenseList");case 0:case 2:case 15:return t=fm(t.type,!1),t;case 11:return t=fm(t.type.render,!1),t;case 1:return t=fm(t.type,!0),t;default:return""}}function fp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Uo:return"Fragment";case Fo:return"Portal";case cp:return"Profiler";case ry:return"StrictMode";case dp:return"Suspense";case hp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zx:return(t.displayName||"Context")+".Consumer";case Ux:return(t._context.displayName||"Context")+".Provider";case sy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case iy:return e=t.displayName||null,e!==null?e:fp(t.type)||"Memo";case Ns:e=t._payload,t=t._init;try{return fp(t(e))}catch{}}return null}function kC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fp(e);case 8:return e===ry?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $x(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NC(t){var e=$x(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xc(t){t._valueTracker||(t._valueTracker=NC(t))}function qx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$x(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Kd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mp(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function J0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hx(t,e){e=e.checked,e!=null&&ny(t,"checked",e,!1)}function pp(t,e){Hx(t,e);var n=ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gp(t,e.type,n):e.hasOwnProperty("defaultValue")&&gp(t,e.type,ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Y0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gp(t,e,n){(e!=="number"||Kd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ll=Array.isArray;function ta(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ui(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function yp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function X0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(Ll(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ui(n)}}function Wx(t,e){var n=ui(e.value),r=ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function e_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ed,Qx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ed=ed||document.createElement("div"),ed.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ed.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PC=["Webkit","ms","Moz","O"];Object.keys(Gl).forEach(function(t){PC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gl[e]=Gl[t]})});function Gx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gl.hasOwnProperty(t)&&Gl[t]?(""+e).trim():e+"px"}function Zx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Gx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var jC=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _p(t,e){if(e){if(jC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function wp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xp=null;function oy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ep=null,na=null,ra=null;function t_(t){if(t=dc(t)){if(typeof Ep!="function")throw Error(G(280));var e=t.stateNode;e&&(e=rf(e),Ep(t.stateNode,t.type,e))}}function Jx(t){na?ra?ra.push(t):ra=[t]:na=t}function Yx(){if(na){var t=na,e=ra;if(ra=na=null,t_(t),e)for(t=0;t<e.length;t++)t_(e[t])}}function Xx(t,e){return t(e)}function eE(){}var mm=!1;function tE(t,e,n){if(mm)return t(e,n);mm=!0;try{return Xx(t,e,n)}finally{mm=!1,(na!==null||ra!==null)&&(eE(),Yx())}}function mu(t,e){var n=t.stateNode;if(n===null)return null;var r=rf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Tp=!1;if(cs)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){Tp=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{Tp=!1}function OC(t,e,n,r,s,i,o,a,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Zl=!1,Qd=null,Gd=!1,Sp=null,DC={onError:function(t){Zl=!0,Qd=t}};function LC(t,e,n,r,s,i,o,a,u){Zl=!1,Qd=null,OC.apply(DC,arguments)}function MC(t,e,n,r,s,i,o,a,u){if(LC.apply(this,arguments),Zl){if(Zl){var d=Qd;Zl=!1,Qd=null}else throw Error(G(198));Gd||(Gd=!0,Sp=d)}}function vo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function n_(t){if(vo(t)!==t)throw Error(G(188))}function VC(t){var e=t.alternate;if(!e){if(e=vo(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return n_(s),t;if(i===r)return n_(s),e;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function rE(t){return t=VC(t),t!==null?sE(t):null}function sE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sE(t);if(e!==null)return e;t=t.sibling}return null}var iE=Fn.unstable_scheduleCallback,r_=Fn.unstable_cancelCallback,FC=Fn.unstable_shouldYield,UC=Fn.unstable_requestPaint,ft=Fn.unstable_now,zC=Fn.unstable_getCurrentPriorityLevel,ay=Fn.unstable_ImmediatePriority,oE=Fn.unstable_UserBlockingPriority,Zd=Fn.unstable_NormalPriority,BC=Fn.unstable_LowPriority,aE=Fn.unstable_IdlePriority,Xh=null,Nr=null;function $C(t){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Xh,t,void 0,(t.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:WC,qC=Math.log,HC=Math.LN2;function WC(t){return t>>>=0,t===0?32:31-(qC(t)/HC|0)|0}var td=64,nd=4194304;function Ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ml(a):(i&=o,i!==0&&(r=Ml(i)))}else o=n&~s,o!==0?r=Ml(o):i!==0&&(r=Ml(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-lr(e),s=1<<n,r|=t[n],e&=~s;return r}function KC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-lr(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=KC(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function bp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lE(){var t=td;return td<<=1,!(td&4194240)&&(td=64),t}function pm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lr(e),t[e]=n}function GC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-lr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ly(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-lr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ze=0;function uE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cE,uy,dE,hE,fE,Ip=!1,rd=[],Js=null,Ys=null,Xs=null,pu=new Map,gu=new Map,js=[],ZC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function s_(t,e){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":pu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(e.pointerId)}}function Sl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=dc(e),e!==null&&uy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function JC(t,e,n,r,s){switch(e){case"focusin":return Js=Sl(Js,t,e,n,r,s),!0;case"dragenter":return Ys=Sl(Ys,t,e,n,r,s),!0;case"mouseover":return Xs=Sl(Xs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return pu.set(i,Sl(pu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,gu.set(i,Sl(gu.get(i)||null,t,e,n,r,s)),!0}return!1}function mE(t){var e=Li(t.target);if(e!==null){var n=vo(e);if(n!==null){if(e=n.tag,e===13){if(e=nE(n),e!==null){t.blockedOn=e,fE(t.priority,function(){dE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xp=r,n.target.dispatchEvent(r),xp=null}else return e=dc(n),e!==null&&uy(e),t.blockedOn=n,!1;e.shift()}return!0}function i_(t,e,n){Sd(t)&&n.delete(e)}function YC(){Ip=!1,Js!==null&&Sd(Js)&&(Js=null),Ys!==null&&Sd(Ys)&&(Ys=null),Xs!==null&&Sd(Xs)&&(Xs=null),pu.forEach(i_),gu.forEach(i_)}function bl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ip||(Ip=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,YC)))}function yu(t){function e(s){return bl(s,t)}if(0<rd.length){bl(rd[0],t);for(var n=1;n<rd.length;n++){var r=rd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Js!==null&&bl(Js,t),Ys!==null&&bl(Ys,t),Xs!==null&&bl(Xs,t),pu.forEach(e),gu.forEach(e),n=0;n<js.length;n++)r=js[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<js.length&&(n=js[0],n.blockedOn===null);)mE(n),n.blockedOn===null&&js.shift()}var sa=ws.ReactCurrentBatchConfig,Yd=!0;function XC(t,e,n,r){var s=ze,i=sa.transition;sa.transition=null;try{ze=1,cy(t,e,n,r)}finally{ze=s,sa.transition=i}}function eA(t,e,n,r){var s=ze,i=sa.transition;sa.transition=null;try{ze=4,cy(t,e,n,r)}finally{ze=s,sa.transition=i}}function cy(t,e,n,r){if(Yd){var s=Cp(t,e,n,r);if(s===null)bm(t,e,r,Xd,n),s_(t,r);else if(JC(s,t,e,n,r))r.stopPropagation();else if(s_(t,r),e&4&&-1<ZC.indexOf(t)){for(;s!==null;){var i=dc(s);if(i!==null&&cE(i),i=Cp(t,e,n,r),i===null&&bm(t,e,r,Xd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else bm(t,e,r,null,n)}}var Xd=null;function Cp(t,e,n,r){if(Xd=null,t=oy(r),t=Li(t),t!==null)if(e=vo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xd=t,null}function pE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zC()){case ay:return 1;case oE:return 4;case Zd:case BC:return 16;case aE:return 536870912;default:return 16}default:return 16}}var Ks=null,dy=null,bd=null;function gE(){if(bd)return bd;var t,e=dy,n=e.length,r,s="value"in Ks?Ks.value:Ks.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return bd=s.slice(t,1<r?1-r:void 0)}function Id(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sd(){return!0}function o_(){return!1}function zn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sd:o_,this.isPropagationStopped=o_,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),e}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hy=zn(Ga),cc=st({},Ga,{view:0,detail:0}),tA=zn(cc),gm,ym,Il,ef=st({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Il&&(Il&&t.type==="mousemove"?(gm=t.screenX-Il.screenX,ym=t.screenY-Il.screenY):ym=gm=0,Il=t),gm)},movementY:function(t){return"movementY"in t?t.movementY:ym}}),a_=zn(ef),nA=st({},ef,{dataTransfer:0}),rA=zn(nA),sA=st({},cc,{relatedTarget:0}),vm=zn(sA),iA=st({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),oA=zn(iA),aA=st({},Ga,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lA=zn(aA),uA=st({},Ga,{data:0}),l_=zn(uA),cA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hA[t])?!!e[t]:!1}function fy(){return fA}var mA=st({},cc,{key:function(t){if(t.key){var e=cA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Id(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fy,charCode:function(t){return t.type==="keypress"?Id(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Id(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pA=zn(mA),gA=st({},ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u_=zn(gA),yA=st({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fy}),vA=zn(yA),_A=st({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),wA=zn(_A),xA=st({},ef,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EA=zn(xA),TA=[9,13,27,32],my=cs&&"CompositionEvent"in window,Jl=null;cs&&"documentMode"in document&&(Jl=document.documentMode);var SA=cs&&"TextEvent"in window&&!Jl,yE=cs&&(!my||Jl&&8<Jl&&11>=Jl),c_=" ",d_=!1;function vE(t,e){switch(t){case"keyup":return TA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _E(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zo=!1;function bA(t,e){switch(t){case"compositionend":return _E(e);case"keypress":return e.which!==32?null:(d_=!0,c_);case"textInput":return t=e.data,t===c_&&d_?null:t;default:return null}}function IA(t,e){if(zo)return t==="compositionend"||!my&&vE(t,e)?(t=gE(),bd=dy=Ks=null,zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yE&&e.locale!=="ko"?null:e.data;default:return null}}var CA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CA[t.type]:e==="textarea"}function wE(t,e,n,r){Jx(r),e=eh(e,"onChange"),0<e.length&&(n=new hy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yl=null,vu=null;function AA(t){NE(t,0)}function tf(t){var e=qo(t);if(qx(e))return t}function RA(t,e){if(t==="change")return e}var xE=!1;if(cs){var _m;if(cs){var wm="oninput"in document;if(!wm){var f_=document.createElement("div");f_.setAttribute("oninput","return;"),wm=typeof f_.oninput=="function"}_m=wm}else _m=!1;xE=_m&&(!document.documentMode||9<document.documentMode)}function m_(){Yl&&(Yl.detachEvent("onpropertychange",EE),vu=Yl=null)}function EE(t){if(t.propertyName==="value"&&tf(vu)){var e=[];wE(e,vu,t,oy(t)),tE(AA,e)}}function kA(t,e,n){t==="focusin"?(m_(),Yl=e,vu=n,Yl.attachEvent("onpropertychange",EE)):t==="focusout"&&m_()}function NA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tf(vu)}function PA(t,e){if(t==="click")return tf(e)}function jA(t,e){if(t==="input"||t==="change")return tf(e)}function OA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hr=typeof Object.is=="function"?Object.is:OA;function _u(t,e){if(hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!up.call(e,s)||!hr(t[s],e[s]))return!1}return!0}function p_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function g_(t,e){var n=p_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=p_(n)}}function TE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function SE(){for(var t=window,e=Kd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kd(t.document)}return e}function py(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DA(t){var e=SE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&TE(n.ownerDocument.documentElement,n)){if(r!==null&&py(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=g_(n,i);var o=g_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LA=cs&&"documentMode"in document&&11>=document.documentMode,Bo=null,Ap=null,Xl=null,Rp=!1;function y_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rp||Bo==null||Bo!==Kd(r)||(r=Bo,"selectionStart"in r&&py(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xl&&_u(Xl,r)||(Xl=r,r=eh(Ap,"onSelect"),0<r.length&&(e=new hy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bo)))}function id(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $o={animationend:id("Animation","AnimationEnd"),animationiteration:id("Animation","AnimationIteration"),animationstart:id("Animation","AnimationStart"),transitionend:id("Transition","TransitionEnd")},xm={},bE={};cs&&(bE=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function nf(t){if(xm[t])return xm[t];if(!$o[t])return t;var e=$o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bE)return xm[t]=e[n];return t}var IE=nf("animationend"),CE=nf("animationiteration"),AE=nf("animationstart"),RE=nf("transitionend"),kE=new Map,v_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(t,e){kE.set(t,e),yo(e,[t])}for(var Em=0;Em<v_.length;Em++){var Tm=v_[Em],MA=Tm.toLowerCase(),VA=Tm[0].toUpperCase()+Tm.slice(1);wi(MA,"on"+VA)}wi(IE,"onAnimationEnd");wi(CE,"onAnimationIteration");wi(AE,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi(RE,"onTransitionEnd");Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vl));function __(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,MC(r,e,void 0,t),t.currentTarget=null}function NE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,d=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;__(s,a,d),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,d=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;__(s,a,d),i=u}}}if(Gd)throw t=Sp,Gd=!1,Sp=null,t}function Ge(t,e){var n=e[Op];n===void 0&&(n=e[Op]=new Set);var r=t+"__bubble";n.has(r)||(PE(e,t,2,!1),n.add(r))}function Sm(t,e,n){var r=0;e&&(r|=4),PE(n,t,r,e)}var od="_reactListening"+Math.random().toString(36).slice(2);function wu(t){if(!t[od]){t[od]=!0,Fx.forEach(function(n){n!=="selectionchange"&&(FA.has(n)||Sm(n,!1,t),Sm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[od]||(e[od]=!0,Sm("selectionchange",!1,e))}}function PE(t,e,n,r){switch(pE(e)){case 1:var s=XC;break;case 4:s=eA;break;default:s=cy}n=s.bind(null,e,n,t),s=void 0,!Tp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function bm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Li(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}tE(function(){var d=i,h=oy(n),p=[];e:{var m=kE.get(t);if(m!==void 0){var v=hy,y=t;switch(t){case"keypress":if(Id(n)===0)break e;case"keydown":case"keyup":v=pA;break;case"focusin":y="focus",v=vm;break;case"focusout":y="blur",v=vm;break;case"beforeblur":case"afterblur":v=vm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=a_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=rA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=vA;break;case IE:case CE:case AE:v=oA;break;case RE:v=wA;break;case"scroll":v=tA;break;case"wheel":v=EA;break;case"copy":case"cut":case"paste":v=lA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=u_}var b=(e&4)!==0,R=!b&&t==="scroll",T=b?m!==null?m+"Capture":null:m;b=[];for(var w=d,S;w!==null;){S=w;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,T!==null&&(D=mu(w,T),D!=null&&b.push(xu(w,D,S)))),R)break;w=w.return}0<b.length&&(m=new v(m,y,null,n,h),p.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==xp&&(y=n.relatedTarget||n.fromElement)&&(Li(y)||y[ds]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=d,y=y?Li(y):null,y!==null&&(R=vo(y),y!==R||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=d),v!==y)){if(b=a_,D="onMouseLeave",T="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(b=u_,D="onPointerLeave",T="onPointerEnter",w="pointer"),R=v==null?m:qo(v),S=y==null?m:qo(y),m=new b(D,w+"leave",v,n,h),m.target=R,m.relatedTarget=S,D=null,Li(h)===d&&(b=new b(T,w+"enter",y,n,h),b.target=S,b.relatedTarget=R,D=b),R=D,v&&y)t:{for(b=v,T=y,w=0,S=b;S;S=Po(S))w++;for(S=0,D=T;D;D=Po(D))S++;for(;0<w-S;)b=Po(b),w--;for(;0<S-w;)T=Po(T),S--;for(;w--;){if(b===T||T!==null&&b===T.alternate)break t;b=Po(b),T=Po(T)}b=null}else b=null;v!==null&&w_(p,m,v,b,!1),y!==null&&R!==null&&w_(p,R,y,b,!0)}}e:{if(m=d?qo(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var V=RA;else if(h_(m))if(xE)V=jA;else{V=NA;var B=kA}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=PA);if(V&&(V=V(t,d))){wE(p,V,n,h);break e}B&&B(t,m,d),t==="focusout"&&(B=m._wrapperState)&&B.controlled&&m.type==="number"&&gp(m,"number",m.value)}switch(B=d?qo(d):window,t){case"focusin":(h_(B)||B.contentEditable==="true")&&(Bo=B,Ap=d,Xl=null);break;case"focusout":Xl=Ap=Bo=null;break;case"mousedown":Rp=!0;break;case"contextmenu":case"mouseup":case"dragend":Rp=!1,y_(p,n,h);break;case"selectionchange":if(LA)break;case"keydown":case"keyup":y_(p,n,h)}var I;if(my)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zo?vE(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(yE&&n.locale!=="ko"&&(zo||_!=="onCompositionStart"?_==="onCompositionEnd"&&zo&&(I=gE()):(Ks=h,dy="value"in Ks?Ks.value:Ks.textContent,zo=!0)),B=eh(d,_),0<B.length&&(_=new l_(_,t,null,n,h),p.push({event:_,listeners:B}),I?_.data=I:(I=_E(n),I!==null&&(_.data=I)))),(I=SA?bA(t,n):IA(t,n))&&(d=eh(d,"onBeforeInput"),0<d.length&&(h=new l_("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:d}),h.data=I))}NE(p,e)})}function xu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function eh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=mu(t,n),i!=null&&r.unshift(xu(t,i,s)),i=mu(t,e),i!=null&&r.push(xu(t,i,s))),t=t.return}return r}function Po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function w_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,d=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&d!==null&&(a=d,s?(u=mu(n,i),u!=null&&o.unshift(xu(n,u,a))):s||(u=mu(n,i),u!=null&&o.push(xu(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var UA=/\r\n?/g,zA=/\u0000|\uFFFD/g;function x_(t){return(typeof t=="string"?t:""+t).replace(UA,`
`).replace(zA,"")}function ad(t,e,n){if(e=x_(e),x_(t)!==e&&n)throw Error(G(425))}function th(){}var kp=null,Np=null;function Pp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jp=typeof setTimeout=="function"?setTimeout:void 0,BA=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,$A=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(t){return E_.resolve(null).then(t).catch(qA)}:jp;function qA(t){setTimeout(function(){throw t})}function Im(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),yu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);yu(e)}function ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function T_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Za=Math.random().toString(36).slice(2),Ar="__reactFiber$"+Za,Eu="__reactProps$"+Za,ds="__reactContainer$"+Za,Op="__reactEvents$"+Za,HA="__reactListeners$"+Za,WA="__reactHandles$"+Za;function Li(t){var e=t[Ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ds]||n[Ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=T_(t);t!==null;){if(n=t[Ar])return n;t=T_(t)}return e}t=n,n=t.parentNode}return null}function dc(t){return t=t[Ar]||t[ds],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function rf(t){return t[Eu]||null}var Dp=[],Ho=-1;function xi(t){return{current:t}}function Je(t){0>Ho||(t.current=Dp[Ho],Dp[Ho]=null,Ho--)}function We(t,e){Ho++,Dp[Ho]=t.current,t.current=e}var ci={},rn=xi(ci),Sn=xi(!1),no=ci;function Aa(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function bn(t){return t=t.childContextTypes,t!=null}function nh(){Je(Sn),Je(rn)}function S_(t,e,n){if(rn.current!==ci)throw Error(G(168));We(rn,e),We(Sn,n)}function jE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(G(108,kC(t)||"Unknown",s));return st({},n,r)}function rh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,no=rn.current,We(rn,t),We(Sn,Sn.current),!0}function b_(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=jE(t,e,no),r.__reactInternalMemoizedMergedChildContext=t,Je(Sn),Je(rn),We(rn,t)):Je(Sn),We(Sn,n)}var es=null,sf=!1,Cm=!1;function OE(t){es===null?es=[t]:es.push(t)}function KA(t){sf=!0,OE(t)}function Ei(){if(!Cm&&es!==null){Cm=!0;var t=0,e=ze;try{var n=es;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}es=null,sf=!1}catch(s){throw es!==null&&(es=es.slice(t+1)),iE(ay,Ei),s}finally{ze=e,Cm=!1}}return null}var Wo=[],Ko=0,sh=null,ih=0,Hn=[],Wn=0,ro=null,ts=1,ns="";function Pi(t,e){Wo[Ko++]=ih,Wo[Ko++]=sh,sh=t,ih=e}function DE(t,e,n){Hn[Wn++]=ts,Hn[Wn++]=ns,Hn[Wn++]=ro,ro=t;var r=ts;t=ns;var s=32-lr(r)-1;r&=~(1<<s),n+=1;var i=32-lr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ts=1<<32-lr(e)+s|n<<s|r,ns=i+t}else ts=1<<i|n<<s|r,ns=t}function gy(t){t.return!==null&&(Pi(t,1),DE(t,1,0))}function yy(t){for(;t===sh;)sh=Wo[--Ko],Wo[Ko]=null,ih=Wo[--Ko],Wo[Ko]=null;for(;t===ro;)ro=Hn[--Wn],Hn[Wn]=null,ns=Hn[--Wn],Hn[Wn]=null,ts=Hn[--Wn],Hn[Wn]=null}var Ln=null,On=null,Xe=!1,rr=null;function LE(t,e){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function I_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,On=ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,On=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ro!==null?{id:ts,overflow:ns}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ln=t,On=null,!0):!1;default:return!1}}function Lp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mp(t){if(Xe){var e=On;if(e){var n=e;if(!I_(t,e)){if(Lp(t))throw Error(G(418));e=ei(n.nextSibling);var r=Ln;e&&I_(t,e)?LE(r,n):(t.flags=t.flags&-4097|2,Xe=!1,Ln=t)}}else{if(Lp(t))throw Error(G(418));t.flags=t.flags&-4097|2,Xe=!1,Ln=t}}}function C_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function ld(t){if(t!==Ln)return!1;if(!Xe)return C_(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pp(t.type,t.memoizedProps)),e&&(e=On)){if(Lp(t))throw ME(),Error(G(418));for(;e;)LE(t,e),e=ei(e.nextSibling)}if(C_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){On=ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}On=null}}else On=Ln?ei(t.stateNode.nextSibling):null;return!0}function ME(){for(var t=On;t;)t=ei(t.nextSibling)}function Ra(){On=Ln=null,Xe=!1}function vy(t){rr===null?rr=[t]:rr.push(t)}var QA=ws.ReactCurrentBatchConfig;function Cl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function ud(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function A_(t){var e=t._init;return e(t._payload)}function VE(t){function e(T,w){if(t){var S=T.deletions;S===null?(T.deletions=[w],T.flags|=16):S.push(w)}}function n(T,w){if(!t)return null;for(;w!==null;)e(T,w),w=w.sibling;return null}function r(T,w){for(T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function s(T,w){return T=si(T,w),T.index=0,T.sibling=null,T}function i(T,w,S){return T.index=S,t?(S=T.alternate,S!==null?(S=S.index,S<w?(T.flags|=2,w):S):(T.flags|=2,w)):(T.flags|=1048576,w)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,w,S,D){return w===null||w.tag!==6?(w=Om(S,T.mode,D),w.return=T,w):(w=s(w,S),w.return=T,w)}function u(T,w,S,D){var V=S.type;return V===Uo?h(T,w,S.props.children,D,S.key):w!==null&&(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ns&&A_(V)===w.type)?(D=s(w,S.props),D.ref=Cl(T,w,S),D.return=T,D):(D=jd(S.type,S.key,S.props,null,T.mode,D),D.ref=Cl(T,w,S),D.return=T,D)}function d(T,w,S,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Dm(S,T.mode,D),w.return=T,w):(w=s(w,S.children||[]),w.return=T,w)}function h(T,w,S,D,V){return w===null||w.tag!==7?(w=Ji(S,T.mode,D,V),w.return=T,w):(w=s(w,S),w.return=T,w)}function p(T,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Om(""+w,T.mode,S),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yc:return S=jd(w.type,w.key,w.props,null,T.mode,S),S.ref=Cl(T,null,w),S.return=T,S;case Fo:return w=Dm(w,T.mode,S),w.return=T,w;case Ns:var D=w._init;return p(T,D(w._payload),S)}if(Ll(w)||El(w))return w=Ji(w,T.mode,S,null),w.return=T,w;ud(T,w)}return null}function m(T,w,S,D){var V=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return V!==null?null:a(T,w,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yc:return S.key===V?u(T,w,S,D):null;case Fo:return S.key===V?d(T,w,S,D):null;case Ns:return V=S._init,m(T,w,V(S._payload),D)}if(Ll(S)||El(S))return V!==null?null:h(T,w,S,D,null);ud(T,S)}return null}function v(T,w,S,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return T=T.get(S)||null,a(w,T,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Yc:return T=T.get(D.key===null?S:D.key)||null,u(w,T,D,V);case Fo:return T=T.get(D.key===null?S:D.key)||null,d(w,T,D,V);case Ns:var B=D._init;return v(T,w,S,B(D._payload),V)}if(Ll(D)||El(D))return T=T.get(S)||null,h(w,T,D,V,null);ud(w,D)}return null}function y(T,w,S,D){for(var V=null,B=null,I=w,_=w=0,C=null;I!==null&&_<S.length;_++){I.index>_?(C=I,I=null):C=I.sibling;var k=m(T,I,S[_],D);if(k===null){I===null&&(I=C);break}t&&I&&k.alternate===null&&e(T,I),w=i(k,w,_),B===null?V=k:B.sibling=k,B=k,I=C}if(_===S.length)return n(T,I),Xe&&Pi(T,_),V;if(I===null){for(;_<S.length;_++)I=p(T,S[_],D),I!==null&&(w=i(I,w,_),B===null?V=I:B.sibling=I,B=I);return Xe&&Pi(T,_),V}for(I=r(T,I);_<S.length;_++)C=v(I,T,_,S[_],D),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?_:C.key),w=i(C,w,_),B===null?V=C:B.sibling=C,B=C);return t&&I.forEach(function(O){return e(T,O)}),Xe&&Pi(T,_),V}function b(T,w,S,D){var V=El(S);if(typeof V!="function")throw Error(G(150));if(S=V.call(S),S==null)throw Error(G(151));for(var B=V=null,I=w,_=w=0,C=null,k=S.next();I!==null&&!k.done;_++,k=S.next()){I.index>_?(C=I,I=null):C=I.sibling;var O=m(T,I,k.value,D);if(O===null){I===null&&(I=C);break}t&&I&&O.alternate===null&&e(T,I),w=i(O,w,_),B===null?V=O:B.sibling=O,B=O,I=C}if(k.done)return n(T,I),Xe&&Pi(T,_),V;if(I===null){for(;!k.done;_++,k=S.next())k=p(T,k.value,D),k!==null&&(w=i(k,w,_),B===null?V=k:B.sibling=k,B=k);return Xe&&Pi(T,_),V}for(I=r(T,I);!k.done;_++,k=S.next())k=v(I,T,_,k.value,D),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?_:k.key),w=i(k,w,_),B===null?V=k:B.sibling=k,B=k);return t&&I.forEach(function(j){return e(T,j)}),Xe&&Pi(T,_),V}function R(T,w,S,D){if(typeof S=="object"&&S!==null&&S.type===Uo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Yc:e:{for(var V=S.key,B=w;B!==null;){if(B.key===V){if(V=S.type,V===Uo){if(B.tag===7){n(T,B.sibling),w=s(B,S.props.children),w.return=T,T=w;break e}}else if(B.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ns&&A_(V)===B.type){n(T,B.sibling),w=s(B,S.props),w.ref=Cl(T,B,S),w.return=T,T=w;break e}n(T,B);break}else e(T,B);B=B.sibling}S.type===Uo?(w=Ji(S.props.children,T.mode,D,S.key),w.return=T,T=w):(D=jd(S.type,S.key,S.props,null,T.mode,D),D.ref=Cl(T,w,S),D.return=T,T=D)}return o(T);case Fo:e:{for(B=S.key;w!==null;){if(w.key===B)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(T,w.sibling),w=s(w,S.children||[]),w.return=T,T=w;break e}else{n(T,w);break}else e(T,w);w=w.sibling}w=Dm(S,T.mode,D),w.return=T,T=w}return o(T);case Ns:return B=S._init,R(T,w,B(S._payload),D)}if(Ll(S))return y(T,w,S,D);if(El(S))return b(T,w,S,D);ud(T,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(T,w.sibling),w=s(w,S),w.return=T,T=w):(n(T,w),w=Om(S,T.mode,D),w.return=T,T=w),o(T)):n(T,w)}return R}var ka=VE(!0),FE=VE(!1),oh=xi(null),ah=null,Qo=null,_y=null;function wy(){_y=Qo=ah=null}function xy(t){var e=oh.current;Je(oh),t._currentValue=e}function Vp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ia(t,e){ah=t,_y=Qo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tn=!0),t.firstContext=null)}function Gn(t){var e=t._currentValue;if(_y!==t)if(t={context:t,memoizedValue:e,next:null},Qo===null){if(ah===null)throw Error(G(308));Qo=t,ah.dependencies={lanes:0,firstContext:t}}else Qo=Qo.next=t;return e}var Mi=null;function Ey(t){Mi===null?Mi=[t]:Mi.push(t)}function UE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ey(e)):(n.next=s.next,s.next=n),e.interleaved=n,hs(t,r)}function hs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ps=!1;function Ty(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function os(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,hs(t,n)}return s=r.interleaved,s===null?(e.next=e,Ey(r)):(e.next=s.next,s.next=e),r.interleaved=e,hs(t,n)}function Cd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ly(t,n)}}function R_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lh(t,e,n,r){var s=t.updateQueue;Ps=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;o=0,h=d=u=null,a=i;do{var m=a.lane,v=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,b=a;switch(m=e,v=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){p=y.call(v,p,m);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,m=typeof y=="function"?y.call(v,p,m):y,m==null)break e;p=st({},p,m);break e;case 2:Ps=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=v,u=p):h=h.next=v,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(u=p),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);io|=o,t.lanes=o,t.memoizedState=p}}function k_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var hc={},Pr=xi(hc),Tu=xi(hc),Su=xi(hc);function Vi(t){if(t===hc)throw Error(G(174));return t}function Sy(t,e){switch(We(Su,e),We(Tu,t),We(Pr,hc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vp(e,t)}Je(Pr),We(Pr,e)}function Na(){Je(Pr),Je(Tu),Je(Su)}function BE(t){Vi(Su.current);var e=Vi(Pr.current),n=vp(e,t.type);e!==n&&(We(Tu,t),We(Pr,n))}function by(t){Tu.current===t&&(Je(Pr),Je(Tu))}var nt=xi(0);function uh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Am=[];function Iy(){for(var t=0;t<Am.length;t++)Am[t]._workInProgressVersionPrimary=null;Am.length=0}var Ad=ws.ReactCurrentDispatcher,Rm=ws.ReactCurrentBatchConfig,so=0,rt=null,Tt=null,At=null,ch=!1,eu=!1,bu=0,GA=0;function Zt(){throw Error(G(321))}function Cy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hr(t[n],e[n]))return!1;return!0}function Ay(t,e,n,r,s,i){if(so=i,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ad.current=t===null||t.memoizedState===null?XA:eR,t=n(r,s),eu){i=0;do{if(eu=!1,bu=0,25<=i)throw Error(G(301));i+=1,At=Tt=null,e.updateQueue=null,Ad.current=tR,t=n(r,s)}while(eu)}if(Ad.current=dh,e=Tt!==null&&Tt.next!==null,so=0,At=Tt=rt=null,ch=!1,e)throw Error(G(300));return t}function Ry(){var t=bu!==0;return bu=0,t}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?rt.memoizedState=At=t:At=At.next=t,At}function Zn(){if(Tt===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=At===null?rt.memoizedState:At.next;if(e!==null)At=e,Tt=t;else{if(t===null)throw Error(G(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},At===null?rt.memoizedState=At=t:At=At.next=t}return At}function Iu(t,e){return typeof e=="function"?e(t):e}function km(t){var e=Zn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=Tt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,d=i;do{var h=d.lane;if((so&h)===h)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(a=u=p,o=r):u=u.next=p,rt.lanes|=h,io|=h}d=d.next}while(d!==null&&d!==i);u===null?o=r:u.next=a,hr(r,e.memoizedState)||(Tn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,rt.lanes|=i,io|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nm(t){var e=Zn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);hr(i,e.memoizedState)||(Tn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function $E(){}function qE(t,e){var n=rt,r=Zn(),s=e(),i=!hr(r.memoizedState,s);if(i&&(r.memoizedState=s,Tn=!0),r=r.queue,ky(KE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Cu(9,WE.bind(null,n,r,s,e),void 0,null),Rt===null)throw Error(G(349));so&30||HE(n,e,s)}return s}function HE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function WE(t,e,n,r){e.value=n,e.getSnapshot=r,QE(e)&&GE(t)}function KE(t,e,n){return n(function(){QE(e)&&GE(t)})}function QE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hr(t,n)}catch{return!0}}function GE(t){var e=hs(t,1);e!==null&&ur(e,t,1,-1)}function N_(t){var e=Tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Iu,lastRenderedState:t},e.queue=t,t=t.dispatch=YA.bind(null,rt,t),[e.memoizedState,t]}function Cu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ZE(){return Zn().memoizedState}function Rd(t,e,n,r){var s=Tr();rt.flags|=t,s.memoizedState=Cu(1|e,n,void 0,r===void 0?null:r)}function of(t,e,n,r){var s=Zn();r=r===void 0?null:r;var i=void 0;if(Tt!==null){var o=Tt.memoizedState;if(i=o.destroy,r!==null&&Cy(r,o.deps)){s.memoizedState=Cu(e,n,i,r);return}}rt.flags|=t,s.memoizedState=Cu(1|e,n,i,r)}function P_(t,e){return Rd(8390656,8,t,e)}function ky(t,e){return of(2048,8,t,e)}function JE(t,e){return of(4,2,t,e)}function YE(t,e){return of(4,4,t,e)}function XE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function e2(t,e,n){return n=n!=null?n.concat([t]):null,of(4,4,XE.bind(null,e,t),n)}function Ny(){}function t2(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function n2(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function r2(t,e,n){return so&21?(hr(n,e)||(n=lE(),rt.lanes|=n,io|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tn=!0),t.memoizedState=n)}function ZA(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=Rm.transition;Rm.transition={};try{t(!1),e()}finally{ze=n,Rm.transition=r}}function s2(){return Zn().memoizedState}function JA(t,e,n){var r=ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},i2(t))o2(e,n);else if(n=UE(t,e,n,r),n!==null){var s=fn();ur(n,t,r,s),a2(n,e,r)}}function YA(t,e,n){var r=ri(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(i2(t))o2(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,hr(a,o)){var u=e.interleaved;u===null?(s.next=s,Ey(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=UE(t,e,s,r),n!==null&&(s=fn(),ur(n,t,r,s),a2(n,e,r))}}function i2(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function o2(t,e){eu=ch=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function a2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ly(t,n)}}var dh={readContext:Gn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},XA={readContext:Gn,useCallback:function(t,e){return Tr().memoizedState=[t,e===void 0?null:e],t},useContext:Gn,useEffect:P_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rd(4194308,4,XE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rd(4,2,t,e)},useMemo:function(t,e){var n=Tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JA.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=Tr();return t={current:t},e.memoizedState=t},useState:N_,useDebugValue:Ny,useDeferredValue:function(t){return Tr().memoizedState=t},useTransition:function(){var t=N_(!1),e=t[0];return t=ZA.bind(null,t[1]),Tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,s=Tr();if(Xe){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),Rt===null)throw Error(G(349));so&30||HE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,P_(KE.bind(null,r,i,t),[t]),r.flags|=2048,Cu(9,WE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Tr(),e=Rt.identifierPrefix;if(Xe){var n=ns,r=ts;n=(r&~(1<<32-lr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eR={readContext:Gn,useCallback:t2,useContext:Gn,useEffect:ky,useImperativeHandle:e2,useInsertionEffect:JE,useLayoutEffect:YE,useMemo:n2,useReducer:km,useRef:ZE,useState:function(){return km(Iu)},useDebugValue:Ny,useDeferredValue:function(t){var e=Zn();return r2(e,Tt.memoizedState,t)},useTransition:function(){var t=km(Iu)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:$E,useSyncExternalStore:qE,useId:s2,unstable_isNewReconciler:!1},tR={readContext:Gn,useCallback:t2,useContext:Gn,useEffect:ky,useImperativeHandle:e2,useInsertionEffect:JE,useLayoutEffect:YE,useMemo:n2,useReducer:Nm,useRef:ZE,useState:function(){return Nm(Iu)},useDebugValue:Ny,useDeferredValue:function(t){var e=Zn();return Tt===null?e.memoizedState=t:r2(e,Tt.memoizedState,t)},useTransition:function(){var t=Nm(Iu)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:$E,useSyncExternalStore:qE,useId:s2,unstable_isNewReconciler:!1};function er(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var af={isMounted:function(t){return(t=t._reactInternals)?vo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fn(),s=ri(t),i=os(r,s);i.payload=e,n!=null&&(i.callback=n),e=ti(t,i,s),e!==null&&(ur(e,t,s,r),Cd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fn(),s=ri(t),i=os(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ti(t,i,s),e!==null&&(ur(e,t,s,r),Cd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fn(),r=ri(t),s=os(n,r);s.tag=2,e!=null&&(s.callback=e),e=ti(t,s,r),e!==null&&(ur(e,t,r,n),Cd(e,t,r))}};function j_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!_u(n,r)||!_u(s,i):!0}function l2(t,e,n){var r=!1,s=ci,i=e.contextType;return typeof i=="object"&&i!==null?i=Gn(i):(s=bn(e)?no:rn.current,r=e.contextTypes,i=(r=r!=null)?Aa(t,s):ci),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=af,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function O_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&af.enqueueReplaceState(e,e.state,null)}function Up(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ty(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Gn(i):(i=bn(e)?no:rn.current,s.context=Aa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Fp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&af.enqueueReplaceState(s,s.state,null),lh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Pa(t,e){try{var n="",r=e;do n+=RC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Pm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nR=typeof WeakMap=="function"?WeakMap:Map;function u2(t,e,n){n=os(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fh||(fh=!0,Jp=r),zp(t,e)},n}function c2(t,e,n){n=os(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){zp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zp(t,e),typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function D_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=gR.bind(null,t,e,n),e.then(t,t))}function L_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function M_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=os(-1,1),e.tag=2,ti(n,e,1))),n.lanes|=1),t)}var rR=ws.ReactCurrentOwner,Tn=!1;function dn(t,e,n,r){e.child=t===null?FE(e,null,n,r):ka(e,t.child,n,r)}function V_(t,e,n,r,s){n=n.render;var i=e.ref;return ia(e,s),r=Ay(t,e,n,r,i,s),n=Ry(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fs(t,e,s)):(Xe&&n&&gy(e),e.flags|=1,dn(t,e,r,s),e.child)}function F_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Fy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,d2(t,e,i,r,s)):(t=jd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:_u,n(o,r)&&t.ref===e.ref)return fs(t,e,s)}return e.flags|=1,t=si(i,r),t.ref=e.ref,t.return=e,e.child=t}function d2(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(_u(i,r)&&t.ref===e.ref)if(Tn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Tn=!0);else return e.lanes=t.lanes,fs(t,e,s)}return Bp(t,e,n,r,s)}function h2(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Zo,jn),jn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(Zo,jn),jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,We(Zo,jn),jn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,We(Zo,jn),jn|=r;return dn(t,e,s,n),e.child}function f2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Bp(t,e,n,r,s){var i=bn(n)?no:rn.current;return i=Aa(e,i),ia(e,s),n=Ay(t,e,n,r,i,s),r=Ry(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fs(t,e,s)):(Xe&&r&&gy(e),e.flags|=1,dn(t,e,n,s),e.child)}function U_(t,e,n,r,s){if(bn(n)){var i=!0;rh(e)}else i=!1;if(ia(e,s),e.stateNode===null)kd(t,e),l2(e,n,r),Up(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Gn(d):(d=bn(n)?no:rn.current,d=Aa(e,d));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==d)&&O_(e,o,r,d),Ps=!1;var m=e.memoizedState;o.state=m,lh(e,r,o,s),u=e.memoizedState,a!==r||m!==u||Sn.current||Ps?(typeof h=="function"&&(Fp(e,n,h,r),u=e.memoizedState),(a=Ps||j_(e,n,a,r,m,u,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,zE(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:er(e.type,a),o.props=d,p=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Gn(u):(u=bn(n)?no:rn.current,u=Aa(e,u));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==u)&&O_(e,o,r,u),Ps=!1,m=e.memoizedState,o.state=m,lh(e,r,o,s);var y=e.memoizedState;a!==p||m!==y||Sn.current||Ps?(typeof v=="function"&&(Fp(e,n,v,r),y=e.memoizedState),(d=Ps||j_(e,n,d,r,m,y,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return $p(t,e,n,r,i,s)}function $p(t,e,n,r,s,i){f2(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&b_(e,n,!1),fs(t,e,i);r=e.stateNode,rR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ka(e,t.child,null,i),e.child=ka(e,null,a,i)):dn(t,e,a,i),e.memoizedState=r.state,s&&b_(e,n,!0),e.child}function m2(t){var e=t.stateNode;e.pendingContext?S_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&S_(t,e.context,!1),Sy(t,e.containerInfo)}function z_(t,e,n,r,s){return Ra(),vy(s),e.flags|=256,dn(t,e,n,r),e.child}var qp={dehydrated:null,treeContext:null,retryLane:0};function Hp(t){return{baseLanes:t,cachePool:null,transitions:null}}function p2(t,e,n){var r=e.pendingProps,s=nt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),We(nt,s&1),t===null)return Mp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=cf(o,r,0,null),t=Ji(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Hp(n),e.memoizedState=qp,t):Py(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return sR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=si(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=si(a,i):(i=Ji(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Hp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=qp,r}return i=t.child,t=i.sibling,r=si(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Py(t,e){return e=cf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cd(t,e,n,r){return r!==null&&vy(r),ka(e,t.child,null,n),t=Py(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Pm(Error(G(422))),cd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=cf({mode:"visible",children:r.children},s,0,null),i=Ji(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ka(e,t.child,null,o),e.child.memoizedState=Hp(o),e.memoizedState=qp,i);if(!(e.mode&1))return cd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(G(419)),r=Pm(i,r,void 0),cd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Tn||a){if(r=Rt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hs(t,s),ur(r,t,s,-1))}return Vy(),r=Pm(Error(G(421))),cd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=yR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,On=ei(s.nextSibling),Ln=e,Xe=!0,rr=null,t!==null&&(Hn[Wn++]=ts,Hn[Wn++]=ns,Hn[Wn++]=ro,ts=t.id,ns=t.overflow,ro=e),e=Py(e,r.children),e.flags|=4096,e)}function B_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vp(t.return,e,n)}function jm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function g2(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(dn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B_(t,n,e);else if(t.tag===19)B_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&uh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),jm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&uh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}jm(e,!0,n,null,i);break;case"together":jm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),io|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function iR(t,e,n){switch(e.tag){case 3:m2(e),Ra();break;case 5:BE(e);break;case 1:bn(e.type)&&rh(e);break;case 4:Sy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;We(oh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?p2(t,e,n):(We(nt,nt.current&1),t=fs(t,e,n),t!==null?t.sibling:null);We(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return g2(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,h2(t,e,n)}return fs(t,e,n)}var y2,Wp,v2,_2;y2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wp=function(){};v2=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Vi(Pr.current);var i=null;switch(n){case"input":s=mp(t,s),r=mp(t,r),i=[];break;case"select":s=st({},s,{value:void 0}),r=st({},r,{value:void 0}),i=[];break;case"textarea":s=yp(t,s),r=yp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=th)}_p(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(hu.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==a&&(u!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(hu.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Ge("scroll",t),i||a===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};_2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Al(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function oR(t,e,n){var r=e.pendingProps;switch(yy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return bn(e.type)&&nh(),Jt(e),null;case 3:return r=e.stateNode,Na(),Je(Sn),Je(rn),Iy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ld(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rr!==null&&(eg(rr),rr=null))),Wp(t,e),Jt(e),null;case 5:by(e);var s=Vi(Su.current);if(n=e.type,t!==null&&e.stateNode!=null)v2(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Jt(e),null}if(t=Vi(Pr.current),ld(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ar]=e,r[Eu]=i,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(s=0;s<Vl.length;s++)Ge(Vl[s],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":J0(r,i),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",r);break;case"textarea":X0(r,i),Ge("invalid",r)}_p(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ad(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ad(r.textContent,a,t),s=["children",""+a]):hu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":Xc(r),Y0(r,i,!0);break;case"textarea":Xc(r),e_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=th)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ar]=e,t[Eu]=r,y2(t,e,!1,!1),e.stateNode=t;e:{switch(o=wp(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),s=r;break;case"iframe":case"object":case"embed":Ge("load",t),s=r;break;case"video":case"audio":for(s=0;s<Vl.length;s++)Ge(Vl[s],t);s=r;break;case"source":Ge("error",t),s=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),s=r;break;case"details":Ge("toggle",t),s=r;break;case"input":J0(t,r),s=mp(t,r),Ge("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=st({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":X0(t,r),s=yp(t,r),Ge("invalid",t);break;default:s=r}_p(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Zx(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Qx(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&fu(t,u):typeof u=="number"&&fu(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hu.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Ge("scroll",t):u!=null&&ny(t,i,u,o))}switch(n){case"input":Xc(t),Y0(t,r,!1);break;case"textarea":Xc(t),e_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ui(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ta(t,!!r.multiple,i,!1):r.defaultValue!=null&&ta(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=th)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)_2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Vi(Su.current),Vi(Pr.current),ld(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ar]=e,(i=r.nodeValue!==n)&&(t=Ln,t!==null))switch(t.tag){case 3:ad(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ad(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ar]=e,e.stateNode=r}return Jt(e),null;case 13:if(Je(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&On!==null&&e.mode&1&&!(e.flags&128))ME(),Ra(),e.flags|=98560,i=!1;else if(i=ld(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Ar]=e}else Ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),i=!1}else rr!==null&&(eg(rr),rr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?St===0&&(St=3):Vy())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return Na(),Wp(t,e),t===null&&wu(e.stateNode.containerInfo),Jt(e),null;case 10:return xy(e.type._context),Jt(e),null;case 17:return bn(e.type)&&nh(),Jt(e),null;case 19:if(Je(nt),i=e.memoizedState,i===null)return Jt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Al(i,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=uh(t),o!==null){for(e.flags|=128,Al(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(nt,nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ft()>ja&&(e.flags|=128,r=!0,Al(i,!1),e.lanes=4194304)}else{if(!r)if(t=uh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Al(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Xe)return Jt(e),null}else 2*ft()-i.renderingStartTime>ja&&n!==1073741824&&(e.flags|=128,r=!0,Al(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ft(),e.sibling=null,n=nt.current,We(nt,r?n&1|2:n&1),e):(Jt(e),null);case 22:case 23:return My(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jn&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function aR(t,e){switch(yy(e),e.tag){case 1:return bn(e.type)&&nh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Na(),Je(Sn),Je(rn),Iy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return by(e),null;case 13:if(Je(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(nt),null;case 4:return Na(),null;case 10:return xy(e.type._context),null;case 22:case 23:return My(),null;case 24:return null;default:return null}}var dd=!1,tn=!1,lR=typeof WeakSet=="function"?WeakSet:Set,re=null;function Go(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function Kp(t,e,n){try{n()}catch(r){lt(t,e,r)}}var $_=!1;function uR(t,e){if(kp=Yd,t=SE(),py(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,d=0,h=0,p=t,m=null;t:for(;;){for(var v;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===t)break t;if(m===n&&++d===s&&(a=o),m===i&&++h===r&&(u=o),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Np={focusedElem:t,selectionRange:n},Yd=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,R=y.memoizedState,T=e.stateNode,w=T.getSnapshotBeforeUpdate(e.elementType===e.type?b:er(e.type,b),R);T.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(D){lt(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return y=$_,$_=!1,y}function tu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Kp(e,n,i)}s=s.next}while(s!==r)}}function lf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function w2(t){var e=t.alternate;e!==null&&(t.alternate=null,w2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ar],delete e[Eu],delete e[Op],delete e[HA],delete e[WA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function x2(t){return t.tag===5||t.tag===3||t.tag===4}function q_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=th));else if(r!==4&&(t=t.child,t!==null))for(Gp(t,e,n),t=t.sibling;t!==null;)Gp(t,e,n),t=t.sibling}function Zp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zp(t,e,n),t=t.sibling;t!==null;)Zp(t,e,n),t=t.sibling}var Ot=null,nr=!1;function Cs(t,e,n){for(n=n.child;n!==null;)E2(t,e,n),n=n.sibling}function E2(t,e,n){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Xh,n)}catch{}switch(n.tag){case 5:tn||Go(n,e);case 6:var r=Ot,s=nr;Ot=null,Cs(t,e,n),Ot=r,nr=s,Ot!==null&&(nr?(t=Ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(nr?(t=Ot,n=n.stateNode,t.nodeType===8?Im(t.parentNode,n):t.nodeType===1&&Im(t,n),yu(t)):Im(Ot,n.stateNode));break;case 4:r=Ot,s=nr,Ot=n.stateNode.containerInfo,nr=!0,Cs(t,e,n),Ot=r,nr=s;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Kp(n,e,o),s=s.next}while(s!==r)}Cs(t,e,n);break;case 1:if(!tn&&(Go(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){lt(n,e,a)}Cs(t,e,n);break;case 21:Cs(t,e,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,Cs(t,e,n),tn=r):Cs(t,e,n);break;default:Cs(t,e,n)}}function H_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lR),e.forEach(function(r){var s=vR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ot=a.stateNode,nr=!1;break e;case 3:Ot=a.stateNode.containerInfo,nr=!0;break e;case 4:Ot=a.stateNode.containerInfo,nr=!0;break e}a=a.return}if(Ot===null)throw Error(G(160));E2(i,o,s),Ot=null,nr=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){lt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)T2(e,t),e=e.sibling}function T2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),Er(t),r&4){try{tu(3,t,t.return),lf(3,t)}catch(b){lt(t,t.return,b)}try{tu(5,t,t.return)}catch(b){lt(t,t.return,b)}}break;case 1:Xn(e,t),Er(t),r&512&&n!==null&&Go(n,n.return);break;case 5:if(Xn(e,t),Er(t),r&512&&n!==null&&Go(n,n.return),t.flags&32){var s=t.stateNode;try{fu(s,"")}catch(b){lt(t,t.return,b)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Hx(s,i),wp(a,o);var d=wp(a,i);for(o=0;o<u.length;o+=2){var h=u[o],p=u[o+1];h==="style"?Zx(s,p):h==="dangerouslySetInnerHTML"?Qx(s,p):h==="children"?fu(s,p):ny(s,h,p,d)}switch(a){case"input":pp(s,i);break;case"textarea":Wx(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?ta(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?ta(s,!!i.multiple,i.defaultValue,!0):ta(s,!!i.multiple,i.multiple?[]:"",!1))}s[Eu]=i}catch(b){lt(t,t.return,b)}}break;case 6:if(Xn(e,t),Er(t),r&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(b){lt(t,t.return,b)}}break;case 3:if(Xn(e,t),Er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yu(e.containerInfo)}catch(b){lt(t,t.return,b)}break;case 4:Xn(e,t),Er(t);break;case 13:Xn(e,t),Er(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Dy=ft())),r&4&&H_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(tn=(d=tn)||h,Xn(e,t),tn=d):Xn(e,t),Er(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(re=t,h=t.child;h!==null;){for(p=re=h;re!==null;){switch(m=re,v=m.child,m.tag){case 0:case 11:case 14:case 15:tu(4,m,m.return);break;case 1:Go(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(b){lt(r,n,b)}}break;case 5:Go(m,m.return);break;case 22:if(m.memoizedState!==null){K_(p);continue}}v!==null?(v.return=m,re=v):K_(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Gx("display",o))}catch(b){lt(t,t.return,b)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(b){lt(t,t.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Xn(e,t),Er(t),r&4&&H_(t);break;case 21:break;default:Xn(e,t),Er(t)}}function Er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(x2(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fu(s,""),r.flags&=-33);var i=q_(t);Zp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=q_(t);Gp(t,a,o);break;default:throw Error(G(161))}}catch(u){lt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cR(t,e,n){re=t,S2(t)}function S2(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||dd;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||tn;a=dd;var d=tn;if(dd=o,(tn=u)&&!d)for(re=s;re!==null;)o=re,u=o.child,o.tag===22&&o.memoizedState!==null?Q_(s):u!==null?(u.return=o,re=u):Q_(s);for(;i!==null;)re=i,S2(i),i=i.sibling;re=s,dd=a,tn=d}W_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):W_(t)}}function W_(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||lf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:er(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&k_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}k_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&yu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}tn||e.flags&512&&Qp(e)}catch(m){lt(e,e.return,m)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function K_(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function Q_(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lf(4,e)}catch(u){lt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){lt(e,s,u)}}var i=e.return;try{Qp(e)}catch(u){lt(e,i,u)}break;case 5:var o=e.return;try{Qp(e)}catch(u){lt(e,o,u)}}}catch(u){lt(e,e.return,u)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var dR=Math.ceil,hh=ws.ReactCurrentDispatcher,jy=ws.ReactCurrentOwner,Qn=ws.ReactCurrentBatchConfig,Oe=0,Rt=null,gt=null,Ft=0,jn=0,Zo=xi(0),St=0,Au=null,io=0,uf=0,Oy=0,nu=null,xn=null,Dy=0,ja=1/0,Xr=null,fh=!1,Jp=null,ni=null,hd=!1,Qs=null,mh=0,ru=0,Yp=null,Nd=-1,Pd=0;function fn(){return Oe&6?ft():Nd!==-1?Nd:Nd=ft()}function ri(t){return t.mode&1?Oe&2&&Ft!==0?Ft&-Ft:QA.transition!==null?(Pd===0&&(Pd=lE()),Pd):(t=ze,t!==0||(t=window.event,t=t===void 0?16:pE(t.type)),t):1}function ur(t,e,n,r){if(50<ru)throw ru=0,Yp=null,Error(G(185));uc(t,n,r),(!(Oe&2)||t!==Rt)&&(t===Rt&&(!(Oe&2)&&(uf|=n),St===4&&Os(t,Ft)),In(t,r),n===1&&Oe===0&&!(e.mode&1)&&(ja=ft()+500,sf&&Ei()))}function In(t,e){var n=t.callbackNode;QC(t,e);var r=Jd(t,t===Rt?Ft:0);if(r===0)n!==null&&r_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&r_(n),e===1)t.tag===0?KA(G_.bind(null,t)):OE(G_.bind(null,t)),$A(function(){!(Oe&6)&&Ei()}),n=null;else{switch(uE(r)){case 1:n=ay;break;case 4:n=oE;break;case 16:n=Zd;break;case 536870912:n=aE;break;default:n=Zd}n=P2(n,b2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function b2(t,e){if(Nd=-1,Pd=0,Oe&6)throw Error(G(327));var n=t.callbackNode;if(oa()&&t.callbackNode!==n)return null;var r=Jd(t,t===Rt?Ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ph(t,r);else{e=r;var s=Oe;Oe|=2;var i=C2();(Rt!==t||Ft!==e)&&(Xr=null,ja=ft()+500,Zi(t,e));do try{mR();break}catch(a){I2(t,a)}while(!0);wy(),hh.current=i,Oe=s,gt!==null?e=0:(Rt=null,Ft=0,e=St)}if(e!==0){if(e===2&&(s=bp(t),s!==0&&(r=s,e=Xp(t,s))),e===1)throw n=Au,Zi(t,0),Os(t,r),In(t,ft()),n;if(e===6)Os(t,r);else{if(s=t.current.alternate,!(r&30)&&!hR(s)&&(e=ph(t,r),e===2&&(i=bp(t),i!==0&&(r=i,e=Xp(t,i))),e===1))throw n=Au,Zi(t,0),Os(t,r),In(t,ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:ji(t,xn,Xr);break;case 3:if(Os(t,r),(r&130023424)===r&&(e=Dy+500-ft(),10<e)){if(Jd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){fn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=jp(ji.bind(null,t,xn,Xr),e);break}ji(t,xn,Xr);break;case 4:if(Os(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-lr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dR(r/1960))-r,10<r){t.timeoutHandle=jp(ji.bind(null,t,xn,Xr),r);break}ji(t,xn,Xr);break;case 5:ji(t,xn,Xr);break;default:throw Error(G(329))}}}return In(t,ft()),t.callbackNode===n?b2.bind(null,t):null}function Xp(t,e){var n=nu;return t.current.memoizedState.isDehydrated&&(Zi(t,e).flags|=256),t=ph(t,e),t!==2&&(e=xn,xn=n,e!==null&&eg(e)),t}function eg(t){xn===null?xn=t:xn.push.apply(xn,t)}function hR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!hr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Os(t,e){for(e&=~Oy,e&=~uf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-lr(e),r=1<<n;t[n]=-1,e&=~r}}function G_(t){if(Oe&6)throw Error(G(327));oa();var e=Jd(t,0);if(!(e&1))return In(t,ft()),null;var n=ph(t,e);if(t.tag!==0&&n===2){var r=bp(t);r!==0&&(e=r,n=Xp(t,r))}if(n===1)throw n=Au,Zi(t,0),Os(t,e),In(t,ft()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ji(t,xn,Xr),In(t,ft()),null}function Ly(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(ja=ft()+500,sf&&Ei())}}function oo(t){Qs!==null&&Qs.tag===0&&!(Oe&6)&&oa();var e=Oe;Oe|=1;var n=Qn.transition,r=ze;try{if(Qn.transition=null,ze=1,t)return t()}finally{ze=r,Qn.transition=n,Oe=e,!(Oe&6)&&Ei()}}function My(){jn=Zo.current,Je(Zo)}function Zi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BA(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(yy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nh();break;case 3:Na(),Je(Sn),Je(rn),Iy();break;case 5:by(r);break;case 4:Na();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:xy(r.type._context);break;case 22:case 23:My()}n=n.return}if(Rt=t,gt=t=si(t.current,null),Ft=jn=e,St=0,Au=null,Oy=uf=io=0,xn=nu=null,Mi!==null){for(e=0;e<Mi.length;e++)if(n=Mi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Mi=null}return t}function I2(t,e){do{var n=gt;try{if(wy(),Ad.current=dh,ch){for(var r=rt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ch=!1}if(so=0,At=Tt=rt=null,eu=!1,bu=0,jy.current=null,n===null||n.return===null){St=1,Au=e,gt=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=Ft,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=L_(o);if(v!==null){v.flags&=-257,M_(v,o,a,i,e),v.mode&1&&D_(i,d,e),e=v,u=d;var y=e.updateQueue;if(y===null){var b=new Set;b.add(u),e.updateQueue=b}else y.add(u);break e}else{if(!(e&1)){D_(i,d,e),Vy();break e}u=Error(G(426))}}else if(Xe&&a.mode&1){var R=L_(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),M_(R,o,a,i,e),vy(Pa(u,a));break e}}i=u=Pa(u,a),St!==4&&(St=2),nu===null?nu=[i]:nu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var T=u2(i,u,e);R_(i,T);break e;case 1:a=u;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ni===null||!ni.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=c2(i,a,e);R_(i,D);break e}}i=i.return}while(i!==null)}R2(n)}catch(V){e=V,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function C2(){var t=hh.current;return hh.current=dh,t===null?dh:t}function Vy(){(St===0||St===3||St===2)&&(St=4),Rt===null||!(io&268435455)&&!(uf&268435455)||Os(Rt,Ft)}function ph(t,e){var n=Oe;Oe|=2;var r=C2();(Rt!==t||Ft!==e)&&(Xr=null,Zi(t,e));do try{fR();break}catch(s){I2(t,s)}while(!0);if(wy(),Oe=n,hh.current=r,gt!==null)throw Error(G(261));return Rt=null,Ft=0,St}function fR(){for(;gt!==null;)A2(gt)}function mR(){for(;gt!==null&&!FC();)A2(gt)}function A2(t){var e=N2(t.alternate,t,jn);t.memoizedProps=t.pendingProps,e===null?R2(t):gt=e,jy.current=null}function R2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aR(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,gt=null;return}}else if(n=oR(n,e,jn),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);St===0&&(St=5)}function ji(t,e,n){var r=ze,s=Qn.transition;try{Qn.transition=null,ze=1,pR(t,e,n,r)}finally{Qn.transition=s,ze=r}return null}function pR(t,e,n,r){do oa();while(Qs!==null);if(Oe&6)throw Error(G(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(GC(t,i),t===Rt&&(gt=Rt=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hd||(hd=!0,P2(Zd,function(){return oa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qn.transition,Qn.transition=null;var o=ze;ze=1;var a=Oe;Oe|=4,jy.current=null,uR(t,n),T2(n,t),DA(Np),Yd=!!kp,Np=kp=null,t.current=n,cR(n),UC(),Oe=a,ze=o,Qn.transition=i}else t.current=n;if(hd&&(hd=!1,Qs=t,mh=s),i=t.pendingLanes,i===0&&(ni=null),$C(n.stateNode),In(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(fh)throw fh=!1,t=Jp,Jp=null,t;return mh&1&&t.tag!==0&&oa(),i=t.pendingLanes,i&1?t===Yp?ru++:(ru=0,Yp=t):ru=0,Ei(),null}function oa(){if(Qs!==null){var t=uE(mh),e=Qn.transition,n=ze;try{if(Qn.transition=null,ze=16>t?16:t,Qs===null)var r=!1;else{if(t=Qs,Qs=null,mh=0,Oe&6)throw Error(G(331));var s=Oe;for(Oe|=4,re=t.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var d=a[u];for(re=d;re!==null;){var h=re;switch(h.tag){case 0:case 11:case 15:tu(8,h,i)}var p=h.child;if(p!==null)p.return=h,re=p;else for(;re!==null;){h=re;var m=h.sibling,v=h.return;if(w2(h),h===d){re=null;break}if(m!==null){m.return=v,re=m;break}re=v}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var R=b.sibling;b.sibling=null,b=R}while(b!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:tu(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,re=T;break e}re=i.return}}var w=t.current;for(re=w;re!==null;){o=re;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,re=S;else e:for(o=w;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lf(9,a)}}catch(V){lt(a,a.return,V)}if(a===o){re=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,re=D;break e}re=a.return}}if(Oe=s,Ei(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Xh,t)}catch{}r=!0}return r}finally{ze=n,Qn.transition=e}}return!1}function Z_(t,e,n){e=Pa(n,e),e=u2(t,e,1),t=ti(t,e,1),e=fn(),t!==null&&(uc(t,1,e),In(t,e))}function lt(t,e,n){if(t.tag===3)Z_(t,t,n);else for(;e!==null;){if(e.tag===3){Z_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){t=Pa(n,t),t=c2(e,t,1),e=ti(e,t,1),t=fn(),e!==null&&(uc(e,1,t),In(e,t));break}}e=e.return}}function gR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fn(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Ft&n)===n&&(St===4||St===3&&(Ft&130023424)===Ft&&500>ft()-Dy?Zi(t,0):Oy|=n),In(t,e)}function k2(t,e){e===0&&(t.mode&1?(e=nd,nd<<=1,!(nd&130023424)&&(nd=4194304)):e=1);var n=fn();t=hs(t,e),t!==null&&(uc(t,e,n),In(t,n))}function yR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),k2(t,n)}function vR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),k2(t,n)}var N2;N2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Sn.current)Tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tn=!1,iR(t,e,n);Tn=!!(t.flags&131072)}else Tn=!1,Xe&&e.flags&1048576&&DE(e,ih,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;kd(t,e),t=e.pendingProps;var s=Aa(e,rn.current);ia(e,n),s=Ay(null,e,r,t,s,n);var i=Ry();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(i=!0,rh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ty(e),s.updater=af,e.stateNode=s,s._reactInternals=e,Up(e,r,t,n),e=$p(null,e,r,!0,i,n)):(e.tag=0,Xe&&i&&gy(e),dn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(kd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=wR(r),t=er(r,t),s){case 0:e=Bp(null,e,r,t,n);break e;case 1:e=U_(null,e,r,t,n);break e;case 11:e=V_(null,e,r,t,n);break e;case 14:e=F_(null,e,r,er(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:er(r,s),Bp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:er(r,s),U_(t,e,r,s,n);case 3:e:{if(m2(e),t===null)throw Error(G(387));r=e.pendingProps,i=e.memoizedState,s=i.element,zE(t,e),lh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Pa(Error(G(423)),e),e=z_(t,e,r,n,s);break e}else if(r!==s){s=Pa(Error(G(424)),e),e=z_(t,e,r,n,s);break e}else for(On=ei(e.stateNode.containerInfo.firstChild),Ln=e,Xe=!0,rr=null,n=FE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ra(),r===s){e=fs(t,e,n);break e}dn(t,e,r,n)}e=e.child}return e;case 5:return BE(e),t===null&&Mp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Pp(r,s)?o=null:i!==null&&Pp(r,i)&&(e.flags|=32),f2(t,e),dn(t,e,o,n),e.child;case 6:return t===null&&Mp(e),null;case 13:return p2(t,e,n);case 4:return Sy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ka(e,null,r,n):dn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:er(r,s),V_(t,e,r,s,n);case 7:return dn(t,e,e.pendingProps,n),e.child;case 8:return dn(t,e,e.pendingProps.children,n),e.child;case 12:return dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,We(oh,r._currentValue),r._currentValue=o,i!==null)if(hr(i.value,o)){if(i.children===s.children&&!Sn.current){e=fs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=os(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?u.next=u:(u.next=h.next,h.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Vp(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Vp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}dn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ia(e,n),s=Gn(s),r=r(s),e.flags|=1,dn(t,e,r,n),e.child;case 14:return r=e.type,s=er(r,e.pendingProps),s=er(r.type,s),F_(t,e,r,s,n);case 15:return d2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:er(r,s),kd(t,e),e.tag=1,bn(r)?(t=!0,rh(e)):t=!1,ia(e,n),l2(e,r,s),Up(e,r,s,n),$p(null,e,r,!0,t,n);case 19:return g2(t,e,n);case 22:return h2(t,e,n)}throw Error(G(156,e.tag))};function P2(t,e){return iE(t,e)}function _R(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,n,r){return new _R(t,e,n,r)}function Fy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wR(t){if(typeof t=="function")return Fy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sy)return 11;if(t===iy)return 14}return 2}function si(t,e){var n=t.alternate;return n===null?(n=Kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Fy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Uo:return Ji(n.children,s,i,e);case ry:o=8,s|=8;break;case cp:return t=Kn(12,n,e,s|2),t.elementType=cp,t.lanes=i,t;case dp:return t=Kn(13,n,e,s),t.elementType=dp,t.lanes=i,t;case hp:return t=Kn(19,n,e,s),t.elementType=hp,t.lanes=i,t;case Bx:return cf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ux:o=10;break e;case zx:o=9;break e;case sy:o=11;break e;case iy:o=14;break e;case Ns:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=Kn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ji(t,e,n,r){return t=Kn(7,t,r,e),t.lanes=n,t}function cf(t,e,n,r){return t=Kn(22,t,r,e),t.elementType=Bx,t.lanes=n,t.stateNode={isHidden:!1},t}function Om(t,e,n){return t=Kn(6,t,null,e),t.lanes=n,t}function Dm(t,e,n){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pm(0),this.expirationTimes=pm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uy(t,e,n,r,s,i,o,a,u){return t=new xR(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Kn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ty(i),t}function ER(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function j2(t){if(!t)return ci;t=t._reactInternals;e:{if(vo(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(bn(n))return jE(t,n,e)}return e}function O2(t,e,n,r,s,i,o,a,u){return t=Uy(n,r,!0,t,s,i,o,a,u),t.context=j2(null),n=t.current,r=fn(),s=ri(n),i=os(r,s),i.callback=e??null,ti(n,i,s),t.current.lanes=s,uc(t,s,r),In(t,r),t}function df(t,e,n,r){var s=e.current,i=fn(),o=ri(s);return n=j2(n),e.context===null?e.context=n:e.pendingContext=n,e=os(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ti(s,e,o),t!==null&&(ur(t,s,o,i),Cd(t,s,o)),o}function gh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function J_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zy(t,e){J_(t,e),(t=t.alternate)&&J_(t,e)}function TR(){return null}var D2=typeof reportError=="function"?reportError:function(t){console.error(t)};function By(t){this._internalRoot=t}hf.prototype.render=By.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));df(t,e,null,null)};hf.prototype.unmount=By.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oo(function(){df(null,t,null,null)}),e[ds]=null}};function hf(t){this._internalRoot=t}hf.prototype.unstable_scheduleHydration=function(t){if(t){var e=hE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<js.length&&e!==0&&e<js[n].priority;n++);js.splice(n,0,t),n===0&&mE(t)}};function $y(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ff(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Y_(){}function SR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=gh(o);i.call(d)}}var o=O2(e,r,t,0,null,!1,!1,"",Y_);return t._reactRootContainer=o,t[ds]=o.current,wu(t.nodeType===8?t.parentNode:t),oo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=gh(u);a.call(d)}}var u=Uy(t,0,!1,null,null,!1,!1,"",Y_);return t._reactRootContainer=u,t[ds]=u.current,wu(t.nodeType===8?t.parentNode:t),oo(function(){df(e,u,n,r)}),u}function mf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=gh(o);a.call(u)}}df(e,o,t,s)}else o=SR(n,e,t,s,r);return gh(o)}cE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ml(e.pendingLanes);n!==0&&(ly(e,n|1),In(e,ft()),!(Oe&6)&&(ja=ft()+500,Ei()))}break;case 13:oo(function(){var r=hs(t,1);if(r!==null){var s=fn();ur(r,t,1,s)}}),zy(t,1)}};uy=function(t){if(t.tag===13){var e=hs(t,134217728);if(e!==null){var n=fn();ur(e,t,134217728,n)}zy(t,134217728)}};dE=function(t){if(t.tag===13){var e=ri(t),n=hs(t,e);if(n!==null){var r=fn();ur(n,t,e,r)}zy(t,e)}};hE=function(){return ze};fE=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};Ep=function(t,e,n){switch(e){case"input":if(pp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=rf(r);if(!s)throw Error(G(90));qx(r),pp(r,s)}}}break;case"textarea":Wx(t,n);break;case"select":e=n.value,e!=null&&ta(t,!!n.multiple,e,!1)}};Xx=Ly;eE=oo;var bR={usingClientEntryPoint:!1,Events:[dc,qo,rf,Jx,Yx,Ly]},Rl={findFiberByHostInstance:Li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IR={bundleType:Rl.bundleType,version:Rl.version,rendererPackageName:Rl.rendererPackageName,rendererConfig:Rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rE(t),t===null?null:t.stateNode},findFiberByHostInstance:Rl.findFiberByHostInstance||TR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{Xh=fd.inject(IR),Nr=fd}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bR;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$y(e))throw Error(G(200));return ER(t,e,null,n)};Un.createRoot=function(t,e){if(!$y(t))throw Error(G(299));var n=!1,r="",s=D2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Uy(t,1,!1,null,null,n,!1,r,s),t[ds]=e.current,wu(t.nodeType===8?t.parentNode:t),new By(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=rE(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return oo(t)};Un.hydrate=function(t,e,n){if(!ff(e))throw Error(G(200));return mf(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!$y(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=D2;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=O2(e,null,t,1,n??null,s,!1,i,o),t[ds]=e.current,wu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new hf(e)};Un.render=function(t,e,n){if(!ff(e))throw Error(G(200));return mf(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!ff(t))throw Error(G(40));return t._reactRootContainer?(oo(function(){mf(null,null,t,!1,function(){t._reactRootContainer=null,t[ds]=null})}),!0):!1};Un.unstable_batchedUpdates=Ly;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ff(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return mf(t,e,n,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function L2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L2)}catch(t){console.error(t)}}L2(),Lx.exports=Un;var CR=Lx.exports,X_=CR;lp.createRoot=X_.createRoot,lp.hydrateRoot=X_.hydrateRoot;/**
 * @remix-run/router v1.0.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ut(){return ut=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ut.apply(this,arguments)}var Et;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Et||(Et={}));const ew="popstate";function AR(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:u=""}=$r(s.location.hash.substr(1));return Ru("",{pathname:o,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=s.location.href,d=u.indexOf("#");a=d===-1?u:u.slice(0,d)}return a+"#"+(typeof i=="string"?i:Fr(i))}function r(s,i){RR(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return NR(e,n,r,t)}function Te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function RR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kR(){return Math.random().toString(36).substr(2,8)}function tw(t){return{usr:t.state,key:t.key}}function Ru(t,e,n,r){return n===void 0&&(n=null),ut({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$r(e):e,{state:n,key:e&&e.key||r||kR()})}function Fr(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $r(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ku(t){let e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:window.location.href,n=typeof t=="string"?t:Fr(t);return Te(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}function NR(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Et.Pop,u=null;function d(){a=Et.Pop,u&&u({action:a,location:m.location})}function h(v,y){a=Et.Push;let b=Ru(m.location,v,y);n&&n(b,v);let R=tw(b),T=m.createHref(b);try{o.pushState(R,"",T)}catch{s.location.assign(T)}i&&u&&u({action:a,location:m.location})}function p(v,y){a=Et.Replace;let b=Ru(m.location,v,y);n&&n(b,v);let R=tw(b),T=m.createHref(b);o.replaceState(R,"",T),i&&u&&u({action:a,location:m.location})}let m={get action(){return a},get location(){return t(s,o)},listen(v){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(ew,d),u=v,()=>{s.removeEventListener(ew,d),u=null}},createHref(v){return e(s,v)},encodeLocation(v){let y=ku(typeof v=="string"?v:Fr(v));return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return o.go(v)}};return m}var Dt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Dt||(Dt={}));function PR(t){return t.index===!0}function M2(t,e,n){return e===void 0&&(e=[]),n===void 0&&(n=new Set),t.map((r,s)=>{let i=[...e,s],o=typeof r.id=="string"?r.id:i.join("-");return Te(r.index!==!0||!r.children,"Cannot specify children on an index route"),Te(!n.has(o),'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),n.add(o),PR(r)?ut({},r,{id:o}):ut({},r,{id:o,children:r.children?M2(r.children,i,n):void 0})})}function Fl(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?$r(e):e,s=F2(r.pathname||"/",n);if(s==null)return null;let i=V2(t);jR(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=BR(i[a],HR(s));return o}function V2(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((s,i)=>{let o={relativePath:s.path||"",caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};o.relativePath.startsWith("/")&&(Te(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let a=as([r,o.relativePath]),u=n.concat(o);s.children&&s.children.length>0&&(Te(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),V2(s.children,e,u,a)),!(s.path==null&&!s.index)&&e.push({path:a,score:UR(a,s.index),routesMeta:u})}),e}function jR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const OR=/^:\w+$/,DR=3,LR=2,MR=1,VR=10,FR=-2,nw=t=>t==="*";function UR(t,e){let n=t.split("/"),r=n.length;return n.some(nw)&&(r+=FR),e&&(r+=LR),n.filter(s=>!nw(s)).reduce((s,i)=>s+(OR.test(i)?DR:i===""?MR:VR),r)}function zR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function BR(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=$R({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},d);if(!h)return null;Object.assign(r,h.params);let p=a.route;i.push({params:r,pathname:as([s,h.pathname]),pathnameBase:GR(as([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=as([s,h.pathnameBase]))}return i}function $R(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,p)=>{if(h==="*"){let m=a[p]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}return d[h]=WR(a[p]||"",h),d},{}),pathname:i,pathnameBase:o,pattern:t}}function qR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function HR(t){try{return decodeURI(t)}catch(e){return qy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function WR(t,e){try{return decodeURIComponent(t)}catch(n){return qy(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function F2(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function qy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?$r(t):t;return{pathname:n?n.startsWith("/")?n:QR(n,e):e,search:ZR(r),hash:JR(s)}}function QR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Lm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pf(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hy(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=$r(t):(s=ut({},t),Te(!s.pathname||!s.pathname.includes("?"),Lm("?","pathname","search",s)),Te(!s.pathname||!s.pathname.includes("#"),Lm("#","pathname","hash",s)),Te(!s.search||!s.search.includes("#"),Lm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let p=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}a=p>=0?e[p]:"/"}let u=KR(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}const as=t=>t.join("/").replace(/\/\/+/g,"/"),GR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class rw extends Error{}class YR{constructor(e){this.pendingKeys=new Set,this.subscriber=void 0,Te(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let n;this.abortPromise=new Promise((s,i)=>n=i),this.controller=new AbortController;let r=()=>n(new rw("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(e).reduce((s,i)=>{let[o,a]=i;return Object.assign(s,{[o]:this.trackPromise(o,a)})},{})}trackPromise(e,n){if(!(n instanceof Promise))return n;this.pendingKeys.add(e);let r=Promise.race([n,this.abortPromise]).then(s=>this.onSettle(r,e,null,s),s=>this.onSettle(r,e,s));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,s){if(this.controller.signal.aborted&&r instanceof rw)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r);this.pendingKeys.delete(n),this.done&&this.unlistenAbortSignal();const i=this.subscriber;return r?(Object.defineProperty(e,"_error",{get:()=>r}),i&&i(!1),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>s}),i&&i(!1),s)}subscribe(e){this.subscriber=e}cancel(){this.controller.abort(),this.pendingKeys.forEach((n,r)=>this.pendingKeys.delete(r));let e=this.subscriber;e&&e(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(s=>{this.subscribe(i=>{e.removeEventListener("abort",r),(i||this.done)&&s(i)})})}return n}get done(){return this.pendingKeys.size===0}get unwrappedData(){return Te(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,s]=n;return Object.assign(e,{[r]:ek(s)})},{})}}function XR(t){return t instanceof Promise&&t._tracked===!0}function ek(t){if(!XR(t))return t;if(t._error)throw t._error;return t._data}class gf{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function U2(t){return t instanceof gf}const z2=["post","put","patch","delete"],tk=new Set(z2),nk=["get",...z2],rk=new Set(nk),sk=new Set([301,302,303,307,308]),ik=new Set([307,308]),Mm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ok={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ak=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lk=!ak;function uk(t){Te(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=M2(t.routes),n=null,r=new Set,s=null,i=null,o=null,a=!1,u=Fl(e,t.history.location,t.basename),d=null;if(u==null){let x=Di(404,{pathname:t.history.location.pathname}),{matches:N,route:P}=lw(e);u=N,d={[P.id]:x}}let h=!u.some(x=>x.route.loader)||t.hydrationData!=null,p,m={historyAction:t.history.action,location:t.history.location,matches:u,initialized:h,navigation:Mm,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||d,fetchers:new Map},v=Et.Pop,y=!1,b,R=!1,T=!1,w=[],S=[],D=new Map,V=0,B=-1,I=new Map,_=new Set,C=new Map,k=new Map;function O(){return n=t.history.listen(x=>{let{action:N,location:P}=x;return J(N,P)}),m.initialized||J(Et.Pop,m.location),p}function j(){n&&n(),r.clear(),b&&b.abort(),m.fetchers.forEach((x,N)=>Es(N))}function A(x){return r.add(x),()=>r.delete(x)}function ge(x){m=ut({},m,x),r.forEach(N=>N(m))}function Ve(x,N){var P;let H=m.actionData!=null&&m.navigation.formMethod!=null&&m.navigation.state==="loading"&&((P=m.navigation.formAction)==null?void 0:P.split("?")[0])===x.pathname,q=N.loaderData?{loaderData:Vm(m.loaderData,N.loaderData,N.matches||[])}:{};ge(ut({},H?{}:{actionData:null},N,q,{historyAction:v,location:x,initialized:!0,navigation:Mm,revalidation:"idle",restoreScrollPosition:m.navigation.formData?!1:ol(x,N.matches||m.matches),preventScrollReset:y})),R||v===Et.Pop||(v===Et.Push?t.history.push(x,x.state):v===Et.Replace&&t.history.replace(x,x.state)),v=Et.Pop,y=!1,R=!1,T=!1,w=[],S=[]}async function _t(x,N){if(typeof x=="number"){t.history.go(x);return}let{path:P,submission:H,error:q}=sw(x,N),$=Ru(m.location,P,N&&N.state);$=ut({},$,t.history.encodeLocation($));let Q=(N&&N.replace)===!0||H!=null?Et.Replace:Et.Push,ie=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0;return await J(Q,$,{submission:H,pendingError:q,preventScrollReset:ie,replace:N&&N.replace})}function Ye(){if(Ht(),ge({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){J(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}J(v||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function J(x,N,P){b&&b.abort(),b=null,v=x,R=(P&&P.startUninterruptedRevalidation)===!0,il(m.location,m.matches),y=(P&&P.preventScrollReset)===!0;let H=P&&P.overrideNavigation,q=Fl(e,N,t.basename);if(!q){let wt=Di(404,{pathname:N.pathname}),{matches:An,route:an}=lw(e);_r(),Ve(N,{matches:An,loaderData:{},errors:{[an.id]:wt}});return}if(mk(m.location,N)){Ve(N,{matches:q});return}b=new AbortController;let $=Nl(N,b.signal,P&&P.submission),Q,ie;if(P&&P.pendingError)ie={[Jo(q).route.id]:P.pendingError};else if(P&&P.submission){let wt=await de($,N,P.submission,q,{replace:P.replace});if(wt.shortCircuited)return;Q=wt.pendingActionData,ie=wt.pendingActionError,H=ut({state:"loading",location:N},P.submission),$=new Request($.url,{signal:$.signal})}let{shortCircuited:ne,loaderData:le,errors:be}=await he($,N,q,H,P&&P.submission,P&&P.replace,Q,ie);ne||(b=null,Ve(N,{matches:q,loaderData:le,errors:be}))}async function de(x,N,P,H,q){Ht();let $=ut({state:"submitting",location:N},P);ge({navigation:$});let Q,ie=hw(H,N);if(!ie.route.action)Q={type:Dt.error,error:Di(405,{method:x.method,pathname:N.pathname,routeId:ie.route.id})};else if(Q=await kl("action",x,ie,H,p.basename),x.signal.aborted)return{shortCircuited:!0};if(aa(Q))return await kt(m,Q,q&&q.replace===!0),{shortCircuited:!0};if(su(Q)){let ne=Jo(H,ie.route.id);return(q&&q.replace)!==!0&&(v=Et.Push),{pendingActionError:{[ne.route.id]:Q.error}}}if(Fi(Q))throw new Error("defer() is not supported in actions");return{pendingActionData:{[ie.route.id]:Q.data}}}async function he(x,N,P,H,q,$,Q,ie){let ne=H;ne||(ne={state:"loading",location:N,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0});let[le,be]=iw(m,P,q,N,T,w,S,Q,ie,C);if(_r(Wt=>!(P&&P.some(Kt=>Kt.route.id===Wt))||le&&le.some(Kt=>Kt.route.id===Wt)),le.length===0&&be.length===0)return Ve(N,{matches:P,loaderData:Vm(m.loaderData,{},P),errors:ie||null,actionData:Q||null}),{shortCircuited:!0};R||(be.forEach(Wt=>{let[Kt]=Wt,wr=m.fetchers.get(Kt),Ci={state:"loading",data:wr&&wr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};m.fetchers.set(Kt,Ci)}),ge(ut({navigation:ne,actionData:Q||m.actionData||null},be.length>0?{fetchers:new Map(m.fetchers)}:{}))),B=++V,be.forEach(Wt=>{let[Kt]=Wt;return D.set(Kt,b)});let{results:wt,loaderResults:An,fetcherResults:an}=await qt(m.matches,P,le,be,x);if(x.signal.aborted)return{shortCircuited:!0};be.forEach(Wt=>{let[Kt]=Wt;return D.delete(Kt)});let _n=uw(wt);if(_n)return await kt(m,_n,$),{shortCircuited:!0};let{loaderData:Wr,errors:Kr}=aw(m,P,le,An,ie,be,an,k);k.forEach((Wt,Kt)=>{Wt.subscribe(wr=>{(wr||Wt.done)&&k.delete(Kt)})}),Ii();let Rn=Hr(B);return ut({loaderData:Wr,errors:Kr},Rn||be.length>0?{fetchers:new Map(m.fetchers)}:{})}function Ue(x){return m.fetchers.get(x)||ok}function De(x,N,P,H){if(lk)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");D.has(x)&&Jn(x);let q=Fl(e,P,t.basename);if(!q){qr(x,N,Di(404,{pathname:P}));return}let{path:$,submission:Q}=sw(P,H,!0),ie=hw(q,$);if(Q){Ke(x,N,$,ie,q,Q);return}C.set(x,[$,ie,q]),vn(x,N,$,ie,q)}async function Ke(x,N,P,H,q,$){if(Ht(),C.delete(x),!H.route.action){let Nt=Di(405,{method:$.formMethod,pathname:P,routeId:N});qr(x,N,Nt);return}let Q=m.fetchers.get(x),ie=ut({state:"submitting"},$,{data:Q&&Q.data});m.fetchers.set(x,ie),ge({fetchers:new Map(m.fetchers)});let ne=new AbortController,le=Nl(P,ne.signal,$);D.set(x,ne);let be=await kl("action",le,H,q,p.basename);if(le.signal.aborted){D.get(x)===ne&&D.delete(x);return}if(aa(be)){D.delete(x),_.add(x);let Nt=ut({state:"loading"},$,{data:void 0});return m.fetchers.set(x,Nt),ge({fetchers:new Map(m.fetchers)}),kt(m,be)}if(su(be)){qr(x,N,be.error);return}Fi(be)&&Te(!1,"defer() is not supported in actions");let wt=m.navigation.location||m.location,An=Nl(wt,ne.signal),an=m.navigation.state!=="idle"?Fl(e,m.navigation.location,t.basename):m.matches;Te(an,"Didn't find any matches after fetcher action");let _n=++V;I.set(x,_n);let Wr=ut({state:"loading",data:be.data},$);m.fetchers.set(x,Wr);let[Kr,Rn]=iw(m,an,$,wt,T,w,S,{[H.route.id]:be.data},void 0,C);Rn.filter(Nt=>{let[xr]=Nt;return xr!==x}).forEach(Nt=>{let[xr]=Nt,Ai=m.fetchers.get(xr),Lc={state:"loading",data:Ai&&Ai.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};m.fetchers.set(xr,Lc),D.set(xr,ne)}),ge({fetchers:new Map(m.fetchers)});let{results:Wt,loaderResults:Kt,fetcherResults:wr}=await qt(m.matches,an,Kr,Rn,An);if(ne.signal.aborted)return;I.delete(x),D.delete(x),Rn.forEach(Nt=>{let[xr]=Nt;return D.delete(xr)});let Ci=uw(Wt);if(Ci)return kt(m,Ci);let{loaderData:al,errors:Ts}=aw(m,m.matches,Kr,Kt,void 0,Rn,wr,k),ll={state:"idle",data:be.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};m.fetchers.set(x,ll);let ul=Hr(_n);m.navigation.state==="loading"&&_n>B?(Te(v,"Expected pending action"),b&&b.abort(),Ve(m.navigation.location,{matches:an,loaderData:al,errors:Ts,fetchers:new Map(m.fetchers)})):(ge(ut({errors:Ts,loaderData:Vm(m.loaderData,al,an)},ul?{fetchers:new Map(m.fetchers)}:{})),T=!1)}async function vn(x,N,P,H,q){let $=m.fetchers.get(x),Q={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:$&&$.data};m.fetchers.set(x,Q),ge({fetchers:new Map(m.fetchers)});let ie=new AbortController,ne=Nl(P,ie.signal);D.set(x,ie);let le=await kl("loader",ne,H,q,p.basename);if(Fi(le)&&(le=await W2(le,ne.signal,!0)||le),D.get(x)===ie&&D.delete(x),ne.signal.aborted)return;if(aa(le)){await kt(m,le);return}if(su(le)){let wt=Jo(m.matches,N);m.fetchers.delete(x),ge({fetchers:new Map(m.fetchers),errors:{[wt.route.id]:le.error}});return}Te(!Fi(le),"Unhandled fetcher deferred data");let be={state:"idle",data:le.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};m.fetchers.set(x,be),ge({fetchers:new Map(m.fetchers)})}async function kt(x,N,P){var H;N.revalidate&&(T=!0);let q=Ru(x.location,N.location);if(Te(q,"Expected a location on the redirect navigation"),typeof((H=window)==null?void 0:H.location)<"u"){let be=ku(N.location).origin;if(window.location.origin!==be){P?window.location.replace(N.location):window.location.assign(N.location);return}}b=null;let $=P===!0?Et.Replace:Et.Push,{formMethod:Q,formAction:ie,formEncType:ne,formData:le}=x.navigation;ik.has(N.status)&&Q&&H2(Q)&&ne&&le?await J($,q,{submission:{formMethod:Q,formAction:N.location,formEncType:ne,formData:le}}):await J($,q,{overrideNavigation:{state:"loading",location:q,formMethod:Q||void 0,formAction:ie||void 0,formEncType:ne||void 0,formData:le||void 0}})}async function qt(x,N,P,H,q){let $=await Promise.all([...P.map(ne=>kl("loader",q,ne,N,p.basename)),...H.map(ne=>{let[,le,be,wt]=ne;return kl("loader",Nl(le,q.signal),be,wt,p.basename)})]),Q=$.slice(0,P.length),ie=$.slice(P.length);return await Promise.all([cw(x,P,Q,q.signal,!1,m.loaderData),cw(x,H.map(ne=>{let[,,le]=ne;return le}),ie,q.signal,!0)]),{results:$,loaderResults:Q,fetcherResults:ie}}function Ht(){T=!0,w.push(..._r()),C.forEach((x,N)=>{D.has(N)&&(S.push(N),Jn(N))})}function qr(x,N,P){let H=Jo(m.matches,N);Es(x),ge({errors:{[H.route.id]:P},fetchers:new Map(m.fetchers)})}function Es(x){D.has(x)&&Jn(x),C.delete(x),I.delete(x),_.delete(x),m.fetchers.delete(x)}function Jn(x){let N=D.get(x);Te(N,"Expected fetch controller: "+x),N.abort(),D.delete(x)}function vr(x){for(let N of x){let H={state:"idle",data:Ue(N).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};m.fetchers.set(N,H)}}function Ii(){let x=[];for(let N of _){let P=m.fetchers.get(N);Te(P,"Expected fetcher: "+N),P.state==="loading"&&(_.delete(N),x.push(N))}vr(x)}function Hr(x){let N=[];for(let[P,H]of I)if(H<x){let q=m.fetchers.get(P);Te(q,"Expected fetcher: "+P),q.state==="loading"&&(Jn(P),I.delete(P),N.push(P))}return vr(N),N.length>0}function _r(x){let N=[];return k.forEach((P,H)=>{(!x||x(H))&&(P.cancel(),N.push(H),k.delete(H))}),N}function Co(x,N,P){if(s=x,o=N,i=P||(H=>H.key),!a&&m.navigation===Mm){a=!0;let H=ol(m.location,m.matches);H!=null&&ge({restoreScrollPosition:H})}return()=>{s=null,o=null,i=null}}function il(x,N){if(s&&i&&o){let P=N.map(q=>dw(q,m.loaderData)),H=i(x,P)||x.key;s[H]=o()}}function ol(x,N){if(s&&i&&o){let P=N.map($=>dw($,m.loaderData)),H=i(x,P)||x.key,q=s[H];if(typeof q=="number")return q}return null}return p={get basename(){return t.basename},get state(){return m},get routes(){return e},initialize:O,subscribe:A,enableScrollRestoration:Co,navigate:_t,fetch:De,revalidate:Ye,createHref:x=>t.history.createHref(x),encodeLocation:x=>t.history.encodeLocation(x),getFetcher:Ue,deleteFetcher:Es,dispose:j,_internalFetchControllers:D,_internalActiveDeferreds:k},p}function ck(t){return t!=null&&"formData"in t}function sw(t,e,n){n===void 0&&(n=!1);let r=typeof t=="string"?t:Fr(t);if(!e||!ck(e))return{path:r};if(e.formMethod&&!gk(e.formMethod))return{path:r,error:Di(405,{method:e.formMethod})};if(e.formMethod&&H2(e.formMethod))return{path:r,submission:{formMethod:e.formMethod,formAction:q2(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData}};let s=$r(r);try{let i=$2(e.formData);n&&s.search&&K2(s.search)&&i.append("index",""),s.search="?"+i}catch{return{path:r,error:Di(400)}}return{path:Fr(s)}}function dk(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function iw(t,e,n,r,s,i,o,a,u,d){let h=u?Object.values(u)[0]:a?Object.values(a)[0]:null,p=u?Object.keys(u)[0]:void 0,v=dk(e,p).filter((b,R)=>b.route.loader!=null&&(hk(t.loaderData,t.matches[R],b)||i.some(T=>T===b.route.id)||ow(t.location,t.matches[R],n,r,b,s,h))),y=[];return d&&d.forEach((b,R)=>{let[T,w,S]=b;o.includes(R)?y.push([R,T,w,S]):s&&ow(T,w,n,T,w,s,h)&&y.push([R,T,w,S])}),[v,y]}function hk(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function B2(t,e){let n=t.route.path;return t.pathname!==e.pathname||n&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ow(t,e,n,r,s,i,o){let a=ku(t),u=e.params,d=ku(r),h=s.params,p=B2(e,s)||a.toString()===d.toString()||a.search!==d.search||i;if(s.route.shouldRevalidate){let m=s.route.shouldRevalidate(ut({currentUrl:a,currentParams:u,nextUrl:d,nextParams:h},n,{actionResult:o,defaultShouldRevalidate:p}));if(typeof m=="boolean")return m}return p}async function kl(t,e,n,r,s,i,o,a){s===void 0&&(s="/"),i===void 0&&(i=!1),o===void 0&&(o=!1);let u,d,h,p=new Promise((v,y)=>h=y),m=()=>h();e.signal.addEventListener("abort",m);try{let v=n.route[t];Te(v,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),d=await Promise.race([v({request:e,params:n.params,context:a}),p]),Te(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){u=Dt.error,d=v}finally{e.signal.removeEventListener("abort",m)}if(pk(d)){let v=d.status;if(sk.has(v)){let R=d.headers.get("Location");if(Te(R,"Redirects returned/thrown from loaders/actions must have a Location header"),!(/^[a-z+]+:\/\//i.test(R)||R.startsWith("//"))){let w=r.slice(0,r.indexOf(n)+1),S=pf(w).map(V=>V.pathnameBase),D=Hy(R,S,new URL(e.url).pathname);if(Te(Fr(D),"Unable to resolve redirect location: "+R),s){let V=D.pathname;D.pathname=V==="/"?s:as([s,V])}R=Fr(D)}if(i)throw d.headers.set("Location",R),d;return{type:Dt.redirect,status:v,location:R,revalidate:d.headers.get("X-Remix-Revalidate")!==null}}if(o)throw{type:u||Dt.data,response:d};let y,b=d.headers.get("Content-Type");return b&&b.startsWith("application/json")?y=await d.json():y=await d.text(),u===Dt.error?{type:u,error:new gf(v,d.statusText,y),headers:d.headers}:{type:Dt.data,data:y,statusCode:d.status,headers:d.headers}}return u===Dt.error?{type:u,error:d}:d instanceof YR?{type:Dt.deferred,deferredData:d}:{type:Dt.data,data:d}}function Nl(t,e,n){let r=ku(q2(t)).toString(),s={signal:e};if(n){let{formMethod:i,formEncType:o,formData:a}=n;s.method=i.toUpperCase(),s.body=o==="application/x-www-form-urlencoded"?$2(a):a}return new Request(r,s)}function $2(t){let e=new URLSearchParams;for(let[n,r]of t.entries())Te(typeof r=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),e.append(n,r);return e}function fk(t,e,n,r,s){let i={},o=null,a,u=!1,d={};return n.forEach((h,p)=>{let m=e[p].route.id;if(Te(!aa(h),"Cannot handle redirect results in processLoaderData"),su(h)){let v=Jo(t,m),y=h.error;r&&(y=Object.values(r)[0],r=void 0),o=Object.assign(o||{},{[v.route.id]:y}),u||(u=!0,a=U2(h.error)?h.error.status:500),h.headers&&(d[m]=h.headers)}else Fi(h)?(s&&s.set(m,h.deferredData),i[m]=h.deferredData.data):(i[m]=h.data,h.statusCode!=null&&h.statusCode!==200&&!u&&(a=h.statusCode),h.headers&&(d[m]=h.headers))}),r&&(o=r),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:d}}function aw(t,e,n,r,s,i,o,a){let{loaderData:u,errors:d}=fk(e,n,r,s,a);for(let h=0;h<i.length;h++){let[p,,m]=i[h];Te(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let v=o[h];if(su(v)){let y=Jo(t.matches,m.route.id);d&&d[y.route.id]||(d=ut({},d,{[y.route.id]:v.error})),t.fetchers.delete(p)}else{if(aa(v))throw new Error("Unhandled fetcher revalidation redirect");if(Fi(v))throw new Error("Unhandled fetcher deferred data");{let y={state:"idle",data:v.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};t.fetchers.set(p,y)}}}return{loaderData:u,errors:d}}function Vm(t,e,n){let r=ut({},e);return n.forEach(s=>{let i=s.route.id;e[i]===void 0&&t[i]!==void 0&&(r[i]=t[i])}),r}function Jo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function lw(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Di(t,e){let{pathname:n,routeId:r,method:s}=e===void 0?{}:e,i="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(i="Bad Request",s&&n&&r?o="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o="Cannot submit binary form data using GET"):t===403?(i="Forbidden",o='Route "'+r+'" does not match URL "'+n+'"'):t===404?(i="Not Found",o='No route matches URL "'+n+'"'):t===405&&(i="Method Not Allowed",s&&n&&r?o="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(o='Invalid request method "'+s.toUpperCase()+'"')),new gf(t||500,i,new Error(o),!0)}function uw(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(aa(n))return n}}function q2(t){let e=typeof t=="string"?$r(t):t;return Fr(ut({},e,{hash:""}))}function mk(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function Fi(t){return t.type===Dt.deferred}function su(t){return t.type===Dt.error}function aa(t){return(t&&t.type)===Dt.redirect}function pk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function gk(t){return rk.has(t)}function H2(t){return tk.has(t)}async function cw(t,e,n,r,s,i){for(let o=0;o<n.length;o++){let a=n[o],u=e[o],d=t.find(p=>p.route.id===u.route.id),h=d!=null&&!B2(d,u)&&(i&&i[u.route.id])!==void 0;Fi(a)&&(s||h)&&await W2(a,r,s).then(p=>{p&&(n[o]=p||n[o])})}}async function W2(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Dt.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Dt.error,error:s}}return{type:Dt.data,data:t.deferredData.data}}}function K2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function dw(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function hw(t,e){let n=typeof e=="string"?$r(e).search:e.search;if(t[t.length-1].route.index&&K2(n||""))return t[t.length-1];let r=pf(t);return r[r.length-1]}/**
 * React Router v6.4.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yh.apply(this,arguments)}function yk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const vk=typeof Object.is=="function"?Object.is:yk,{useState:_k,useEffect:wk,useLayoutEffect:xk,useDebugValue:Ek}=ap;function Tk(t,e,n){const r=e(),[{inst:s},i]=_k({inst:{value:r,getSnapshot:e}});return xk(()=>{s.value=r,s.getSnapshot=e,Fm(s)&&i({inst:s})},[t,r,e]),wk(()=>(Fm(s)&&i({inst:s}),t(()=>{Fm(s)&&i({inst:s})})),[t]),Ek(r),r}function Fm(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!vk(n,r)}catch{return!0}}function Sk(t,e,n){return e()}const bk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ik=!bk,Ck=Ik?Sk:Tk,Ak="useSyncExternalStore"in ap?(t=>t.useSyncExternalStore)(ap):Ck,Rk=F.createContext(null),Q2=F.createContext(null),fc=F.createContext(null),mc=F.createContext(null),yf=F.createContext(null),_o=F.createContext({outlet:null,matches:[]}),G2=F.createContext(null);function kk(t,e){let{relative:n}=e===void 0?{}:e;Ja()||Te(!1);let{basename:r,navigator:s}=F.useContext(mc),{hash:i,pathname:o,search:a}=Wy(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:as([r,o])),s.createHref({pathname:u,search:a,hash:i})}function Ja(){return F.useContext(yf)!=null}function wo(){return Ja()||Te(!1),F.useContext(yf).location}function xo(){Ja()||Te(!1);let{basename:t,navigator:e}=F.useContext(mc),{matches:n}=F.useContext(_o),{pathname:r}=wo(),s=JSON.stringify(pf(n).map(a=>a.pathnameBase)),i=F.useRef(!1);return F.useEffect(()=>{i.current=!0}),F.useCallback(function(a,u){if(u===void 0&&(u={}),!i.current)return;if(typeof a=="number"){e.go(a);return}let d=Hy(a,JSON.parse(s),r,u.relative==="path");t!=="/"&&(d.pathname=d.pathname==="/"?t:as([t,d.pathname])),(u.replace?e.replace:e.push)(d,u.state,u)},[t,e,s,r])}const Z2=F.createContext(null);function J2(){return F.useContext(Z2)}function Nk(t){let e=F.useContext(_o).outlet;return e&&F.createElement(Z2.Provider,{value:t},e)}function Pk(){let{matches:t}=F.useContext(_o),e=t[t.length-1];return e?e.params:{}}function Wy(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=F.useContext(_o),{pathname:s}=wo(),i=JSON.stringify(pf(r).map(o=>o.pathnameBase));return F.useMemo(()=>Hy(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function jk(t,e){Ja()||Te(!1);let{navigator:n}=F.useContext(mc),r=F.useContext(fc),{matches:s}=F.useContext(_o),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let u=wo(),d;if(e){var h;let b=typeof e=="string"?$r(e):e;a==="/"||(h=b.pathname)!=null&&h.startsWith(a)||Te(!1),d=b}else d=u;let p=d.pathname||"/",m=a==="/"?p:p.slice(a.length)||"/",v=Fl(t,{pathname:m}),y=Mk(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:as([a,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?a:as([a,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r||void 0);return e&&y?F.createElement(yf.Provider,{value:{location:yh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Et.Pop}},y):y}function Ok(){let t=Fk(),e=U2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unhandled Thrown Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:s},n):null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own",F.createElement("code",{style:i},"errorElement")," props on",F.createElement("code",{style:i},"<Route>")))}class Dk extends F.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?F.createElement(G2.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function Lk(t){let{routeContext:e,match:n,children:r}=t,s=F.useContext(Rk);return s&&n.route.errorElement&&(s._deepestRenderedBoundaryId=n.route.id),F.createElement(_o.Provider,{value:e},r)}function Mk(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,s=n==null?void 0:n.errors;if(s!=null){let i=r.findIndex(o=>o.route.id&&(s==null?void 0:s[o.route.id]));i>=0||Te(!1),r=r.slice(0,Math.min(r.length,i+1))}return r.reduceRight((i,o,a)=>{let u=o.route.id?s==null?void 0:s[o.route.id]:null,d=n?o.route.errorElement||F.createElement(Ok,null):null,h=()=>F.createElement(Lk,{match:o,routeContext:{outlet:i,matches:e.concat(r.slice(0,a+1))}},u?d:o.route.element!==void 0?o.route.element:i);return n&&(o.route.errorElement||a===0)?F.createElement(Dk,{location:n.location,component:d,error:u,children:h()}):h()},null)}var fw;(function(t){t.UseRevalidator="useRevalidator"})(fw||(fw={}));var tg;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(tg||(tg={}));function Vk(t){let e=F.useContext(fc);return e||Te(!1),e}function Fk(){var t;let e=F.useContext(G2),n=Vk(tg.UseRouteError),r=F.useContext(_o),s=r.matches[r.matches.length-1];return e||(r||Te(!1),s.route.id||Te(!1),(t=n.errors)==null?void 0:t[s.route.id])}function Uk(t){let{fallbackElement:e,router:n}=t,r=Ak(n.subscribe,()=>n.state,()=>n.state),s=F.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:o=>n.navigate(o),push:(o,a,u)=>n.navigate(o,{state:a,preventScrollReset:u==null?void 0:u.preventScrollReset}),replace:(o,a,u)=>n.navigate(o,{replace:!0,state:a,preventScrollReset:u==null?void 0:u.preventScrollReset})}),[n]),i=n.basename||"/";return F.createElement(Q2.Provider,{value:{router:n,navigator:s,static:!1,basename:i}},F.createElement(fc.Provider,{value:r},F.createElement(zk,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?F.createElement(Bk,null):e)))}function ng(t){let{to:e,replace:n,state:r,relative:s}=t;Ja()||Te(!1);let i=F.useContext(fc),o=xo();return F.useEffect(()=>{i&&i.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:s})}),null}function Ky(t){return Nk(t.context)}function mt(t){Te(!1)}function zk(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Et.Pop,navigator:i,static:o=!1}=t;Ja()&&Te(!1);let a=e.replace(/^\/*/,"/"),u=F.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=$r(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:v="default"}=r,y=F.useMemo(()=>{let b=F2(d,a);return b==null?null:{pathname:b,search:h,hash:p,state:m,key:v}},[a,d,h,p,m,v]);return y==null?null:F.createElement(mc.Provider,{value:u},F.createElement(yf.Provider,{children:n,value:{location:y,navigationType:s}}))}function Bk(t){let{children:e,location:n}=t,r=F.useContext(Q2),s=r&&!e?r.router.routes:vh(e);return jk(s,n)}var mw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(mw||(mw={}));new Promise(()=>{});function vh(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(r,s)=>{if(!F.isValidElement(r))return;if(r.type===F.Fragment){n.push.apply(n,vh(r.props.children,e));return}r.type!==mt&&Te(!1),!r.props.index||!r.props.children||Te(!1);let i=[...e,s],o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=vh(r.props.children,i)),n.push(o)}),n}function Y2(t){return t.map(e=>{let n=yh({},e);return n.hasErrorBoundary==null&&(n.hasErrorBoundary=n.errorElement!=null),n.children&&(n.children=Y2(n.children)),n})}/**
 * React Router DOM v6.4.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nu.apply(this,arguments)}function X2(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function $k(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qk(t,e){return t.button===0&&(!e||e==="_self")&&!$k(t)}const Hk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Wk=["aria-current","caseSensitive","className","end","style","to","children"];function Kk(t,e){return uk({basename:void 0,history:AR({window:void 0}),hydrationData:Qk(),routes:Y2(t)}).initialize()}function Qk(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Nu({},e,{errors:Gk(e.errors)})),e}function Gk(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)s&&s.__type==="RouteErrorResponse"?n[r]=new gf(s.status,s.statusText,s.data,s.internal===!0):n[r]=s;return n}const et=F.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:d,preventScrollReset:h}=e,p=X2(e,Hk),m=kk(d,{relative:s}),v=Zk(d,{replace:o,state:a,target:u,preventScrollReset:h,relative:s});function y(b){r&&r(b),b.defaultPrevented||v(b)}return F.createElement("a",Nu({},p,{href:m,onClick:i?r:y,ref:n,target:u}))}),ir=F.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:u,children:d}=e,h=X2(e,Wk),p=Wy(u,{relative:h.relative}),m=wo(),v=F.useContext(fc),{navigator:y}=F.useContext(mc),b=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,R=m.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(R=R.toLowerCase(),T=T?T.toLowerCase():null,b=b.toLowerCase());let w=R===b||!o&&R.startsWith(b)&&R.charAt(b.length)==="/",S=T!=null&&(T===b||!o&&T.startsWith(b)&&T.charAt(b.length)==="/"),D=w?r:void 0,V;typeof i=="function"?V=i({isActive:w,isPending:S}):V=[i,w?"active":null,S?"pending":null].filter(Boolean).join(" ");let B=typeof a=="function"?a({isActive:w,isPending:S}):a;return F.createElement(et,Nu({},h,{"aria-current":D,className:V,ref:n,style:B,to:u}),typeof d=="function"?d({isActive:w,isPending:S}):d)});var pw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(pw||(pw={}));var gw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gw||(gw={}));function Zk(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=xo(),u=wo(),d=Wy(t,{relative:o});return F.useCallback(h=>{if(qk(h,n)){h.preventDefault();let p=r!==void 0?r:Fr(u)===Fr(d);a(t,{replace:p,state:s,preventScrollReset:i,relative:o})}},[u,a,d,r,s,n,t,i,o])}function eT(){return c.jsxs("h1",{className:"font-bold text-3xl sm:text-2xl ",children:[" ",c.jsx(et,{to:"/",children:"Amabilis."})," "]})}var jt=[];for(var Um=0;Um<256;++Um)jt.push((Um+256).toString(16).slice(1));function Jk(t,e=0){return(jt[t[e+0]]+jt[t[e+1]]+jt[t[e+2]]+jt[t[e+3]]+"-"+jt[t[e+4]]+jt[t[e+5]]+"-"+jt[t[e+6]]+jt[t[e+7]]+"-"+jt[t[e+8]]+jt[t[e+9]]+"-"+jt[t[e+10]]+jt[t[e+11]]+jt[t[e+12]]+jt[t[e+13]]+jt[t[e+14]]+jt[t[e+15]]).toLowerCase()}var md,Yk=new Uint8Array(16);function Xk(){if(!md&&(md=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!md))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return md(Yk)}var eN=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const yw={randomUUID:eN};function di(t,e,n){if(yw.randomUUID&&!e&&!t)return yw.randomUUID();t=t||{};var r=t.random||(t.rng||Xk)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Jk(r)}var tT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vw=ct.createContext&&ct.createContext(tT),tN=["attr","size","title"];function nN(t,e){if(t==null)return{};var n=rN(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rN(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _h(){return _h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_h.apply(this,arguments)}function _w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function wh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_w(Object(n),!0).forEach(function(r){sN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_w(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sN(t,e,n){return e=iN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iN(t){var e=oN(t,"string");return typeof e=="symbol"?e:e+""}function oN(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nT(t){return t&&t.map((e,n)=>ct.createElement(e.tag,wh({key:n},e.attr),nT(e.child)))}function je(t){return e=>ct.createElement(aN,_h({attr:wh({},t.attr)},e),nT(t.child))}function aN(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=nN(t,tN),a=s||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),ct.createElement("svg",_h({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:wh(wh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&ct.createElement("title",null,i),t.children)};return vw!==void 0?ct.createElement(vw.Consumer,null,n=>e(n)):e(tT)}function lN(t){return je({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 17.59 7.41 19 12 14.42 16.59 19 18 17.59l-6-6z"},child:[]},{tag:"path",attr:{d:"m6 11 1.41 1.41L12 7.83l4.59 4.58L18 11l-6-6z"},child:[]}]})(t)}function uN(t){return je({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 1.74.5 3.37 1.41 4.84.95 1.54 2.2 2.86 3.16 4.4.47.75.81 1.45 1.17 2.26.26.55.47 1.5 1.26 1.5s1-.95 1.25-1.5c.37-.81.7-1.51 1.17-2.26.96-1.53 2.21-2.85 3.16-4.4C18.5 12.37 19 10.74 19 9c0-3.87-3.13-7-7-7zm0 9.75a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(t)}function cN(t){return je({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}function dN(t){return je({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"},child:[]}]})(t)}function hN(t){return je({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"},child:[]}]})(t)}function fN(){const[t,e]=F.useState(!1);F.useEffect(()=>{const r=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return c.jsx(c.Fragment,{children:t&&c.jsx("button",{className:"fixed bottom-8 right-8 h-10 w-10 bg-lilac flex justify-center items-center rounded-full z-50 ",onClick:n,children:c.jsx(lN,{className:"size-5 text-white hover:animate-bounce"})})})}function mN(){const t=[{title:"ABOUT US",items:["About us","Store location","Contact","Orders tracking"]},{title:"USEFUL LINKS",items:["Returns","Support Policy","Size guide","FAQs"]},{title:"FOLLOW US",items:["Facebook","Twitter","Instagram","Youtube"]}];return c.jsxs("footer",{className:" w-full bg-light-gray py-24 px-20 md:h-fit md:px-8 sm:h-fit sm:py-12 sm:px-4 ",children:[c.jsxs("div",{className:" max-w-7xl mx-auto grid grid-cols-5 md:grid-cols-3 md:gap-y-8 sm:grid-cols-1 sm:gap-y-8 ",children:[c.jsxs("div",{className:"flex flex-col justify-center md:justify-start",children:[c.jsx(eT,{}),c.jsx("p",{className:"text-gray-500 md:text-sm sm:text-sm sm:mt-2",children:" 2024 Amabilis."}),c.jsx("p",{className:"text-gray-500 md:text-sm ",children:"All Rights Reserved"})]}),t.map(e=>c.jsxs("div",{children:[c.jsx("h4",{className:" font-medium ",children:e.title}),c.jsx("ul",{children:e.items.map(n=>c.jsx("li",{className:" mt-4 text-gray-500 hover:text-lilac cursor-pointer transition-all duration-300 ease-in-out md:text-sm sm:text-sm ",children:n},di()))})]},di())),c.jsxs("div",{className:" md:col-span-2 ",children:[c.jsx("h4",{className:" font-medium ",children:"SUBSCRIBE"}),c.jsx("p",{className:"mt-4 md:text-sm sm:text-sm",children:"Get E-mail updates about our latest shop and special offers."}),c.jsx("input",{type:"email",placeholder:"Enter your email here...",className:" w-full block bg-inherit focus:outline-none py-3 border-b-2 md:text-sm sm:text-sm "}),c.jsx("input",{type:"submit",value:"SUBSCRIBE",className:"mt-2 border-b-2 border-gray-400 hover:text-lilac hover:border-lilac transition-all duration-300 ease-in-out md:text-sm sm:text-sm "})]})]}),c.jsx(fN,{})]})}function pN(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function gN(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C148.5 48 60.1 129.5 49.2 234.1c-.8 7.2-1.2 14.5-1.2 21.9 0 7.4.4 14.7 1.2 21.9C60.1 382.5 148.5 464 256 464c114.9 0 208-93.1 208-208S370.9 48 256 48zm135.8 326.1c-22.7-8.6-59.5-21.2-82.4-28-2.4-.7-2.7-.9-2.7-10.7 0-8.1 3.3-16.3 6.6-23.3 3.6-7.5 7.7-20.2 9.2-31.6 4.2-4.9 10-14.5 13.6-32.9 3.2-16.2 1.7-22.1-.4-27.6-.2-.6-.5-1.2-.6-1.7-.8-3.8.3-23.5 3.1-38.8 1.9-10.5-.5-32.8-14.9-51.3-9.1-11.7-26.6-26-58.5-28h-17.5c-31.4 2-48.8 16.3-58 28-14.5 18.5-16.9 40.8-15 51.3 2.8 15.3 3.9 35 3.1 38.8-.2.7-.4 1.2-.6 1.8-2.1 5.5-3.7 11.4-.4 27.6 3.7 18.4 9.4 28 13.6 32.9 1.5 11.4 5.7 24 9.2 31.6 2.6 5.5 3.8 13 3.8 23.6 0 9.9-.4 10-2.6 10.7-23.7 7-58.9 19.4-80 27.8C91.6 341.4 76 299.9 76 256c0-48.1 18.7-93.3 52.7-127.3S207.9 76 256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256c0 43.9-15.6 85.4-44.2 118.1z"},child:[]}]})(t)}function ww(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M443.5 420.2L336.7 312.4c20.9-26.2 33.5-59.4 33.5-95.5 0-84.5-68.5-153-153.1-153S64 132.5 64 217s68.5 153 153.1 153c36.6 0 70.1-12.8 96.5-34.2l106.1 107.1c3.2 3.4 7.6 5.1 11.9 5.1 4.1 0 8.2-1.5 11.3-4.5 6.6-6.3 6.8-16.7.6-23.3zm-226.4-83.1c-32.1 0-62.3-12.5-85-35.2-22.7-22.7-35.2-52.9-35.2-84.9 0-32.1 12.5-62.3 35.2-84.9 22.7-22.7 52.9-35.2 85-35.2s62.3 12.5 85 35.2c22.7 22.7 35.2 52.9 35.2 84.9 0 32.1-12.5 62.3-35.2 84.9-22.7 22.7-52.9 35.2-85 35.2z"},child:[]}]})(t)}function yN(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}function vN(){const t=[{title:"English",items:["Arabic","Bangla","Hindi","Spanish"]},{title:"USD",items:["Taka (BDT)","Naira (NGN)","Riyal (SAR)","Rupee (INR)"]}],[e,n]=F.useState(null),r=s=>{n(e===s?null:s)};return c.jsxs("div",{className:" h-14 leading-4 text-sm flex justify-between px-16 text-gray-500 border-b sm:flex-col sm:items-center sm:h-fit sm:py-3 sm:px-4",children:[c.jsxs("div",{className:"flex items-center h-full ",children:[t.map((s,i)=>c.jsxs("div",{className:" relative border-r-2 mr-4 sm:mr-2 ",children:[c.jsxs(et,{to:"#",onClick:()=>r(i),className:"hover:text-lilac transition-all duration-300 ease-in flex items-center mr-4",children:[s.title,c.jsx(pN,{className:"inline-block ml-1 sm:ml-2"})]}),e===i&&c.jsx("div",{className:"absolute bg-white shadow-md left-0 top-full pt-2 px-3 pb-3 text-left w-32 z-[52] transition-all duration-300 ease-in flex items-center",children:c.jsx("ul",{children:s.items.map(o=>c.jsx("li",{className:"hover:text-lilac",children:c.jsx(et,{to:"#",className:"block py-1 px-2",children:o})},di()))})})]},di())),c.jsx("div",{children:"Call Us 3965410"})]}),c.jsx("div",{className:"flex h-full items-center sm:mt-4",children:c.jsxs("p",{children:["Free delivery on order over ",c.jsx("span",{className:"text-red-500",children:"$200"})," "]})})]})}function _N(){return c.jsx(c.Fragment,{children:c.jsx(vN,{})})}function hi(t){return je({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Heart"},child:[{tag:"path",attr:{d:"M12,20.043a.977.977,0,0,1-.7-.288L4.63,13.08A5.343,5.343,0,0,1,6.053,4.513,5.266,5.266,0,0,1,12,5.371a5.272,5.272,0,0,1,5.947-.858A5.343,5.343,0,0,1,19.37,13.08l-6.676,6.675A.977.977,0,0,1,12,20.043ZM8.355,4.963A4.015,4.015,0,0,0,6.511,5.4,4.4,4.4,0,0,0,4.122,8.643a4.345,4.345,0,0,0,1.215,3.73l6.675,6.675,6.651-6.675a4.345,4.345,0,0,0,1.215-3.73A4.4,4.4,0,0,0,17.489,5.4a4.338,4.338,0,0,0-4.968.852h0a.744.744,0,0,1-1.042,0A4.474,4.474,0,0,0,8.355,4.963Z"},child:[]}]}]})(t)}function wN(t){return je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.0049 13.0028C13.6617 13.0028 15.0049 14.346 15.0049 16.0028C15.0049 16.8519 14.6521 17.6187 14.0851 18.1645L12.175 20.0024L15.0049 20.0028V22.0028H9.00488L9.00398 20.2784L12.6983 16.7234C12.8874 16.5411 13.0049 16.2857 13.0049 16.0028C13.0049 15.4505 12.5572 15.0028 12.0049 15.0028C11.4526 15.0028 11.0049 15.4505 11.0049 16.0028H9.00488C9.00488 14.346 10.348 13.0028 12.0049 13.0028ZM18.0049 13.0028V17.0028H20.0049V13.0028H22.0049V22.0028H20.0049V19.0028H16.0049V13.0028H18.0049ZM4.00488 12.0028C4.00488 14.5294 5.17612 16.7824 7.00527 18.2485L7.0049 20.665C4.01588 18.9359 2.00488 15.7042 2.00488 12.0028H4.00488ZM12.0049 2.00281C17.1902 2.00281 21.4537 5.94943 21.9555 11.0027L19.943 11.0029C19.4509 7.05652 16.0845 4.00281 12.0049 4.00281C9.54102 4.00281 7.33731 5.11664 5.8698 6.86824L8.00488 9.00281H2.00488V3.00281L4.45144 5.44929C6.28491 3.3379 8.98898 2.00281 12.0049 2.00281Z"},child:[]}]})(t)}function xN(t){return je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.37833 4.51335C7.14264 2.95113 9.46301 2.00275 12.0049 2.00275C17.5277 2.00275 22.0049 6.4799 22.0049 12.0027C22.0049 14.1277 21.3421 16.0978 20.212 17.7177L17.5049 12.0027H20.0049C20.0049 7.58447 16.4232 4.00275 12.0049 4.00275C9.76058 4.00275 7.73213 4.92691 6.27932 6.41544L5.37833 4.51335ZM18.6314 19.4921C16.8671 21.0544 14.5468 22.0027 12.0049 22.0027C6.48204 22.0027 2.00488 17.5256 2.00488 12.0027C2.00488 9.8778 2.66767 7.90766 3.79778 6.28776L6.50488 12.0027H4.00488C4.00488 16.421 7.5866 20.0027 12.0049 20.0027C14.2492 20.0027 16.2776 19.0786 17.7304 17.59L18.6314 19.4921ZM8.50488 14.0027H14.0049C14.281 14.0027 14.5049 13.7789 14.5049 13.5027C14.5049 13.2266 14.281 13.0027 14.0049 13.0027H10.0049C8.62417 13.0027 7.50488 11.8835 7.50488 10.5027C7.50488 9.12203 8.62417 8.00275 10.0049 8.00275H11.0049V7.00275H13.0049V8.00275H15.5049V10.0027H10.0049C9.72874 10.0027 9.50488 10.2266 9.50488 10.5027C9.50488 10.7789 9.72874 11.0027 10.0049 11.0027H14.0049C15.3856 11.0027 16.5049 12.122 16.5049 13.5027C16.5049 14.8835 15.3856 16.0027 14.0049 16.0027H13.0049V17.0027H11.0049V16.0027H8.50488V14.0027Z"},child:[]}]})(t)}function rT(t){return je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20.0049 22H4.00488C3.4526 22 3.00488 21.5523 3.00488 21V3C3.00488 2.44772 3.4526 2 4.00488 2H20.0049C20.5572 2 21.0049 2.44772 21.0049 3V21C21.0049 21.5523 20.5572 22 20.0049 22ZM19.0049 20V4H5.00488V20H19.0049ZM9.00488 6V8C9.00488 9.65685 10.348 11 12.0049 11C13.6617 11 15.0049 9.65685 15.0049 8V6H17.0049V8C17.0049 10.7614 14.7663 13 12.0049 13C9.24346 13 7.00488 10.7614 7.00488 8V6H9.00488Z"},child:[]}]})(t)}const gr=F.createContext(null),EN=({children:t})=>{const[e,n]=F.useState(()=>{const y=localStorage.getItem("cart");return y?JSON.parse(y):[]}),[r,s]=F.useState(0),[i,o]=F.useState("");F.useEffect(()=>{s(e.length),localStorage.setItem("cart",JSON.stringify(e))},[e]);const a=y=>{n(b=>b.find(T=>T.id===y.id)?b.map(T=>T.id===y.id?{...T,quantity:T.quantity+(y.quantity||1)}:T):[...b,{...y,quantity:y.quantity||1}]),o("Item added to cart"),setTimeout(()=>o(""),3e3)};function u(y){const b=e.filter(R=>R.id!==y);n(b),o("Item removed from cart"),setTimeout(()=>o(""),3e3)}function d(y){n(b=>b.map(R=>R.id===y?{...R,quantity:R.quantity+1}:R))}function h(y){n(b=>b.map(R=>R.id===y&&R.quantity>1?{...R,quantity:R.quantity-1}:R))}function p(y){return Number((y.price*y.quantity).toFixed(2))}function m(){const y=e.reduce((b,R)=>b+p(R),0);return Number(y.toFixed(2))}function v(){n([]),o("Cart is empty"),setTimeout(()=>o(""),3e3)}return c.jsx(gr.Provider,{value:{cart:e,setCart:n,cartCount:r,setCartCount:s,addToCart:a,removeFromCart:u,incrementItemQuantity:d,decrementItemQuantity:h,getTotalPriceForItem:p,getTotalPriceOfCart:m,clearCart:v,cartMessage:i,setCartMessage:o},children:t})};var xw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},TN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},iT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let m=(a&15)<<2|d>>6,v=d&63;u||(v=64,o||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||p==null)throw new SN;const m=i<<2|a>>4;if(r.push(m),d!==64){const v=a<<4&240|d>>2;if(r.push(v),p!==64){const y=d<<6&192|p;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bN=function(t){const e=sT(t);return iT.encodeByteArray(e,!0)},xh=function(t){return bN(t).replace(/\./g,"")},oT=function(t){try{return iT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=()=>IN().__FIREBASE_DEFAULTS__,AN=()=>{if(typeof process>"u"||typeof xw>"u")return;const t=xw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oT(t[1]);return e&&JSON.parse(e)},vf=()=>{try{return CN()||AN()||RN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aT=t=>{var e,n;return(n=(e=vf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kN=t=>{const e=aT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lT=()=>{var t;return(t=vf())===null||t===void 0?void 0:t.config},uT=t=>{var e;return(e=vf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xh(JSON.stringify(n)),xh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function ON(){var t;const e=(t=vf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VN(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FN(){return!ON()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UN(){try{return typeof indexedDB=="object"}catch{return!1}}function zN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="FirebaseError";class xs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BN,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?$N(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new xs(s,a,r)}}function $N(t,e){return t.replace(qN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const qN=/\{\$([^}]+)}/g;function HN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Eh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Ew(i)&&Ew(o)){if(!Eh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ew(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ul(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function zl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function WN(t,e){const n=new KN(t,e);return n.subscribe.bind(n)}class KN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=zm),s.error===void 0&&(s.error=zm),s.complete===void 0&&(s.complete=zm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class ao{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new NN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JN(e))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oi){return this.instances.has(e)}getOptions(e=Oi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oi){return this.component?this.component.multipleInstances?e:Oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZN(t){return t===Oi?void 0:t}function JN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const XN={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},eP=ke.INFO,tP={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},nP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=tP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qy{constructor(e){this.name=e,this._logLevel=eP,this._logHandler=nP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const rP=(t,e)=>e.some(n=>t instanceof n);let Tw,Sw;function sP(){return Tw||(Tw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iP(){return Sw||(Sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cT=new WeakMap,rg=new WeakMap,dT=new WeakMap,Bm=new WeakMap,Gy=new WeakMap;function oP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ii(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cT.set(n,t)}).catch(()=>{}),Gy.set(e,t),e}function aP(t){if(rg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});rg.set(t,e)}let sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lP(t){sg=t(sg)}function uP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($m(this),e,...n);return dT.set(r,e.sort?e.sort():[e]),ii(r)}:iP().includes(t)?function(...e){return t.apply($m(this),e),ii(cT.get(this))}:function(...e){return ii(t.apply($m(this),e))}}function cP(t){return typeof t=="function"?uP(t):(t instanceof IDBTransaction&&aP(t),rP(t,sP())?new Proxy(t,sg):t)}function ii(t){if(t instanceof IDBRequest)return oP(t);if(Bm.has(t))return Bm.get(t);const e=cP(t);return e!==t&&(Bm.set(t,e),Gy.set(e,t)),e}const $m=t=>Gy.get(t);function dP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ii(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ii(o.result),u.oldVersion,u.newVersion,ii(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const hP=["get","getKey","getAll","getAllKeys","count"],fP=["put","add","delete","clear"],qm=new Map;function bw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qm.get(e))return qm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=fP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||hP.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&u.done]))[0]};return qm.set(e,i),i}lP(t=>({...t,get:(e,n,r)=>bw(e,n)||t.get(e,n,r),has:(e,n)=>!!bw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ig="@firebase/app",Iw="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Qy("@firebase/app"),gP="@firebase/app-compat",yP="@firebase/analytics-compat",vP="@firebase/analytics",_P="@firebase/app-check-compat",wP="@firebase/app-check",xP="@firebase/auth",EP="@firebase/auth-compat",TP="@firebase/database",SP="@firebase/database-compat",bP="@firebase/functions",IP="@firebase/functions-compat",CP="@firebase/installations",AP="@firebase/installations-compat",RP="@firebase/messaging",kP="@firebase/messaging-compat",NP="@firebase/performance",PP="@firebase/performance-compat",jP="@firebase/remote-config",OP="@firebase/remote-config-compat",DP="@firebase/storage",LP="@firebase/storage-compat",MP="@firebase/firestore",VP="@firebase/vertexai-preview",FP="@firebase/firestore-compat",UP="firebase",zP="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="[DEFAULT]",BP={[ig]:"fire-core",[gP]:"fire-core-compat",[vP]:"fire-analytics",[yP]:"fire-analytics-compat",[wP]:"fire-app-check",[_P]:"fire-app-check-compat",[xP]:"fire-auth",[EP]:"fire-auth-compat",[TP]:"fire-rtdb",[SP]:"fire-rtdb-compat",[bP]:"fire-fn",[IP]:"fire-fn-compat",[CP]:"fire-iid",[AP]:"fire-iid-compat",[RP]:"fire-fcm",[kP]:"fire-fcm-compat",[NP]:"fire-perf",[PP]:"fire-perf-compat",[jP]:"fire-rc",[OP]:"fire-rc-compat",[DP]:"fire-gcs",[LP]:"fire-gcs-compat",[MP]:"fire-fst",[FP]:"fire-fst-compat",[VP]:"fire-vertex","fire-js":"fire-js",[UP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,$P=new Map,ag=new Map;function Cw(t,e){try{t.container.addComponent(e)}catch(n){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oa(t){const e=t.name;if(ag.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;ag.set(e,t);for(const n of Th.values())Cw(n,t);for(const n of $P.values())Cw(n,t);return!0}function Zy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new pc("app","Firebase",qP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=zP;function hT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:og,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw oi.create("bad-app-name",{appName:String(s)});if(n||(n=lT()),!n)throw oi.create("no-options");const i=Th.get(s);if(i){if(Eh(n,i.options)&&Eh(r,i.config))return i;throw oi.create("duplicate-app",{appName:s})}const o=new YN(s);for(const u of ag.values())o.addComponent(u);const a=new HP(n,r,o);return Th.set(s,a),a}function fT(t=og){const e=Th.get(t);if(!e&&t===og&&lT())return hT();if(!e)throw oi.create("no-app",{appName:t});return e}function ai(t,e,n){var r;let s=(r=BP[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(a.join(" "));return}Oa(new ao(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="firebase-heartbeat-database",KP=1,Pu="firebase-heartbeat-store";let Hm=null;function mT(){return Hm||(Hm=dP(WP,KP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pu)}catch(n){console.warn(n)}}}}).catch(t=>{throw oi.create("idb-open",{originalErrorMessage:t.message})})),Hm}async function QP(t){try{const n=(await mT()).transaction(Pu),r=await n.objectStore(Pu).get(pT(t));return await n.done,r}catch(e){if(e instanceof xs)ms.warn(e.message);else{const n=oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ms.warn(n.message)}}}async function Aw(t,e){try{const r=(await mT()).transaction(Pu,"readwrite");await r.objectStore(Pu).put(e,pT(t)),await r.done}catch(n){if(n instanceof xs)ms.warn(n.message);else{const r=oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ms.warn(r.message)}}}function pT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=1024,ZP=30*24*60*60*1e3;class JP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Rw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=ZP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ms.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rw(),{heartbeatsToSend:r,unsentEntries:s}=YP(this._heartbeatsCache.heartbeats),i=xh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ms.warn(n),""}}}function Rw(){return new Date().toISOString().substring(0,10)}function YP(t,e=GP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),kw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),kw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UN()?zN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Aw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Aw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function kw(t){return xh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t){Oa(new ao("platform-logger",e=>new mP(e),"PRIVATE")),Oa(new ao("heartbeat",e=>new JP(e),"PRIVATE")),ai(ig,Iw,t),ai(ig,Iw,"esm2017"),ai("fire-js","")}e4("");function Jy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function gT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t4=gT,yT=new pc("auth","Firebase",gT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Qy("@firebase/auth");function n4(t,...e){Sh.logLevel<=ke.WARN&&Sh.warn(`Auth (${Ya}): ${t}`,...e)}function Od(t,...e){Sh.logLevel<=ke.ERROR&&Sh.error(`Auth (${Ya}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,...e){throw Yy(t,...e)}function jr(t,...e){return Yy(t,...e)}function vT(t,e,n){const r=Object.assign(Object.assign({},t4()),{[e]:n});return new pc("auth","Firebase",r).create(e,{appName:t.name})}function ls(t){return vT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yT.create(t,...e)}function me(t,e,...n){if(!t)throw Yy(e,...n)}function rs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Od(e),new Error(e)}function ps(t,e){t||rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function r4(){return Nw()==="http:"||Nw()==="https:"}function Nw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r4()||LN()||"connection"in navigator)?navigator.onLine:!0}function i4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ps(n>e,"Short delay should be less than long delay!"),this.isMobile=jN()||MN()}get(){return s4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t,e){ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new yc(3e4,6e4);function Ti(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Si(t,e,n,r,s={}){return wT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=gc(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:u},i);return DN()||(d.referrerPolicy="no-referrer"),_T.fetch()(xT(t,t.config.apiHost,n,a),d)})}async function wT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},o4),e);try{const s=new u4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw pd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw pd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw pd(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw vT(t,h,d);fr(t,h)}}catch(s){if(s instanceof xs)throw s;fr(t,"network-request-failed",{message:String(s)})}}async function vc(t,e,n,r,s={}){const i=await Si(t,e,n,r,s);return"mfaPendingCredential"in i&&fr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function xT(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Xy(t.config,s):`${t.config.apiScheme}://${s}`}function l4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class u4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jr(this.auth,"network-request-failed")),a4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=jr(t,e,r);return s.customData._tokenResponse=n,s}function Pw(t){return t!==void 0&&t.enterprise!==void 0}class c4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return l4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function d4(t,e){return Si(t,"GET","/v2/recaptchaConfig",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(t,e){return Si(t,"POST","/v1/accounts:delete",e)}async function ET(t,e){return Si(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function f4(t,e=!1){const n=Bt(t),r=await n.getIdToken(e),s=ev(r);me(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:iu(Wm(s.auth_time)),issuedAtTime:iu(Wm(s.iat)),expirationTime:iu(Wm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Wm(t){return Number(t)*1e3}function ev(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{const s=oT(n);return s?JSON.parse(s):(Od("Failed to decode base64 JWT payload"),null)}catch(s){return Od("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function jw(t){const e=ev(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xs&&m4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function m4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ju(t,ET(n,{idToken:r}));me(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?TT(i.providerUserInfo):[],a=y4(t.providerData,o),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=u?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ug(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function g4(t){const e=Bt(t);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function y4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function TT(t){return t.map(e=>{var{providerId:n}=e,r=Jy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v4(t,e){const n=await wT(t,{},async()=>{const r=gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=xT(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_T.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _4(t,e){return Si(t,"POST","/v2/accounts:revokeToken",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=jw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await v4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new la;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(me(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(me(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new la,this.toJSON())}_performRefresh(){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ss{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Jy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ug(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ju(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return f4(this,e)}reload(){return g4(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rr(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await ju(this,h4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,u,d,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(d=n.createdAt)!==null&&d!==void 0?d:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:S,emailVerified:D,isAnonymous:V,providerData:B,stsTokenManager:I}=n;me(S&&I,e,"internal-error");const _=la.fromJSON(this.name,I);me(typeof S=="string",e,"internal-error"),As(p,e.name),As(m,e.name),me(typeof D=="boolean",e,"internal-error"),me(typeof V=="boolean",e,"internal-error"),As(v,e.name),As(y,e.name),As(b,e.name),As(R,e.name),As(T,e.name),As(w,e.name);const C=new ss({uid:S,auth:e,email:m,emailVerified:D,displayName:p,isAnonymous:V,photoURL:y,phoneNumber:v,tenantId:b,stsTokenManager:_,createdAt:T,lastLoginAt:w});return B&&Array.isArray(B)&&(C.providerData=B.map(k=>Object.assign({},k))),R&&(C._redirectEventId=R),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new la;s.updateFromServerResponse(n);const i=new ss({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await bh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];me(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?TT(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new la;a.updateFromIdToken(r);const u=new ss({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ug(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=new Map;function is(t){ps(t instanceof Function,"Expected a class definition");let e=Ow.get(t);return e?(ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ow.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ST.type="NONE";const Dw=ST;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t,e,n){return`firebase:${t}:${e}:${n}`}class ua{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Dd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Dd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ss._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ua(is(Dw),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||is(Dw);const o=Dd(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){const p=ss._fromJSON(e,h);d!==i&&(a=p),i=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new ua(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new ua(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kT(e))return"Blackberry";if(NT(e))return"Webos";if(IT(e))return"Safari";if((e.includes("chrome/")||CT(e))&&!e.includes("edge/"))return"Chrome";if(RT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bT(t=sn()){return/firefox\//i.test(t)}function IT(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CT(t=sn()){return/crios\//i.test(t)}function AT(t=sn()){return/iemobile/i.test(t)}function RT(t=sn()){return/android/i.test(t)}function kT(t=sn()){return/blackberry/i.test(t)}function NT(t=sn()){return/webos/i.test(t)}function tv(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function w4(t=sn()){var e;return tv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function x4(){return VN()&&document.documentMode===10}function PT(t=sn()){return tv(t)||RT(t)||NT(t)||kT(t)||/windows phone/i.test(t)||AT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t,e=[]){let n;switch(t){case"Browser":n=Lw(sn());break;case"Worker":n=`${Lw(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ya}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(t,e={}){return Si(t,"GET","/v2/passwordPolicy",Ti(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=6;class b4{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:S4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mw(this),this.idTokenSubscription=new Mw(this),this.beforeStateQueue=new E4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ua.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ET(this,{idToken:e}),r=await ss._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Rr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=i4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rr(this.app))return Promise.reject(ls(this));const n=e?Bt(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rr(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rr(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T4(this),n=new b4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&is(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await ua.create(this,[is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&n4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Eo(t){return Bt(t)}class Mw{constructor(e){this.auth=e,this.observer=null,this.addObserver=WN(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C4(t){_f=t}function OT(t){return _f.loadJS(t)}function A4(){return _f.recaptchaEnterpriseScript}function R4(){return _f.gapiScript}function k4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const N4="recaptcha-enterprise",P4="NO_RECAPTCHA";class j4{constructor(e){this.type=N4,this.auth=Eo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{d4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new c4(u);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;Pw(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(P4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Pw(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=A4();u.length!==0&&(u+=a),OT(u).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function Vw(t,e,n,r=!1){const s=new j4(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function cg(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Vw(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Vw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t,e){const n=Zy(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Eh(i,e??{}))return s;fr(s,"already-initialized")}return n.initialize({options:e})}function D4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(is);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function L4(t,e,n){const r=Eo(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=DT(e),{host:o,port:a}=M4(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),V4()}function DT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function M4(t){const e=DT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Fw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Fw(o)}}}function Fw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function V4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,n){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function F4(t,e){return Si(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(t,e){return vc(t,"POST","/v1/accounts:signInWithPassword",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(t,e){return vc(t,"POST","/v1/accounts:signInWithEmailLink",Ti(t,e))}async function B4(t,e){return vc(t,"POST","/v1/accounts:signInWithEmailLink",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends nv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ou(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ou(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,n,"signInWithPassword",U4);case"emailLink":return z4(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,r,"signUpPassword",F4);case"emailLink":return B4(e,{idToken:n,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t,e){return vc(t,"POST","/v1/accounts:signInWithIdp",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="http://localhost";class lo extends nv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Jy(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new lo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ca(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ca(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ca(e,n)}buildRequest(){const e={requestUri:$4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H4(t){const e=Ul(zl(t)).link,n=e?Ul(zl(e)).deep_link_id:null,r=Ul(zl(t)).deep_link_id;return(r?Ul(zl(r)).link:null)||r||n||e||t}class rv{constructor(e){var n,r,s,i,o,a;const u=Ul(zl(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=q4((s=u.mode)!==null&&s!==void 0?s:null);me(d&&h&&p,"argument-error"),this.apiKey=d,this.operation=p,this.code=h,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=H4(e);try{return new rv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.providerId=Xa.PROVIDER_ID}static credential(e,n){return Ou._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=rv.parseLink(n);return me(r,"argument-error"),Ou._fromEmailAndCode(e,r.code,r.tenantId)}}Xa.PROVIDER_ID="password";Xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends LT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends _c{constructor(){super("facebook.com")}static credential(e){return lo._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lo._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ls.credential(n,r)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends _c{constructor(){super("github.com")}static credential(e){return lo._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends _c{constructor(){super("twitter.com")}static credential(e,n){return lo._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vs.credential(n,r)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W4(t,e){return vc(t,"POST","/v1/accounts:signUp",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ss._fromIdTokenResponse(e,r,s),o=Uw(r);return new uo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Uw(r);return new uo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Uw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends xs{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ih(e,n,r,s)}}function MT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(t,i,e,r):i})}async function K4(t,e,n=!1){const r=await ju(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return uo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(t,e,n=!1){const{auth:r}=t;if(Rr(r.app))return Promise.reject(ls(r));const s="reauthenticate";try{const i=await ju(t,MT(r,s,e,t),n);me(i.idToken,r,"internal-error");const o=ev(i.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),uo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&fr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VT(t,e,n=!1){if(Rr(t.app))return Promise.reject(ls(t));const r="signIn",s=await MT(t,r,e),i=await uo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function G4(t,e){return VT(Eo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(t){const e=Eo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Z4(t,e,n){if(Rr(t.app))return Promise.reject(ls(t));const r=Eo(t),o=await cg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",W4).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&FT(t),u}),a=await uo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function J4(t,e,n){return Rr(t.app)?Promise.reject(ls(t)):G4(Bt(t),Xa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FT(t),r})}function Y4(t,e,n,r){return Bt(t).onIdTokenChanged(e,n,r)}function X4(t,e,n){return Bt(t).beforeAuthStateChanged(e,n)}function ej(t,e,n,r){return Bt(t).onAuthStateChanged(e,n,r)}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=1e3,nj=10;class zT extends UT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);x4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,nj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zT.type="LOCAL";const rj=zT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends UT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BT.type="SESSION";const $T=BT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new wf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),u=await sj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const d=sv("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function oj(t){Or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function aj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function uj(){return qT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="firebaseLocalStorageDb",cj=1,Ah="firebaseLocalStorage",WT="fbase_key";class wc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xf(t,e){return t.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function dj(){const t=indexedDB.deleteDatabase(HT);return new wc(t).toPromise()}function dg(){const t=indexedDB.open(HT,cj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ah,{keyPath:WT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ah)?e(r):(r.close(),await dj(),e(await dg()))})})}async function zw(t,e,n){const r=xf(t,!0).put({[WT]:e,value:n});return new wc(r).toPromise()}async function hj(t,e){const n=xf(t,!1).get(e),r=await new wc(n).toPromise();return r===void 0?null:r.value}function Bw(t,e){const n=xf(t,!0).delete(e);return new wc(n).toPromise()}const fj=800,mj=3;class KT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wf._getInstance(uj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await aj(),!this.activeServiceWorker)return;this.sender=new ij(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dg();return await zw(e,Ch,"1"),await Bw(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>hj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=xf(s,!1).getAll();return new wc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KT.type="LOCAL";const pj=KT;new yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t,e){return e?is(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv extends nv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yj(t){return VT(t.auth,new iv(t),t.bypassAuthState)}function vj(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),Q4(n,new iv(t),t.bypassAuthState)}async function _j(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),K4(n,new iv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yj;case"linkViaPopup":case"linkViaRedirect":return _j;case"reauthViaPopup":case"reauthViaRedirect":return vj;default:fr(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=new yc(2e3,1e4);class Yo extends QT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Yo.currentPopupAction&&Yo.currentPopupAction.cancel(),Yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wj.get())};e()}}Yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="pendingRedirect",Ld=new Map;class Ej extends QT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ld.get(this.auth._key());if(!e){try{const r=await Tj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ld.set(this.auth._key(),e)}return this.bypassAuthState||Ld.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Tj(t,e){const n=Ij(e),r=bj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Sj(t,e){Ld.set(t._key(),e)}function bj(t){return is(t._redirectPersistence)}function Ij(t){return Dd(xj,t.config.apiKey,t.name)}async function Cj(t,e,n=!1){if(Rr(t.app))return Promise.reject(ls(t));const r=Eo(t),s=gj(r,e),o=await new Ej(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=10*60*1e3;class Rj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Aj&&this.cachedEventUids.clear(),this.cachedEventUids.has($w(e))}saveEventToCache(e){this.cachedEventUids.add($w(e)),this.lastProcessedEventTime=Date.now()}}function $w(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t,e={}){return Si(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jj=/^https?/;async function Oj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Nj(t);for(const n of e)try{if(Dj(n))return}catch{}fr(t,"unauthorized-domain")}function Dj(t){const e=lg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!jj.test(n))return!1;if(Pj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=new yc(3e4,6e4);function qw(){const t=Or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Mj(t){return new Promise((e,n)=>{var r,s,i;function o(){qw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qw(),n(jr(t,"network-request-failed"))},timeout:Lj.get()})}if(!((s=(r=Or().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Or().gapi)===null||i===void 0)&&i.load)o();else{const a=k4("iframefcb");return Or()[a]=()=>{gapi.load?o():n(jr(t,"network-request-failed"))},OT(`${R4()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Md=null,e})}let Md=null;function Vj(t){return Md=Md||Mj(t),Md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new yc(5e3,15e3),Uj="__/auth/iframe",zj="emulator/auth/iframe",Bj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$j=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qj(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xy(e,zj):`https://${t.config.authDomain}/${Uj}`,r={apiKey:e.apiKey,appName:t.name,v:Ya},s=$j.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${gc(r).slice(1)}`}async function Hj(t){const e=await Vj(t),n=Or().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:qj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=jr(t,"network-request-failed"),a=Or().setTimeout(()=>{i(o)},Fj.get());function u(){Or().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kj=500,Qj=600,Gj="_blank",Zj="http://localhost";class Hw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jj(t,e,n,r=Kj,s=Qj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Wj),{width:r.toString(),height:s.toString(),top:i,left:o}),d=sn().toLowerCase();n&&(a=CT(d)?Gj:n),bT(d)&&(e=e||Zj,u.scrollbars="yes");const h=Object.entries(u).reduce((m,[v,y])=>`${m}${v}=${y},`,"");if(w4(d)&&a!=="_self")return Yj(e||"",a),new Hw(null);const p=window.open(e||"",a,h);me(p,t,"popup-blocked");try{p.focus()}catch{}return new Hw(p)}function Yj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="__/auth/handler",eO="emulator/auth/handler",tO=encodeURIComponent("fac");async function Ww(t,e,n,r,s,i){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ya,eventId:s};if(e instanceof LT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",HN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof _c){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),d=u?`#${tO}=${encodeURIComponent(u)}`:"";return`${nO(t)}?${gc(a).slice(1)}${d}`}function nO({config:t}){return t.emulator?Xy(t,eO):`https://${t.authDomain}/${Xj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="webStorageSupport";class rO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$T,this._completeRedirectFn=Cj,this._overrideRedirectResult=Sj}async _openPopup(e,n,r,s){var i;ps((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Ww(e,n,r,lg(),s);return Jj(e,o,sv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Ww(e,n,r,lg(),s);return oj(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ps(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Hj(e),r=new Rj(e);return n.register("authEvent",s=>(me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Km,{type:Km},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Km];o!==void 0&&n(!!o),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Oj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PT()||IT()||tv()}}const sO=rO;var Kw="@firebase/auth",Qw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aO(t){Oa(new ao("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jT(t)},d=new I4(r,s,i,u);return D4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Oa(new ao("auth-internal",e=>{const n=Eo(e.getProvider("auth").getImmediate());return(r=>new iO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(Kw,Qw,oO(t)),ai(Kw,Qw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=5*60,uO=uT("authIdTokenMaxAge")||lO;let Gw=null;const cO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uO)return;const s=n==null?void 0:n.token;Gw!==s&&(Gw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function dO(t=fT()){const e=Zy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=O4(t,{popupRedirectResolver:sO,persistence:[pj,rj,$T]}),r=uT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=cO(i.toString());X4(n,o,()=>o(n.currentUser)),Y4(n,a=>o(a))}}const s=aT("auth");return s&&L4(n,`http://${s}`),n}function hO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}C4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=jr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",hO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aO("Browser");var fO="firebase",mO="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(fO,mO,"app");var Zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yi,ZT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,_){function C(){}C.prototype=_.prototype,I.D=_.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(k,O,j){for(var A=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)A[ge-2]=arguments[ge];return _.prototype[O].apply(k,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,_,C){C||(C=0);var k=Array(16);if(typeof _=="string")for(var O=0;16>O;++O)k[O]=_.charCodeAt(C++)|_.charCodeAt(C++)<<8|_.charCodeAt(C++)<<16|_.charCodeAt(C++)<<24;else for(O=0;16>O;++O)k[O]=_[C++]|_[C++]<<8|_[C++]<<16|_[C++]<<24;_=I.g[0],C=I.g[1],O=I.g[2];var j=I.g[3],A=_+(j^C&(O^j))+k[0]+3614090360&4294967295;_=C+(A<<7&4294967295|A>>>25),A=j+(O^_&(C^O))+k[1]+3905402710&4294967295,j=_+(A<<12&4294967295|A>>>20),A=O+(C^j&(_^C))+k[2]+606105819&4294967295,O=j+(A<<17&4294967295|A>>>15),A=C+(_^O&(j^_))+k[3]+3250441966&4294967295,C=O+(A<<22&4294967295|A>>>10),A=_+(j^C&(O^j))+k[4]+4118548399&4294967295,_=C+(A<<7&4294967295|A>>>25),A=j+(O^_&(C^O))+k[5]+1200080426&4294967295,j=_+(A<<12&4294967295|A>>>20),A=O+(C^j&(_^C))+k[6]+2821735955&4294967295,O=j+(A<<17&4294967295|A>>>15),A=C+(_^O&(j^_))+k[7]+4249261313&4294967295,C=O+(A<<22&4294967295|A>>>10),A=_+(j^C&(O^j))+k[8]+1770035416&4294967295,_=C+(A<<7&4294967295|A>>>25),A=j+(O^_&(C^O))+k[9]+2336552879&4294967295,j=_+(A<<12&4294967295|A>>>20),A=O+(C^j&(_^C))+k[10]+4294925233&4294967295,O=j+(A<<17&4294967295|A>>>15),A=C+(_^O&(j^_))+k[11]+2304563134&4294967295,C=O+(A<<22&4294967295|A>>>10),A=_+(j^C&(O^j))+k[12]+1804603682&4294967295,_=C+(A<<7&4294967295|A>>>25),A=j+(O^_&(C^O))+k[13]+4254626195&4294967295,j=_+(A<<12&4294967295|A>>>20),A=O+(C^j&(_^C))+k[14]+2792965006&4294967295,O=j+(A<<17&4294967295|A>>>15),A=C+(_^O&(j^_))+k[15]+1236535329&4294967295,C=O+(A<<22&4294967295|A>>>10),A=_+(O^j&(C^O))+k[1]+4129170786&4294967295,_=C+(A<<5&4294967295|A>>>27),A=j+(C^O&(_^C))+k[6]+3225465664&4294967295,j=_+(A<<9&4294967295|A>>>23),A=O+(_^C&(j^_))+k[11]+643717713&4294967295,O=j+(A<<14&4294967295|A>>>18),A=C+(j^_&(O^j))+k[0]+3921069994&4294967295,C=O+(A<<20&4294967295|A>>>12),A=_+(O^j&(C^O))+k[5]+3593408605&4294967295,_=C+(A<<5&4294967295|A>>>27),A=j+(C^O&(_^C))+k[10]+38016083&4294967295,j=_+(A<<9&4294967295|A>>>23),A=O+(_^C&(j^_))+k[15]+3634488961&4294967295,O=j+(A<<14&4294967295|A>>>18),A=C+(j^_&(O^j))+k[4]+3889429448&4294967295,C=O+(A<<20&4294967295|A>>>12),A=_+(O^j&(C^O))+k[9]+568446438&4294967295,_=C+(A<<5&4294967295|A>>>27),A=j+(C^O&(_^C))+k[14]+3275163606&4294967295,j=_+(A<<9&4294967295|A>>>23),A=O+(_^C&(j^_))+k[3]+4107603335&4294967295,O=j+(A<<14&4294967295|A>>>18),A=C+(j^_&(O^j))+k[8]+1163531501&4294967295,C=O+(A<<20&4294967295|A>>>12),A=_+(O^j&(C^O))+k[13]+2850285829&4294967295,_=C+(A<<5&4294967295|A>>>27),A=j+(C^O&(_^C))+k[2]+4243563512&4294967295,j=_+(A<<9&4294967295|A>>>23),A=O+(_^C&(j^_))+k[7]+1735328473&4294967295,O=j+(A<<14&4294967295|A>>>18),A=C+(j^_&(O^j))+k[12]+2368359562&4294967295,C=O+(A<<20&4294967295|A>>>12),A=_+(C^O^j)+k[5]+4294588738&4294967295,_=C+(A<<4&4294967295|A>>>28),A=j+(_^C^O)+k[8]+2272392833&4294967295,j=_+(A<<11&4294967295|A>>>21),A=O+(j^_^C)+k[11]+1839030562&4294967295,O=j+(A<<16&4294967295|A>>>16),A=C+(O^j^_)+k[14]+4259657740&4294967295,C=O+(A<<23&4294967295|A>>>9),A=_+(C^O^j)+k[1]+2763975236&4294967295,_=C+(A<<4&4294967295|A>>>28),A=j+(_^C^O)+k[4]+1272893353&4294967295,j=_+(A<<11&4294967295|A>>>21),A=O+(j^_^C)+k[7]+4139469664&4294967295,O=j+(A<<16&4294967295|A>>>16),A=C+(O^j^_)+k[10]+3200236656&4294967295,C=O+(A<<23&4294967295|A>>>9),A=_+(C^O^j)+k[13]+681279174&4294967295,_=C+(A<<4&4294967295|A>>>28),A=j+(_^C^O)+k[0]+3936430074&4294967295,j=_+(A<<11&4294967295|A>>>21),A=O+(j^_^C)+k[3]+3572445317&4294967295,O=j+(A<<16&4294967295|A>>>16),A=C+(O^j^_)+k[6]+76029189&4294967295,C=O+(A<<23&4294967295|A>>>9),A=_+(C^O^j)+k[9]+3654602809&4294967295,_=C+(A<<4&4294967295|A>>>28),A=j+(_^C^O)+k[12]+3873151461&4294967295,j=_+(A<<11&4294967295|A>>>21),A=O+(j^_^C)+k[15]+530742520&4294967295,O=j+(A<<16&4294967295|A>>>16),A=C+(O^j^_)+k[2]+3299628645&4294967295,C=O+(A<<23&4294967295|A>>>9),A=_+(O^(C|~j))+k[0]+4096336452&4294967295,_=C+(A<<6&4294967295|A>>>26),A=j+(C^(_|~O))+k[7]+1126891415&4294967295,j=_+(A<<10&4294967295|A>>>22),A=O+(_^(j|~C))+k[14]+2878612391&4294967295,O=j+(A<<15&4294967295|A>>>17),A=C+(j^(O|~_))+k[5]+4237533241&4294967295,C=O+(A<<21&4294967295|A>>>11),A=_+(O^(C|~j))+k[12]+1700485571&4294967295,_=C+(A<<6&4294967295|A>>>26),A=j+(C^(_|~O))+k[3]+2399980690&4294967295,j=_+(A<<10&4294967295|A>>>22),A=O+(_^(j|~C))+k[10]+4293915773&4294967295,O=j+(A<<15&4294967295|A>>>17),A=C+(j^(O|~_))+k[1]+2240044497&4294967295,C=O+(A<<21&4294967295|A>>>11),A=_+(O^(C|~j))+k[8]+1873313359&4294967295,_=C+(A<<6&4294967295|A>>>26),A=j+(C^(_|~O))+k[15]+4264355552&4294967295,j=_+(A<<10&4294967295|A>>>22),A=O+(_^(j|~C))+k[6]+2734768916&4294967295,O=j+(A<<15&4294967295|A>>>17),A=C+(j^(O|~_))+k[13]+1309151649&4294967295,C=O+(A<<21&4294967295|A>>>11),A=_+(O^(C|~j))+k[4]+4149444226&4294967295,_=C+(A<<6&4294967295|A>>>26),A=j+(C^(_|~O))+k[11]+3174756917&4294967295,j=_+(A<<10&4294967295|A>>>22),A=O+(_^(j|~C))+k[2]+718787259&4294967295,O=j+(A<<15&4294967295|A>>>17),A=C+(j^(O|~_))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+_&4294967295,I.g[1]=I.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+j&4294967295}r.prototype.u=function(I,_){_===void 0&&(_=I.length);for(var C=_-this.blockSize,k=this.B,O=this.h,j=0;j<_;){if(O==0)for(;j<=C;)s(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<_;)if(k[O++]=I.charCodeAt(j++),O==this.blockSize){s(this,k),O=0;break}}else for(;j<_;)if(k[O++]=I[j++],O==this.blockSize){s(this,k),O=0;break}}this.h=O,this.o+=_},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var _=1;_<I.length-8;++_)I[_]=0;var C=8*this.o;for(_=I.length-8;_<I.length;++_)I[_]=C&255,C/=256;for(this.u(I),I=Array(16),_=C=0;4>_;++_)for(var k=0;32>k;k+=8)I[C++]=this.g[_]>>>k&255;return I};function i(I,_){var C=a;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=_(I)}function o(I,_){this.h=_;for(var C=[],k=!0,O=I.length-1;0<=O;O--){var j=I[O]|0;k&&j==_||(C[O]=j,k=!1)}this.g=C}var a={};function u(I){return-128<=I&&128>I?i(I,function(_){return new o([_|0],0>_?-1:0)}):new o([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return R(d(-I));for(var _=[],C=1,k=0;I>=C;k++)_[k]=I/C|0,C*=4294967296;return new o(_,0)}function h(I,_){if(I.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(I.charAt(0)=="-")return R(h(I.substring(1),_));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(_,8)),k=p,O=0;O<I.length;O+=8){var j=Math.min(8,I.length-O),A=parseInt(I.substring(O,O+j),_);8>j?(j=d(Math.pow(_,j)),k=k.j(j).add(d(A))):(k=k.j(C),k=k.add(d(A)))}return k}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(b(this))return-R(this).m();for(var I=0,_=1,C=0;C<this.g.length;C++){var k=this.i(C);I+=(0<=k?k:4294967296+k)*_,_*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(y(this))return"0";if(b(this))return"-"+R(this).toString(I);for(var _=d(Math.pow(I,6)),C=this,k="";;){var O=D(C,_).g;C=T(C,O.j(_));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=O,y(C))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function y(I){if(I.h!=0)return!1;for(var _=0;_<I.g.length;_++)if(I.g[_]!=0)return!1;return!0}function b(I){return I.h==-1}t.l=function(I){return I=T(this,I),b(I)?-1:y(I)?0:1};function R(I){for(var _=I.g.length,C=[],k=0;k<_;k++)C[k]=~I.g[k];return new o(C,~I.h).add(m)}t.abs=function(){return b(this)?R(this):this},t.add=function(I){for(var _=Math.max(this.g.length,I.g.length),C=[],k=0,O=0;O<=_;O++){var j=k+(this.i(O)&65535)+(I.i(O)&65535),A=(j>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);k=A>>>16,j&=65535,A&=65535,C[O]=A<<16|j}return new o(C,C[C.length-1]&-2147483648?-1:0)};function T(I,_){return I.add(R(_))}t.j=function(I){if(y(this)||y(I))return p;if(b(this))return b(I)?R(this).j(R(I)):R(R(this).j(I));if(b(I))return R(this.j(R(I)));if(0>this.l(v)&&0>I.l(v))return d(this.m()*I.m());for(var _=this.g.length+I.g.length,C=[],k=0;k<2*_;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var O=0;O<I.g.length;O++){var j=this.i(k)>>>16,A=this.i(k)&65535,ge=I.i(O)>>>16,Ve=I.i(O)&65535;C[2*k+2*O]+=A*Ve,w(C,2*k+2*O),C[2*k+2*O+1]+=j*Ve,w(C,2*k+2*O+1),C[2*k+2*O+1]+=A*ge,w(C,2*k+2*O+1),C[2*k+2*O+2]+=j*ge,w(C,2*k+2*O+2)}for(k=0;k<_;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=_;k<2*_;k++)C[k]=0;return new o(C,0)};function w(I,_){for(;(I[_]&65535)!=I[_];)I[_+1]+=I[_]>>>16,I[_]&=65535,_++}function S(I,_){this.g=I,this.h=_}function D(I,_){if(y(_))throw Error("division by zero");if(y(I))return new S(p,p);if(b(I))return _=D(R(I),_),new S(R(_.g),R(_.h));if(b(_))return _=D(I,R(_)),new S(R(_.g),_.h);if(30<I.g.length){if(b(I)||b(_))throw Error("slowDivide_ only works with positive integers.");for(var C=m,k=_;0>=k.l(I);)C=V(C),k=V(k);var O=B(C,1),j=B(k,1);for(k=B(k,2),C=B(C,2);!y(k);){var A=j.add(k);0>=A.l(I)&&(O=O.add(C),j=A),k=B(k,1),C=B(C,1)}return _=T(I,O.j(_)),new S(O,_)}for(O=p;0<=I.l(_);){for(C=Math.max(1,Math.floor(I.m()/_.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=d(C),A=j.j(_);b(A)||0<A.l(I);)C-=k,j=d(C),A=j.j(_);y(j)&&(j=m),O=O.add(j),I=T(I,A)}return new S(O,I)}t.A=function(I){return D(this,I).h},t.and=function(I){for(var _=Math.max(this.g.length,I.g.length),C=[],k=0;k<_;k++)C[k]=this.i(k)&I.i(k);return new o(C,this.h&I.h)},t.or=function(I){for(var _=Math.max(this.g.length,I.g.length),C=[],k=0;k<_;k++)C[k]=this.i(k)|I.i(k);return new o(C,this.h|I.h)},t.xor=function(I){for(var _=Math.max(this.g.length,I.g.length),C=[],k=0;k<_;k++)C[k]=this.i(k)^I.i(k);return new o(C,this.h^I.h)};function V(I){for(var _=I.g.length+1,C=[],k=0;k<_;k++)C[k]=I.i(k)<<1|I.i(k-1)>>>31;return new o(C,I.h)}function B(I,_){var C=_>>5;_%=32;for(var k=I.g.length-C,O=[],j=0;j<k;j++)O[j]=0<_?I.i(j+C)>>>_|I.i(j+C+1)<<32-_:I.i(j+C);return new o(O,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Yi=o}).apply(typeof Zw<"u"?Zw:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JT,YT,Bl,XT,Vd,hg,eS,tS,nS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,f){if(f)e:{var g=r;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in g))break e;g=g[M]}l=l[l.length-1],E=g[l],f=f(E),f!=E&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function i(l,f){l instanceof String&&(l+="");var g=0,E=!1,M={next:function(){if(!E&&g<l.length){var U=g++;return{value:f(U,l[U]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(l){return l||function(){return i(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function d(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function h(l,f,g){return l.call.apply(l.bind,arguments)}function p(l,f,g){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),l.apply(f,M)}}return function(){return l.apply(f,arguments)}}function m(l,f,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function y(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(E,M,U){for(var Y=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)Y[$e-2]=arguments[$e];return f.prototype[M].apply(E,Y)}}function b(l){const f=l.length;if(0<f){const g=Array(f);for(let E=0;E<f;E++)g[E]=l[E];return g}return[]}function R(l,f){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(u(E)){const M=l.length||0,U=E.length||0;l.length=M+U;for(let Y=0;Y<U;Y++)l[M+Y]=E[Y]}else l.push(E)}}class T{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function w(l){return/^[\s\xa0]*$/.test(l)}function S(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function D(l){return D[" "](l),l}D[" "]=function(){};var V=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function B(l,f,g){for(const E in l)f.call(g,l[E],E,l)}function I(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function _(l){const f={};for(const g in l)f[g]=l[g];return f}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,f){let g,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(g in E)l[g]=E[g];for(let U=0;U<C.length;U++)g=C[U],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function O(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function j(l){a.setTimeout(()=>{throw l},0)}function A(){var l=de;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class ge{constructor(){this.h=this.g=null}add(f,g){const E=Ve.get();E.set(f,g),this.h?this.h.next=E:this.g=E,this.h=E}}var Ve=new T(()=>new _t,l=>l.reset());class _t{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Ye,J=!1,de=new ge,he=()=>{const l=a.Promise.resolve(void 0);Ye=()=>{l.then(Ue)}};var Ue=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(g){j(g)}var f=Ve;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}J=!1};function De(){this.s=this.s,this.C=this.C}De.prototype.s=!1,De.prototype.ma=function(){this.s||(this.s=!0,this.N())},De.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ke(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}Ke.prototype.h=function(){this.defaultPrevented=!0};var vn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function kt(l,f){if(Ke.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(V){e:{try{D(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:qt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&kt.aa.h.call(this)}}y(kt,Ke);var qt={2:"touch",3:"pen",4:"mouse"};kt.prototype.h=function(){kt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ht="closure_listenable_"+(1e6*Math.random()|0),qr=0;function Es(l,f,g,E,M){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!E,this.ha=M,this.key=++qr,this.da=this.fa=!1}function Jn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function vr(l){this.src=l,this.g={},this.h=0}vr.prototype.add=function(l,f,g,E,M){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var Y=Hr(l,f,E,M);return-1<Y?(f=l[Y],g||(f.fa=!1)):(f=new Es(f,this.src,U,!!E,M),f.fa=g,l.push(f)),f};function Ii(l,f){var g=f.type;if(g in l.g){var E=l.g[g],M=Array.prototype.indexOf.call(E,f,void 0),U;(U=0<=M)&&Array.prototype.splice.call(E,M,1),U&&(Jn(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Hr(l,f,g,E){for(var M=0;M<l.length;++M){var U=l[M];if(!U.da&&U.listener==f&&U.capture==!!g&&U.ha==E)return M}return-1}var _r="closure_lm_"+(1e6*Math.random()|0),Co={};function il(l,f,g,E,M){if(Array.isArray(f)){for(var U=0;U<f.length;U++)il(l,f[U],g,E,M);return null}return g=ie(g),l&&l[Ht]?l.K(f,g,d(E)?!!E.capture:!!E,M):ol(l,f,g,!1,E,M)}function ol(l,f,g,E,M,U){if(!f)throw Error("Invalid event type");var Y=d(M)?!!M.capture:!!M,$e=$(l);if($e||(l[_r]=$e=new vr(l)),g=$e.add(f,g,E,Y,U),g.proxy)return g;if(E=x(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)vn||(M=Y),M===void 0&&(M=!1),l.addEventListener(f.toString(),E,M);else if(l.attachEvent)l.attachEvent(H(f.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function x(){function l(g){return f.call(l.src,l.listener,g)}const f=q;return l}function N(l,f,g,E,M){if(Array.isArray(f))for(var U=0;U<f.length;U++)N(l,f[U],g,E,M);else E=d(E)?!!E.capture:!!E,g=ie(g),l&&l[Ht]?(l=l.i,f=String(f).toString(),f in l.g&&(U=l.g[f],g=Hr(U,g,E,M),-1<g&&(Jn(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete l.g[f],l.h--)))):l&&(l=$(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Hr(f,g,E,M)),(g=-1<l?f[l]:null)&&P(g))}function P(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Ht])Ii(f.i,l);else{var g=l.type,E=l.proxy;f.removeEventListener?f.removeEventListener(g,E,l.capture):f.detachEvent?f.detachEvent(H(g),E):f.addListener&&f.removeListener&&f.removeListener(E),(g=$(f))?(Ii(g,l),g.h==0&&(g.src=null,f[_r]=null)):Jn(l)}}}function H(l){return l in Co?Co[l]:Co[l]="on"+l}function q(l,f){if(l.da)l=!0;else{f=new kt(f,this);var g=l.listener,E=l.ha||l.src;l.fa&&P(l),l=g.call(E,f)}return l}function $(l){return l=l[_r],l instanceof vr?l:null}var Q="__closure_events_fn_"+(1e9*Math.random()>>>0);function ie(l){return typeof l=="function"?l:(l[Q]||(l[Q]=function(f){return l.handleEvent(f)}),l[Q])}function ne(){De.call(this),this.i=new vr(this),this.M=this,this.F=null}y(ne,De),ne.prototype[Ht]=!0,ne.prototype.removeEventListener=function(l,f,g,E){N(this,l,f,g,E)};function le(l,f){var g,E=l.F;if(E)for(g=[];E;E=E.F)g.push(E);if(l=l.M,E=f.type||f,typeof f=="string")f=new Ke(f,l);else if(f instanceof Ke)f.target=f.target||l;else{var M=f;f=new Ke(E,l),k(f,M)}if(M=!0,g)for(var U=g.length-1;0<=U;U--){var Y=f.g=g[U];M=be(Y,E,!0,f)&&M}if(Y=f.g=l,M=be(Y,E,!0,f)&&M,M=be(Y,E,!1,f)&&M,g)for(U=0;U<g.length;U++)Y=f.g=g[U],M=be(Y,E,!1,f)&&M}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],E=0;E<g.length;E++)Jn(g[E]);delete l.g[f],l.h--}}this.F=null},ne.prototype.K=function(l,f,g,E){return this.i.add(String(l),f,!1,g,E)},ne.prototype.L=function(l,f,g,E){return this.i.add(String(l),f,!0,g,E)};function be(l,f,g,E){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,U=0;U<f.length;++U){var Y=f[U];if(Y&&!Y.da&&Y.capture==g){var $e=Y.listener,Pt=Y.ha||Y.src;Y.fa&&Ii(l.i,Y),M=$e.call(Pt,E)!==!1&&M}}return M&&!E.defaultPrevented}function wt(l,f,g){if(typeof l=="function")g&&(l=m(l,g));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function An(l){l.g=wt(()=>{l.g=null,l.i&&(l.i=!1,An(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class an extends De{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:An(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _n(l){De.call(this),this.h=l,this.g={}}y(_n,De);var Wr=[];function Kr(l){B(l.g,function(f,g){this.g.hasOwnProperty(g)&&P(f)},l),l.g={}}_n.prototype.N=function(){_n.aa.N.call(this),Kr(this)},_n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=a.JSON.stringify,Wt=a.JSON.parse,Kt=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function wr(){}wr.prototype.h=null;function Ci(l){return l.h||(l.h=l.i())}function al(){}var Ts={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ll(){Ke.call(this,"d")}y(ll,Ke);function ul(){Ke.call(this,"c")}y(ul,Ke);var Nt={},xr=null;function Ai(){return xr=xr||new ne}Nt.La="serverreachability";function Lc(l){Ke.call(this,Nt.La,l)}y(Lc,Ke);function cl(l){const f=Ai();le(f,new Lc(f))}Nt.STAT_EVENT="statevent";function r0(l,f){Ke.call(this,Nt.STAT_EVENT,l),this.stat=f}y(r0,Ke);function ln(l){const f=Ai();le(f,new r0(f,l))}Nt.Ma="timingevent";function s0(l,f){Ke.call(this,Nt.Ma,l),this.size=f}y(s0,Ke);function dl(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function hl(){this.g=!0}hl.prototype.xa=function(){this.g=!1};function NI(l,f,g,E,M,U){l.info(function(){if(l.g)if(U)for(var Y="",$e=U.split("&"),Pt=0;Pt<$e.length;Pt++){var Le=$e[Pt].split("=");if(1<Le.length){var Qt=Le[0];Le=Le[1];var Gt=Qt.split("_");Y=2<=Gt.length&&Gt[1]=="type"?Y+(Qt+"="+Le+"&"):Y+(Qt+"=redacted&")}}else Y=null;else Y=U;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+f+`
`+g+`
`+Y})}function PI(l,f,g,E,M,U,Y){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+f+`
`+g+`
`+U+" "+Y})}function Ao(l,f,g,E){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+OI(l,g)+(E?" "+E:"")})}function jI(l,f){l.info(function(){return"TIMEOUT: "+f})}hl.prototype.info=function(){};function OI(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var E=g[l];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var U=M[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Y=1;Y<M.length;Y++)M[Y]=""}}}}return Rn(g)}catch{return f}}var Mc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},i0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jf;function Vc(){}y(Vc,wr),Vc.prototype.g=function(){return new XMLHttpRequest},Vc.prototype.i=function(){return{}},Jf=new Vc;function Ss(l,f,g,E){this.j=l,this.i=f,this.l=g,this.R=E||1,this.U=new _n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new o0}function o0(){this.i=null,this.g="",this.h=!1}var a0={},Yf={};function Xf(l,f,g){l.L=1,l.v=Bc(Qr(f)),l.m=g,l.P=!0,l0(l,null)}function l0(l,f){l.F=Date.now(),Fc(l),l.A=Qr(l.v);var g=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),E0(g.i,"t",E),l.C=0,g=l.j.J,l.h=new o0,l.g=U0(l.j,g?f:null,!l.m),0<l.O&&(l.M=new an(m(l.Y,l,l.g),l.O)),f=l.U,g=l.g,E=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(Wr[0]=M.toString()),M=Wr);for(var U=0;U<M.length;U++){var Y=il(g,M[U],E||f.handleEvent,!1,f.h||f);if(!Y)break;f.g[Y.key]=Y}f=l.H?_(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),cl(),NI(l.i,l.u,l.A,l.l,l.R,l.m)}Ss.prototype.ca=function(l){l=l.target;const f=this.M;f&&Gr(l)==3?f.j():this.Y(l)},Ss.prototype.Y=function(l){try{if(l==this.g)e:{const Gt=Gr(this.g);var f=this.g.Ba();const No=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||R0(this.g)))){this.J||Gt!=4||f==7||(f==8||0>=No?cl(3):cl(2)),em(this);var g=this.g.Z();this.X=g;t:if(u0(this)){var E=R0(this.g);l="";var M=E.length,U=Gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ri(this),fl(this);var Y="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,l+=this.h.i.decode(E[f],{stream:!(U&&f==M-1)});E.length=0,this.h.g+=l,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=g==200,PI(this.i,this.u,this.A,this.l,this.R,Gt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Pt=this.g;if(($e=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w($e)){var Le=$e;break t}}Le=null}if(g=Le)Ao(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tm(this,g);else{this.o=!1,this.s=3,ln(12),Ri(this),fl(this);break e}}if(this.P){g=!0;let Yn;for(;!this.J&&this.C<Y.length;)if(Yn=DI(this,Y),Yn==Yf){Gt==4&&(this.s=4,ln(14),g=!1),Ao(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==a0){this.s=4,ln(15),Ao(this.i,this.l,Y,"[Invalid Chunk]"),g=!1;break}else Ao(this.i,this.l,Yn,null),tm(this,Yn);if(u0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||Y.length!=0||this.h.h||(this.s=1,ln(16),g=!1),this.o=this.o&&g,!g)Ao(this.i,this.l,Y,"[Invalid Chunked Response]"),Ri(this),fl(this);else if(0<Y.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),am(Qt),Qt.M=!0,ln(11))}}else Ao(this.i,this.l,Y,null),tm(this,Y);Gt==4&&Ri(this),this.o&&!this.J&&(Gt==4?L0(this.j,this):(this.o=!1,Fc(this)))}else YI(this.g),g==400&&0<Y.indexOf("Unknown SID")?(this.s=3,ln(12)):(this.s=0,ln(13)),Ri(this),fl(this)}}}catch{}finally{}};function u0(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function DI(l,f){var g=l.C,E=f.indexOf(`
`,g);return E==-1?Yf:(g=Number(f.substring(g,E)),isNaN(g)?a0:(E+=1,E+g>f.length?Yf:(f=f.slice(E,E+g),l.C=E+g,f)))}Ss.prototype.cancel=function(){this.J=!0,Ri(this)};function Fc(l){l.S=Date.now()+l.I,c0(l,l.I)}function c0(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=dl(m(l.ba,l),f)}function em(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Ss.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(jI(this.i,this.A),this.L!=2&&(cl(),ln(17)),Ri(this),this.s=2,fl(this)):c0(this,this.S-l)};function fl(l){l.j.G==0||l.J||L0(l.j,l)}function Ri(l){em(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Kr(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function tm(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||nm(g.h,l))){if(!l.K&&nm(g.h,l)&&g.G==3){try{var E=g.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Kc(g),Hc(g);else break e;om(g),ln(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=dl(m(g.Za,g),6e3));if(1>=f0(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ni(g,11)}else if((l.K||g.g==l)&&Kc(g),!w(f))for(M=g.Da.g.parse(f),f=0;f<M.length;f++){let Le=M[f];if(g.T=Le[0],Le=Le[1],g.G==2)if(Le[0]=="c"){g.K=Le[1],g.ia=Le[2];const Qt=Le[3];Qt!=null&&(g.la=Qt,g.j.info("VER="+g.la));const Gt=Le[4];Gt!=null&&(g.Aa=Gt,g.j.info("SVER="+g.Aa));const No=Le[5];No!=null&&typeof No=="number"&&0<No&&(E=1.5*No,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const Yn=l.g;if(Yn){const Gc=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gc){var U=E.h;U.g||Gc.indexOf("spdy")==-1&&Gc.indexOf("quic")==-1&&Gc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(rm(U,U.h),U.h=null))}if(E.D){const lm=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;lm&&(E.ya=lm,Qe(E.I,E.D,lm))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var Y=l;if(E.qa=F0(E,E.J?E.ia:null,E.W),Y.K){m0(E.h,Y);var $e=Y,Pt=E.L;Pt&&($e.I=Pt),$e.B&&(em($e),Fc($e)),E.g=Y}else O0(E);0<g.i.length&&Wc(g)}else Le[0]!="stop"&&Le[0]!="close"||Ni(g,7);else g.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Ni(g,7):im(g):Le[0]!="noop"&&g.l&&g.l.ta(Le),g.v=0)}}cl(4)}catch{}}var LI=class{constructor(l,f){this.g=l,this.map=f}};function d0(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function h0(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function f0(l){return l.h?1:l.g?l.g.size:0}function nm(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function rm(l,f){l.g?l.g.add(f):l.h=f}function m0(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}d0.prototype.cancel=function(){if(this.i=p0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function p0(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return b(l.i)}function MI(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],g=l.length,E=0;E<g;E++)f.push(l[E]);return f}f=[],g=0;for(E in l)f[g++]=l[E];return f}function VI(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const E in l)f[g++]=E;return f}}}function g0(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=VI(l),E=MI(l),M=E.length,U=0;U<M;U++)f.call(void 0,E[U],g&&g[U],l)}var y0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FI(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var E=l[g].indexOf("="),M=null;if(0<=E){var U=l[g].substring(0,E);M=l[g].substring(E+1)}else U=l[g];f(U,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ki(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ki){this.h=l.h,Uc(this,l.j),this.o=l.o,this.g=l.g,zc(this,l.s),this.l=l.l;var f=l.i,g=new gl;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),v0(this,g),this.m=l.m}else l&&(f=String(l).match(y0))?(this.h=!1,Uc(this,f[1]||"",!0),this.o=ml(f[2]||""),this.g=ml(f[3]||"",!0),zc(this,f[4]),this.l=ml(f[5]||"",!0),v0(this,f[6]||"",!0),this.m=ml(f[7]||"")):(this.h=!1,this.i=new gl(null,this.h))}ki.prototype.toString=function(){var l=[],f=this.j;f&&l.push(pl(f,_0,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(pl(f,_0,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(pl(g,g.charAt(0)=="/"?BI:zI,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",pl(g,qI)),l.join("")};function Qr(l){return new ki(l)}function Uc(l,f,g){l.j=g?ml(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function zc(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function v0(l,f,g){f instanceof gl?(l.i=f,HI(l.i,l.h)):(g||(f=pl(f,$I)),l.i=new gl(f,l.h))}function Qe(l,f,g){l.i.set(f,g)}function Bc(l){return Qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ml(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function pl(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,UI),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function UI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var _0=/[#\/\?@]/g,zI=/[#\?:]/g,BI=/[#\?]/g,$I=/[#\?@]/g,qI=/#/g;function gl(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function bs(l){l.g||(l.g=new Map,l.h=0,l.i&&FI(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=gl.prototype,t.add=function(l,f){bs(this),this.i=null,l=Ro(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function w0(l,f){bs(l),f=Ro(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function x0(l,f){return bs(l),f=Ro(l,f),l.g.has(f)}t.forEach=function(l,f){bs(this),this.g.forEach(function(g,E){g.forEach(function(M){l.call(f,M,E,this)},this)},this)},t.na=function(){bs(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let E=0;E<f.length;E++){const M=l[E];for(let U=0;U<M.length;U++)g.push(f[E])}return g},t.V=function(l){bs(this);let f=[];if(typeof l=="string")x0(this,l)&&(f=f.concat(this.g.get(Ro(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},t.set=function(l,f){return bs(this),this.i=null,l=Ro(this,l),x0(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function E0(l,f,g){w0(l,f),0<g.length&&(l.i=null,l.g.set(Ro(l,f),b(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var E=f[g];const U=encodeURIComponent(String(E)),Y=this.V(E);for(E=0;E<Y.length;E++){var M=U;Y[E]!==""&&(M+="="+encodeURIComponent(String(Y[E]))),l.push(M)}}return this.i=l.join("&")};function Ro(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function HI(l,f){f&&!l.j&&(bs(l),l.i=null,l.g.forEach(function(g,E){var M=E.toLowerCase();E!=M&&(w0(this,E),E0(this,M,g))},l)),l.j=f}function WI(l,f){const g=new hl;if(a.Image){const E=new Image;E.onload=v(Is,g,"TestLoadImage: loaded",!0,f,E),E.onerror=v(Is,g,"TestLoadImage: error",!1,f,E),E.onabort=v(Is,g,"TestLoadImage: abort",!1,f,E),E.ontimeout=v(Is,g,"TestLoadImage: timeout",!1,f,E),a.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else f(!1)}function KI(l,f){const g=new hl,E=new AbortController,M=setTimeout(()=>{E.abort(),Is(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:E.signal}).then(U=>{clearTimeout(M),U.ok?Is(g,"TestPingServer: ok",!0,f):Is(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Is(g,"TestPingServer: error",!1,f)})}function Is(l,f,g,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(g)}catch{}}function QI(){this.g=new Kt}function GI(l,f,g){const E=g||"";try{g0(l,function(M,U){let Y=M;d(M)&&(Y=Rn(M)),f.push(E+U+"="+encodeURIComponent(Y))})}catch(M){throw f.push(E+"type="+encodeURIComponent("_badmap")),M}}function yl(l){this.l=l.Ub||null,this.j=l.eb||!1}y(yl,wr),yl.prototype.g=function(){return new $c(this.l,this.j)},yl.prototype.i=function(l){return function(){return l}}({});function $c(l,f){ne.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y($c,ne),t=$c.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,_l(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vl(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,_l(this)),this.g&&(this.readyState=3,_l(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;T0(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function T0(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?vl(this):_l(this),this.readyState==3&&T0(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,vl(this))},t.Qa=function(l){this.g&&(this.response=l,vl(this))},t.ga=function(){this.g&&vl(this)};function vl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,_l(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function _l(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty($c.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function S0(l){let f="";return B(l,function(g,E){f+=E,f+=":",f+=g,f+=`\r
`}),f}function sm(l,f,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=S0(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Qe(l,f,g))}function ot(l){ne.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(ot,ne);var ZI=/^https?$/i,JI=["POST","PUT"];t=ot.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jf.g(),this.v=this.o?Ci(this.o):Ci(Jf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(U){b0(this,U);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)g.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const U of E.keys())g.set(U,E.get(U));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(JI,f,void 0))||E||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Y]of g)this.g.setRequestHeader(U,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{A0(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){b0(this,U)}};function b0(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,I0(l),qc(l)}function I0(l){l.A||(l.A=!0,le(l,"complete"),le(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,le(this,"complete"),le(this,"abort"),qc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qc(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?C0(this):this.bb())},t.bb=function(){C0(this)};function C0(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Gr(l)!=4||l.Z()!=2)){if(l.u&&Gr(l)==4)wt(l.Ea,0,l);else if(le(l,"readystatechange"),Gr(l)==4){l.h=!1;try{const Y=l.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var E;if(E=Y===0){var M=String(l.D).match(y0)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),E=!ZI.test(M?M.toLowerCase():"")}g=E}if(g)le(l,"complete"),le(l,"success");else{l.m=6;try{var U=2<Gr(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",I0(l)}}finally{qc(l)}}}}function qc(l,f){if(l.g){A0(l);const g=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||le(l,"ready");try{g.onreadystatechange=E}catch{}}}function A0(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Gr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Wt(f)}};function R0(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function YI(l){const f={};l=(l.g&&2<=Gr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(w(l[E]))continue;var g=O(l[E]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=f[M]||[];f[M]=U,U.push(g)}I(f,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wl(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function k0(l){this.Aa=0,this.i=[],this.j=new hl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wl("baseRetryDelayMs",5e3,l),this.cb=wl("retryDelaySeedMs",1e4,l),this.Wa=wl("forwardChannelMaxRetries",2,l),this.wa=wl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new d0(l&&l.concurrentRequestLimit),this.Da=new QI,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=k0.prototype,t.la=8,t.G=1,t.connect=function(l,f,g,E){ln(0),this.W=l,this.H=f||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=F0(this,null,this.W),Wc(this)};function im(l){if(N0(l),l.G==3){var f=l.U++,g=Qr(l.I);if(Qe(g,"SID",l.K),Qe(g,"RID",f),Qe(g,"TYPE","terminate"),xl(l,g),f=new Ss(l,l.j,f),f.L=2,f.v=Bc(Qr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=U0(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Fc(f)}V0(l)}function Hc(l){l.g&&(am(l),l.g.cancel(),l.g=null)}function N0(l){Hc(l),l.u&&(a.clearTimeout(l.u),l.u=null),Kc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Wc(l){if(!h0(l.h)&&!l.s){l.s=!0;var f=l.Ga;Ye||he(),J||(Ye(),J=!0),de.add(f,l),l.B=0}}function XI(l,f){return f0(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=dl(m(l.Ga,l,f),M0(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Ss(this,this.j,l);let U=this.o;if(this.S&&(U?(U=_(U),k(U,this.S)):U=this.S),this.m!==null||this.O||(M.H=U,U=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=j0(this,M,f),g=Qr(this.I),Qe(g,"RID",l),Qe(g,"CVER",22),this.D&&Qe(g,"X-HTTP-Session-Id",this.D),xl(this,g),U&&(this.O?f="headers="+encodeURIComponent(String(S0(U)))+"&"+f:this.m&&sm(g,this.m,U)),rm(this.h,M),this.Ua&&Qe(g,"TYPE","init"),this.P?(Qe(g,"$req",f),Qe(g,"SID","null"),M.T=!0,Xf(M,g,null)):Xf(M,g,f),this.G=2}}else this.G==3&&(l?P0(this,l):this.i.length==0||h0(this.h)||P0(this))};function P0(l,f){var g;f?g=f.l:g=l.U++;const E=Qr(l.I);Qe(E,"SID",l.K),Qe(E,"RID",g),Qe(E,"AID",l.T),xl(l,E),l.m&&l.o&&sm(E,l.m,l.o),g=new Ss(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=j0(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),rm(l.h,g),Xf(g,E,f)}function xl(l,f){l.H&&B(l.H,function(g,E){Qe(f,E,g)}),l.l&&g0({},function(g,E){Qe(f,E,g)})}function j0(l,f,g){g=Math.min(l.i.length,g);var E=l.l?m(l.l.Na,l.l,l):null;e:{var M=l.i;let U=-1;for(;;){const Y=["count="+g];U==-1?0<g?(U=M[0].g,Y.push("ofs="+U)):U=0:Y.push("ofs="+U);let $e=!0;for(let Pt=0;Pt<g;Pt++){let Le=M[Pt].g;const Qt=M[Pt].map;if(Le-=U,0>Le)U=Math.max(0,M[Pt].g-100),$e=!1;else try{GI(Qt,Y,"req"+Le+"_")}catch{E&&E(Qt)}}if($e){E=Y.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,E}function O0(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Ye||he(),J||(Ye(),J=!0),de.add(f,l),l.v=0}}function om(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=dl(m(l.Fa,l),M0(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,D0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=dl(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ln(10),Hc(this),D0(this))};function am(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function D0(l){l.g=new Ss(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Qr(l.qa);Qe(f,"RID","rpc"),Qe(f,"SID",l.K),Qe(f,"AID",l.T),Qe(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Qe(f,"TO",l.ja),Qe(f,"TYPE","xmlhttp"),xl(l,f),l.m&&l.o&&sm(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Bc(Qr(f)),g.m=null,g.P=!0,l0(g,l)}t.Za=function(){this.C!=null&&(this.C=null,Hc(this),om(this),ln(19))};function Kc(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function L0(l,f){var g=null;if(l.g==f){Kc(l),am(l),l.g=null;var E=2}else if(nm(l.h,f))g=f.D,m0(l.h,f),E=1;else return;if(l.G!=0){if(f.o)if(E==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var M=l.B;E=Ai(),le(E,new s0(E,g)),Wc(l)}else O0(l);else if(M=f.s,M==3||M==0&&0<f.X||!(E==1&&XI(l,f)||E==2&&om(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),M){case 1:Ni(l,5);break;case 4:Ni(l,10);break;case 3:Ni(l,6);break;default:Ni(l,2)}}}function M0(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function Ni(l,f){if(l.j.info("Error code "+f),f==2){var g=m(l.fb,l),E=l.Xa;const M=!E;E=new ki(E||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Uc(E,"https"),Bc(E),M?WI(E.toString(),g):KI(E.toString(),g)}else ln(2);l.G=0,l.l&&l.l.sa(f),V0(l),N0(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ln(2)):(this.j.info("Failed to ping google.com"),ln(1))};function V0(l){if(l.G=0,l.ka=[],l.l){const f=p0(l.h);(f.length!=0||l.i.length!=0)&&(R(l.ka,f),R(l.ka,l.i),l.h.i.length=0,b(l.i),l.i.length=0),l.l.ra()}}function F0(l,f,g){var E=g instanceof ki?Qr(g):new ki(g);if(E.g!="")f&&(E.g=f+"."+E.g),zc(E,E.s);else{var M=a.location;E=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var U=new ki(null);E&&Uc(U,E),f&&(U.g=f),M&&zc(U,M),g&&(U.l=g),E=U}return g=l.D,f=l.ya,g&&f&&Qe(E,g,f),Qe(E,"VER",l.la),xl(l,E),E}function U0(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new ot(new yl({eb:g})):new ot(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function z0(){}t=z0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qc(){}Qc.prototype.g=function(l,f){return new kn(l,f)};function kn(l,f){ne.call(this),this.g=new k0(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!w(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!w(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new ko(this)}y(kn,ne),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){im(this.g)},kn.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Rn(l),l=g);f.i.push(new LI(f.Ya++,l)),f.G==3&&Wc(f)},kn.prototype.N=function(){this.g.l=null,delete this.j,im(this.g),delete this.g,kn.aa.N.call(this)};function B0(l){ll.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}y(B0,ll);function $0(){ul.call(this),this.status=1}y($0,ul);function ko(l){this.g=l}y(ko,z0),ko.prototype.ua=function(){le(this.g,"a")},ko.prototype.ta=function(l){le(this.g,new B0(l))},ko.prototype.sa=function(l){le(this.g,new $0)},ko.prototype.ra=function(){le(this.g,"b")},Qc.prototype.createWebChannel=Qc.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,nS=function(){return new Qc},tS=function(){return Ai()},eS=Nt,hg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mc.NO_ERROR=0,Mc.TIMEOUT=8,Mc.HTTP_ERROR=6,Vd=Mc,i0.COMPLETE="complete",XT=i0,al.EventType=Ts,Ts.OPEN="a",Ts.CLOSE="b",Ts.ERROR="c",Ts.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Bl=al,YT=yl,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,JT=ot}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const Jw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new Qy("@firebase/firestore");function Pl(){return co.logLevel}function ae(t,...e){if(co.logLevel<=ke.DEBUG){const n=e.map(ov);co.debug(`Firestore (${el}): ${t}`,...n)}}function gs(t,...e){if(co.logLevel<=ke.ERROR){const n=e.map(ov);co.error(`Firestore (${el}): ${t}`,...n)}}function Da(t,...e){if(co.logLevel<=ke.WARN){const n=e.map(ov);co.warn(`Firestore (${el}): ${t}`,...n)}}function ov(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: `+t;throw gs(e),new Error(e)}function He(t,e){t||ye()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class gO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yO{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new us;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new us,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new us)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new rS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new en(e)}}class vO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _O{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new vO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new wO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=EO(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function La(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new bt(0,0))}static max(){return new _e(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Du.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Du?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ze extends Du{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const TO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends Du{construct(e,n,r){return new Vt(e,n,r)}static isValidIdentifier(e){return TO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new se(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new se(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new se(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new se(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Ze.fromString(e))}static fromName(e){return new ce(Ze.fromString(e).popFirst(5))}static empty(){return new ce(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Ze(e.slice()))}}function SO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=_e.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new fi(s,ce.empty(),e)}function bO(t){return new fi(t.readTime,t.key,-1)}class fi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fi(_e.min(),ce.empty(),-1)}static max(){return new fi(_e.max(),ce.empty(),-1)}}function IO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==CO)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(s=>s?K.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new K((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new K((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function RO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ec(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}av.oe=-1;function Ef(t){return t==null}function Rh(t){return t===0&&1/t==-1/0}function kO(t){return typeof t=="number"&&Number.isInteger(t)&&!Rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=s??Lt.EMPTY,this.right=i??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Lt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Lt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xw(this.data.getIterator())}getIteratorFrom(e){return new Xw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class Xw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Ut(Vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return La(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new oS("Invalid base64 string: "+i):i}}(e);return new $t(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const NO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(t){if(He(!!t),typeof t=="string"){let e=0;const n=NO.exec(t);if(He(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ho(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uv(t){const e=t.mapValue.fields.__previous_value__;return lv(e)?uv(e):e}function Lu(t){const e=mi(t.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n,r,s,i,o,a,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}}class Mu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lv(t)?4:OO(t)?9007199254740991:jO(t)?10:11:ye()}function Ur(t,e){if(t===e)return!0;const n=fo(t);if(n!==fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lu(t).isEqual(Lu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=mi(s.timestampValue),a=mi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ho(s.bytesValue).isEqual(ho(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ht(s.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ht(s.integerValue)===ht(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ht(s.doubleValue),a=ht(i.doubleValue);return o===a?Rh(o)===Rh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return La(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Yw(o)!==Yw(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Ur(o[u],a[u])))return!1;return!0}(t,e);default:return ye()}}function Vu(t,e){return(t.values||[]).find(n=>Ur(n,e))!==void 0}function Ma(t,e){if(t===e)return 0;const n=fo(t),r=fo(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ht(i.integerValue||i.doubleValue),u=ht(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return e1(t.timestampValue,e.timestampValue);case 4:return e1(Lu(t),Lu(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ho(i),u=ho(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let d=0;d<a.length&&d<u.length;d++){const h=Me(a[d],u[d]);if(h!==0)return h}return Me(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Me(ht(i.latitude),ht(o.latitude));return a!==0?a:Me(ht(i.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return t1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,d,h;const p=i.fields||{},m=o.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,y=(u=m.value)===null||u===void 0?void 0:u.arrayValue,b=Me(((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0,((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0);return b!==0?b:t1(v,y)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===vd.mapValue&&o===vd.mapValue)return 0;if(i===vd.mapValue)return 1;if(o===vd.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),d=o.fields||{},h=Object.keys(d);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const m=Me(u[p],h[p]);if(m!==0)return m;const v=Ma(a[u[p]],d[h[p]]);if(v!==0)return v}return Me(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ye()}}function e1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=mi(t),r=mi(e),s=Me(n.seconds,r.seconds);return s!==0?s:Me(n.nanos,r.nanos)}function t1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ma(n[s],r[s]);if(i)return i}return Me(n.length,r.length)}function Va(t){return fg(t)}function fg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=mi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ho(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=fg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${fg(n.fields[o])}`;return s+"}"}(t.mapValue):ye()}function n1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mg(t){return!!t&&"integerValue"in t}function cv(t){return!!t&&"arrayValue"in t}function r1(t){return!!t&&"nullValue"in t}function s1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fd(t){return!!t&&"mapValue"in t}function jO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ou(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return To(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ou(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ou(t.arrayValue.values[n]);return e}return Object.assign({},t)}function OO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ou(n)}setAll(e){let n=Vt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ou(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Fd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){To(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new En(ou(this.value))}}function aS(t){const e=[];return To(t.fields,(n,r)=>{const s=new Vt([n]);if(Fd(r)){const i=aS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new nn(e,0,_e.min(),_e.min(),_e.min(),En.empty(),0)}static newFoundDocument(e,n,r,s){return new nn(e,1,n,_e.min(),r,s,0)}static newNoDocument(e,n){return new nn(e,2,n,_e.min(),_e.min(),En.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,_e.min(),_e.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.position=e,this.inclusive=n}}function i1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ce.comparator(ce.fromName(o.referenceValue),n.key):r=Ma(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function o1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n="asc"){this.field=e,this.dir=n}}function DO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{}class yt extends lS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MO(e,n,r):n==="array-contains"?new UO(e,r):n==="in"?new zO(e,r):n==="not-in"?new BO(e,r):n==="array-contains-any"?new $O(e,r):new yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VO(e,r):new FO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ma(n,this.value)):n!==null&&fo(this.value)===fo(n)&&this.matchesComparison(Ma(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends lS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new mr(e,n)}matches(e){return uS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function uS(t){return t.op==="and"}function cS(t){return LO(t)&&uS(t)}function LO(t){for(const e of t.filters)if(e instanceof mr)return!1;return!0}function pg(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+Va(t.value);if(cS(t))return t.filters.map(e=>pg(e)).join(",");{const e=t.filters.map(n=>pg(n)).join(",");return`${t.op}(${e})`}}function dS(t,e){return t instanceof yt?function(r,s){return s instanceof yt&&r.op===s.op&&r.field.isEqual(s.field)&&Ur(r.value,s.value)}(t,e):t instanceof mr?function(r,s){return s instanceof mr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&dS(o,s.filters[a]),!0):!1}(t,e):void ye()}function hS(t){return t instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Va(n.value)}`}(t):t instanceof mr?function(n){return n.op.toString()+" {"+n.getFilters().map(hS).join(" ,")+"}"}(t):"Filter"}class MO extends yt{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class VO extends yt{constructor(e,n){super(e,"in",n),this.keys=fS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FO extends yt{constructor(e,n){super(e,"not-in",n),this.keys=fS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class UO extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cv(n)&&Vu(n.arrayValue,this.value)}}class zO extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vu(this.value.arrayValue,n)}}class BO extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Vu(this.value.arrayValue,n)}}class $O extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function a1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new qO(t,e,n,r,s,i,o)}function dv(t){const e=we(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Va(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Va(r)).join(",")),e.ue=n}return e.ue}function hv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!o1(t.startAt,e.startAt)&&o1(t.endAt,e.endAt)}function gg(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function HO(t,e,n,r,s,i,o,a){return new Tc(t,e,n,r,s,i,o,a)}function fv(t){return new Tc(t)}function l1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mS(t){return t.collectionGroup!==null}function au(t){const e=we(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ut(Vt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Nh(i,r))}),n.has(Vt.keyField().canonicalString())||e.ce.push(new Nh(Vt.keyField(),r))}return e.ce}function Dr(t){const e=we(t);return e.le||(e.le=WO(e,au(t))),e.le}function WO(t,e){if(t.limitType==="F")return a1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Nh(s.field,i)});const n=t.endAt?new kh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new kh(t.startAt.position,t.startAt.inclusive):null;return a1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function yg(t,e){const n=t.filters.concat([e]);return new Tc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vg(t,e,n){return new Tc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tf(t,e){return hv(Dr(t),Dr(e))&&t.limitType===e.limitType}function pS(t){return`${dv(Dr(t))}|lt:${t.limitType}`}function Do(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>hS(s)).join(", ")}]`),Ef(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Va(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Va(s)).join(",")),`Target(${r})`}(Dr(t))}; limitType=${t.limitType})`}function Sf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ce.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of au(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const d=i1(o,a,u);return o.inclusive?d<=0:d<0}(r.startAt,au(r),s)||r.endAt&&!function(o,a,u){const d=i1(o,a,u);return o.inclusive?d>=0:d>0}(r.endAt,au(r),s))}(t,e)}function KO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gS(t){return(e,n)=>{let r=!1;for(const s of au(t)){const i=QO(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function QO(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),d=a.data.field(i);return u!==null&&d!==null?Ma(u,d):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return iS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=new it(ce.comparator);function ys(){return GO}const yS=new it(ce.comparator);function $l(...t){let e=yS;for(const n of t)e=e.insert(n.key,n);return e}function vS(t){let e=yS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ui(){return lu()}function _S(){return lu()}function lu(){return new tl(t=>t.toString(),(t,e)=>t.isEqual(e))}const ZO=new it(ce.comparator),JO=new Ut(ce.comparator);function Ce(...t){let e=JO;for(const n of t)e=e.add(n);return e}const YO=new Ut(Me);function XO(){return YO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function wS(t){return{integerValue:""+t}}function eD(t,e){return kO(e)?wS(e):mv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this._=void 0}}function tD(t,e,n){return t instanceof Ph?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&lv(i)&&(i=uv(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Fu?ES(t,e):t instanceof Uu?TS(t,e):function(s,i){const o=xS(s,i),a=u1(o)+u1(s.Pe);return mg(o)&&mg(s.Pe)?wS(a):mv(s.serializer,a)}(t,e)}function nD(t,e,n){return t instanceof Fu?ES(t,e):t instanceof Uu?TS(t,e):n}function xS(t,e){return t instanceof jh?function(r){return mg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ph extends bf{}class Fu extends bf{constructor(e){super(),this.elements=e}}function ES(t,e){const n=SS(e);for(const r of t.elements)n.some(s=>Ur(s,r))||n.push(r);return{arrayValue:{values:n}}}class Uu extends bf{constructor(e){super(),this.elements=e}}function TS(t,e){let n=SS(e);for(const r of t.elements)n=n.filter(s=>!Ur(s,r));return{arrayValue:{values:n}}}class jh extends bf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function u1(t){return ht(t.integerValue||t.doubleValue)}function SS(t){return cv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rD(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Fu&&s instanceof Fu||r instanceof Uu&&s instanceof Uu?La(r.elements,s.elements,Ur):r instanceof jh&&s instanceof jh?Ur(r.Pe,s.Pe):r instanceof Ph&&s instanceof Ph}(t.transform,e.transform)}class sD{constructor(e,n){this.version=e,this.transformResults=n}}class Lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ud(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let If=class{};function bS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new CS(t.key,Lr.none()):new Sc(t.key,t.data,Lr.none());{const n=t.data,r=En.empty();let s=new Ut(Vt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new bi(t.key,r,new Dn(s.toArray()),Lr.none())}}function iD(t,e,n){t instanceof Sc?function(s,i,o){const a=s.value.clone(),u=d1(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof bi?function(s,i,o){if(!Ud(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=d1(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(IS(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function uu(t,e,n,r){return t instanceof Sc?function(i,o,a,u){if(!Ud(i.precondition,o))return a;const d=i.value.clone(),h=h1(i.fieldTransforms,u,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof bi?function(i,o,a,u){if(!Ud(i.precondition,o))return a;const d=h1(i.fieldTransforms,u,o),h=o.data;return h.setAll(IS(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return Ud(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function oD(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=xS(r.transform,s||null);i!=null&&(n===null&&(n=En.empty()),n.set(r.field,i))}return n||null}function c1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&La(r,s,(i,o)=>rD(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sc extends If{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class bi extends If{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function IS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function d1(t,e,n){const r=new Map;He(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,nD(o,a,n[s]))}return r}function h1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,tD(i,o,e))}return r}class CS extends If{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aD extends If{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&iD(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=uu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=uu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_S();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=bS(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&La(this.mutations,e.mutations,(n,r)=>c1(n,r))&&La(this.baseMutations,e.baseMutations,(n,r)=>c1(n,r))}}class pv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){He(e.mutations.length===r.length);let s=function(){return ZO}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new pv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Ne;function dD(t){switch(t){default:return ye();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function AS(t){if(t===void 0)return gs("GRPC error has no .code"),W.UNKNOWN;switch(t){case pt.OK:return W.OK;case pt.CANCELLED:return W.CANCELLED;case pt.UNKNOWN:return W.UNKNOWN;case pt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case pt.INTERNAL:return W.INTERNAL;case pt.UNAVAILABLE:return W.UNAVAILABLE;case pt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case pt.NOT_FOUND:return W.NOT_FOUND;case pt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case pt.ABORTED:return W.ABORTED;case pt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case pt.DATA_LOSS:return W.DATA_LOSS;default:return ye()}}(Ne=pt||(pt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new Yi([4294967295,4294967295],0);function f1(t){const e=hD().encode(t),n=new ZT;return n.update(e),new Uint8Array(n.digest())}function m1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Yi([n,r],0),new Yi([s,i],0)]}class gv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Yi.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Yi.fromNumber(r)));return s.compare(fD)===1&&(s=new Yi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=f1(e),[r,s]=m1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new gv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=f1(e),[r,s]=m1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cf(_e.min(),s,new it(Me),ys(),Ce())}}class bc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bc(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class RS{constructor(e,n){this.targetId=e,this.me=n}}class kS{constructor(e,n,r=$t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class p1{constructor(){this.fe=0,this.ge=y1(),this.pe=$t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),n=Ce(),r=Ce();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ye()}}),new bc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=y1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mD{constructor(e){this.Le=e,this.Be=new Map,this.ke=ys(),this.qe=g1(),this.Qe=new it(Me)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(gg(i))if(r===0){const o=new ce(i.path);this.Ue(n,o,nn.newNoDocument(o,_e.min()))}else He(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ho(r).toUint8Array()}catch(u){if(u instanceof oS)return Da("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new gv(o,s,i)}catch(u){return Da(u instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&gg(a.target)){const u=new ce(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,nn.newNoDocument(u,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Ce();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Cf(e,n,this.Qe,this.ke,r);return this.ke=ys(),this.qe=g1(),this.Qe=new it(Me),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new p1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ut(Me),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new p1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function g1(){return new it(ce.comparator)}function y1(){return new it(ce.comparator)}const pD={asc:"ASCENDING",desc:"DESCENDING"},gD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yD={and:"AND",or:"OR"};class vD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _g(t,e){return t.useProto3Json||Ef(e)?e:{value:e}}function Oh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _D(t,e){return Oh(t,e.toTimestamp())}function Mr(t){return He(!!t),_e.fromTimestamp(function(n){const r=mi(n);return new bt(r.seconds,r.nanos)}(t))}function yv(t,e){return wg(t,e).canonicalString()}function wg(t,e){const n=function(s){return new Ze(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PS(t){const e=Ze.fromString(t);return He(MS(e)),e}function xg(t,e){return yv(t.databaseId,e.path)}function Qm(t,e){const n=PS(e);if(n.get(1)!==t.databaseId.projectId)throw new se(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(OS(n))}function jS(t,e){return yv(t.databaseId,e)}function wD(t){const e=PS(t);return e.length===4?Ze.emptyPath():OS(e)}function Eg(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OS(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function v1(t,e,n){return{name:xg(t,e),fields:n.value.mapValue.fields}}function xD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(He(h===void 0||typeof h=="string"),$t.fromBase64String(h||"")):(He(h===void 0||h instanceof Buffer||h instanceof Uint8Array),$t.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?W.UNKNOWN:AS(d.code);return new se(h,d.message||"")}(o);n=new kS(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Qm(t,r.document.name),i=Mr(r.document.updateTime),o=r.document.createTime?Mr(r.document.createTime):_e.min(),a=new En({mapValue:{fields:r.document.fields}}),u=nn.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new zd(d,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Qm(t,r.document),i=r.readTime?Mr(r.readTime):_e.min(),o=nn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new zd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Qm(t,r.document),i=r.removedTargetIds||[];n=new zd([],i,s,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new cD(s,i),a=r.targetId;n=new RS(a,o)}}return n}function ED(t,e){let n;if(e instanceof Sc)n={update:v1(t,e.key,e.value)};else if(e instanceof CS)n={delete:xg(t,e.key)};else if(e instanceof bi)n={update:v1(t,e.key,e.data),updateMask:ND(e.fieldMask)};else{if(!(e instanceof aD))return ye();n={verify:xg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ph)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Fu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Uu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof jh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:_D(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ye()}(t,e.precondition)),n}function TD(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Mr(s.updateTime):Mr(i);return o.isEqual(_e.min())&&(o=Mr(i)),new sD(o,s.transformResults||[])}(n,e))):[]}function SD(t,e){return{documents:[jS(t,e.path)]}}function bD(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jS(t,s);const i=function(d){if(d.length!==0)return LS(mr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:Lo(m.field),direction:AD(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=_g(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function ID(t){let e=wD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){He(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const m=DS(p);return m instanceof mr&&cS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(y){return new Nh(Mo(y.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Ef(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,v=p.values||[];return new kh(v,m)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const m=!p.before,v=p.values||[];return new kh(v,m)}(n.endAt)),HO(e,s,o,i,a,"F",u,d)}function CD(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mo(n.unaryFilter.field);return yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Mo(n.unaryFilter.field);return yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Mo(n.unaryFilter.field);return yt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Mo(n.unaryFilter.field);return yt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return yt.create(Mo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mr.create(n.compositeFilter.filters.map(r=>DS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function AD(t){return pD[t]}function RD(t){return gD[t]}function kD(t){return yD[t]}function Lo(t){return{fieldPath:t.canonicalString()}}function Mo(t){return Vt.fromServerFormat(t.fieldPath)}function LS(t){return t instanceof yt?function(n){if(n.op==="=="){if(s1(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NAN"}};if(r1(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s1(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NAN"}};if(r1(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(n.field),op:RD(n.op),value:n.value}}}(t):t instanceof mr?function(n){const r=n.getFilters().map(s=>LS(s));return r.length===1?r[0]:{compositeFilter:{op:kD(n.op),filters:r}}}(t):ye()}function ND(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r,s,i=_e.min(),o=_e.min(),a=$t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.ct=e}}function jD(t){const e=ID({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.un=new DD}addToCollectionParentIndex(e,n){return this.un.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(fi.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(fi.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class DD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ut(Ze.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ut(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Fa(0)}static kn(){return new Fa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.changes=new tl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&uu(r.mutation,s,Dn.empty(),bt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const s=Ui();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=$l();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ui();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ys();const o=lu(),a=function(){return lu()}();return n.forEach((u,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof bi)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),uu(h.mutation,d,h.mutation.getFieldMask(),bt.now())):o.set(d.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var p;return a.set(d,new MD(h,(p=o.get(d))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=lu();let s=new it((o,a)=>o-a),i=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let h=r.get(u)||Dn.empty();h=a.applyToLocalView(d,h),r.set(u,h);const p=(s.get(a.batchId)||Ce()).add(u);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),d=u.key,h=u.value,p=_S();h.forEach(m=>{if(!i.has(m)){const v=bS(n.get(m),r.get(m));v!==null&&p.set(m,v),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):K.resolve(Ui());let a=-1,u=i;return o.next(d=>K.forEach(d,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?K.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,Ce())).next(h=>({batchId:a,changes:vS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let s=$l();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=$l();return this.indexManager.getCollectionParents(e,i).next(a=>K.forEach(a,u=>{const d=function(p,m){return new Tc(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,nn.newInvalidDocument(h)))});let a=$l();return o.forEach((u,d)=>{const h=i.get(u);h!==void 0&&uu(h.mutation,d,Dn.empty(),bt.now()),Sf(n,d)&&(a=a.insert(u,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return K.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Mr(s.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:jD(s.bundledQuery),readTime:Mr(s.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.overlays=new it(ce.comparator),this.Ir=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ui();return K.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const s=Ui(),i=n.length+1,o=new ce(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return K.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new it((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Ui(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Ui(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return K.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new uD(n,r));let i=this.Ir.get(n);i===void 0&&(i=Ce(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(){this.Tr=new Ut(Ct.Er),this.dr=new Ut(Ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ce(new Ze([])),r=new Ct(n,e),s=new Ct(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ce(new Ze([])),r=new Ct(n,e),s=new Ct(n,e+1);let i=Ce();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ce.comparator(e.key,n.key)||Me(e.wr,n.wr)}static Ar(e,n){return Me(e.wr,n.wr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ut(Ct.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lD(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Ct(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return K.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),s=new Ct(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),K.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(Me);return n.forEach(s=>{const i=new Ct(s,0),o=new Ct(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),K.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ce.isDocumentKey(i)||(i=i.child(""));const o=new Ct(new ce(i),0);let a=new Ut(Me);return this.br.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(u.wr)),!0)},o),K.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){He(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return K.forEach(n.mutations,s=>{const i=new Ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ct(n,0),s=this.br.firstAfterOrEqual(r);return K.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.Mr=e,this.docs=function(){return new it(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=ys();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():nn.newInvalidDocument(s))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ys();const o=n.path,a=new ce(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:d,value:{document:h}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||IO(bO(h),r)<=0||(s.has(h.key)||Sf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return K.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ye()}Or(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qD(this)}getSize(e){return K.resolve(this.size)}}class qD extends LD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.persistence=e,this.Nr=new tl(n=>dv(n),hv),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new vv,this.targetCount=0,this.kr=Fa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),K.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Fa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Kn(n),K.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),K.waitFor(i).next(()=>s)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),K.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new av(0),this.Kr=!1,this.Kr=!0,this.$r=new zD,this.referenceDelegate=e(this),this.Ur=new HD(this),this.indexManager=new OD,this.remoteDocumentCache=function(s){return new $D(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new PD(n),this.Gr=new FD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new BD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const s=new KD(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return K.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class KD extends AO{constructor(e){super(),this.currentSequenceNumber=e}}class _v{constructor(e){this.persistence=e,this.Jr=new vv,this.Yr=null}static Zr(e){return new _v(e)}get Xr(){if(this.Yr)return this.Yr;throw ye()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),K.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,r=>{const s=ce.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,_e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return K.or([()=>K.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ce(),s=Ce();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new wv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return FN()?8:RO(sn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new QD;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Pl()<=ke.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Do(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(Pl()<=ke.DEBUG&&ae("QueryEngine","Query:",Do(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Pl()<=ke.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Do(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(n))):K.resolve())}Yi(e,n){if(l1(n))return K.resolve(null);let r=Dr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=vg(n,null,"F"),r=Dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ce(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.ts(n,a);return this.ns(n,d,o,u.readTime)?this.Yi(e,vg(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,s){return l1(n)||s.isEqual(_e.min())?K.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?K.resolve(null):(Pl()<=ke.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Do(n)),this.rs(e,o,n,SO(s,-1)).next(a=>a))})}ts(e,n){let r=new Ut(gS(e));return n.forEach((s,i)=>{Sf(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Pl()<=ke.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Do(n)),this.Ji.getDocumentsMatchingQuery(e,n,fi.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new it(Me),this._s=new tl(i=>dv(i),hv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function JD(t,e,n,r){return new ZD(t,e,n,r)}async function VS(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=Ce();for(const d of s){o.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})}function YD(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,h){const p=d.batch,m=p.keys();let v=K.resolve();return m.forEach(y=>{v=v.next(()=>h.getEntry(u,y)).next(b=>{const R=d.docVersions.get(y);He(R!==null),b.version.compareTo(R)<0&&(p.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),h.addEntry(b)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ce();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function FS(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function XD(t,e){const n=we(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,p)=>{const m=s.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,p)));let v=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken($t.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(p,v),function(b,R,T){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(i,v))});let u=ys(),d=Ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(e3(i,o,e.documentUpdates).next(h=>{u=h.Ps,d=h.Is})),!r.isEqual(_e.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(p=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return K.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(n.os=s,i))}function e3(t,e,n){let r=Ce(),s=Ce();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ys();return n.forEach((a,u)=>{const d=i.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(_e.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:o,Is:s}})}function t3(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function n3(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,K.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Gs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Tg(t,e,n){const r=we(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ec(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function _1(t,e,n){const r=we(t);let s=_e.min(),i=Ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,h){const p=we(u),m=p._s.get(h);return m!==void 0?K.resolve(p.os.get(m)):p.Ur.getTargetData(d,h)}(r,o,Dr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:_e.min(),n?i:Ce())).next(a=>(r3(r,KO(e),a),{documents:a,Ts:i})))}function r3(t,e,n){let r=t.us.get(e)||_e.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class w1{constructor(){this.activeTargetIds=XO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s3{constructor(){this.so=new w1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new w1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d=null;function Gm(){return _d===null?_d=function(){return 268435456+Math.round(2147483648*Math.random())}():_d++,"0x"+_d.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class l3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Gm(),u=this.xo(n,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${a}:`,u,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,o),this.No(n,u,d,s).then(h=>(ae("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Da("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=o3[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Gm();return new Promise((o,a)=>{const u=new JT;u.setWithCredentials(!0),u.listenOnce(XT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vd.NO_ERROR:const h=u.getResponseJson();ae(Yt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Vd.TIMEOUT:ae(Yt,`RPC '${e}' ${i} timed out`),a(new se(W.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const p=u.getStatus();if(ae(Yt,`RPC '${e}' ${i} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const y=function(R){const T=R.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(T)>=0?T:W.UNKNOWN}(v.status);a(new se(y,v.message))}else a(new se(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new se(W.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ae(Yt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);ae(Yt,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=Gm(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=nS(),a=tS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.xmlHttpFactory=new YT({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");ae(Yt,`Creating RPC '${e}' stream ${s}: ${h}`,u);const p=o.createWebChannel(h,u);let m=!1,v=!1;const y=new a3({Io:R=>{v?ae(Yt,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(m||(ae(Yt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),ae(Yt,`RPC '${e}' stream ${s} sending:`,R),p.send(R))},To:()=>p.close()}),b=(R,T,w)=>{R.listen(T,S=>{try{w(S)}catch(D){setTimeout(()=>{throw D},0)}})};return b(p,Bl.EventType.OPEN,()=>{v||(ae(Yt,`RPC '${e}' stream ${s} transport opened.`),y.yo())}),b(p,Bl.EventType.CLOSE,()=>{v||(v=!0,ae(Yt,`RPC '${e}' stream ${s} transport closed`),y.So())}),b(p,Bl.EventType.ERROR,R=>{v||(v=!0,Da(Yt,`RPC '${e}' stream ${s} transport errored:`,R),y.So(new se(W.UNAVAILABLE,"The operation could not be completed")))}),b(p,Bl.EventType.MESSAGE,R=>{var T;if(!v){const w=R.data[0];He(!!w);const S=w,D=S.error||((T=S[0])===null||T===void 0?void 0:T.error);if(D){ae(Yt,`RPC '${e}' stream ${s} received error:`,D);const V=D.status;let B=function(C){const k=pt[C];if(k!==void 0)return AS(k)}(V),I=D.message;B===void 0&&(B=W.INTERNAL,I="Unknown error status: "+V+" with message "+D.message),v=!0,y.So(new se(B,I)),p.close()}else ae(Yt,`RPC '${e}' stream ${s} received:`,w),y.bo(w)}}),b(a,eS.STAT_EVENT,R=>{R.stat===hg.PROXY?ae(Yt,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===hg.NOPROXY&&ae(Yt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){return new vD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n,r,s,i,o,a,u){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new US(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(gs(n.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new se(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u3 extends zS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=xD(this.serializer,e),r=function(i){if(!("targetChange"in i))return _e.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?Mr(o.readTime):_e.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Eg(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=gg(u)?{documents:SD(i,u)}:{query:bD(i,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=NS(i,o.resumeToken);const d=_g(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(_e.min())>0){a.readTime=Oh(i,o.snapshotVersion.toTimestamp());const d=_g(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=CD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Eg(this.serializer),n.removeTarget=e,this.a_(n)}}class c3 extends zS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=TD(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Eg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ED(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new se(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,wg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(W.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,wg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(W.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class h3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gs(n),this.D_=!1):ae("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{So(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=we(u);d.L_.add(4),await Ic(d),d.q_.set("Unknown"),d.L_.delete(4),await Rf(d)}(this))})}),this.q_=new h3(r,s)}}async function Rf(t){if(So(t))for(const e of t.B_)await e(!0)}async function Ic(t){for(const e of t.B_)await e(!1)}function BS(t,e){const n=we(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Sv(n)?Tv(n):nl(n).r_()&&Ev(n,e))}function xv(t,e){const n=we(t),r=nl(n);n.N_.delete(e),r.r_()&&$S(n,e),n.N_.size===0&&(r.r_()?r.o_():So(n)&&n.q_.set("Unknown"))}function Ev(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nl(t).A_(e)}function $S(t,e){t.Q_.xe(e),nl(t).R_(e)}function Tv(t){t.Q_=new mD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),nl(t).start(),t.q_.v_()}function Sv(t){return So(t)&&!nl(t).n_()&&t.N_.size>0}function So(t){return we(t).L_.size===0}function qS(t){t.Q_=void 0}async function m3(t){t.q_.set("Online")}async function p3(t){t.N_.forEach((e,n)=>{Ev(t,e)})}async function g3(t,e){qS(t),Sv(t)?(t.q_.M_(e),Tv(t)):t.q_.set("Unknown")}async function y3(t,e,n){if(t.q_.set("Online"),e instanceof kS&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dh(t,r)}else if(e instanceof zd?t.Q_.Ke(e):e instanceof RS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(_e.min()))try{const r=await FS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,d)=>{const h=i.N_.get(u);if(!h)return;i.N_.set(u,h.withResumeToken($t.EMPTY_BYTE_STRING,h.snapshotVersion)),$S(i,u);const p=new Gs(h.target,u,d,h.sequenceNumber);Ev(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),await Dh(t,r)}}async function Dh(t,e,n){if(!Ec(e))throw e;t.L_.add(1),await Ic(t),t.q_.set("Offline"),n||(n=()=>FS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Rf(t)})}function HS(t,e){return e().catch(n=>Dh(t,n,e))}async function kf(t){const e=we(t),n=pi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;v3(e);)try{const s=await t3(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,_3(e,s)}catch(s){await Dh(e,s)}WS(e)&&KS(e)}function v3(t){return So(t)&&t.O_.length<10}function _3(t,e){t.O_.push(e);const n=pi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function WS(t){return So(t)&&!pi(t).n_()&&t.O_.length>0}function KS(t){pi(t).start()}async function w3(t){pi(t).p_()}async function x3(t){const e=pi(t);for(const n of t.O_)e.m_(n.mutations)}async function E3(t,e,n){const r=t.O_.shift(),s=pv.from(r,e,n);await HS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await kf(t)}async function T3(t,e){e&&pi(t).V_&&await async function(r,s){if(function(o){return dD(o)&&o!==W.ABORTED}(s.code)){const i=r.O_.shift();pi(r).s_(),await HS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await kf(r)}}(t,e),WS(t)&&KS(t)}async function E1(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=So(n);n.L_.add(3),await Ic(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Rf(n)}async function S3(t,e){const n=we(t);e?(n.L_.delete(2),await Rf(n)):e||(n.L_.add(2),await Ic(n),n.q_.set("Unknown"))}function nl(t){return t.K_||(t.K_=function(n,r,s){const i=we(n);return i.w_(),new u3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:m3.bind(null,t),Ro:p3.bind(null,t),mo:g3.bind(null,t),d_:y3.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Sv(t)?Tv(t):t.q_.set("Unknown")):(await t.K_.stop(),qS(t))})),t.K_}function pi(t){return t.U_||(t.U_=function(n,r,s){const i=we(n);return i.w_(),new c3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:w3.bind(null,t),mo:T3.bind(null,t),f_:x3.bind(null,t),g_:E3.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await kf(t)):(await t.U_.stop(),t.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new bv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iv(t,e){if(gs("AsyncQueue",`${e}: ${t}`),Ec(t))return new se(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=$l(),this.sortedSet=new it(this.comparator)}static emptySet(e){return new da(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof da)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.W_=new it(ce.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ye():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ua{constructor(e,n,r,s,i,o,a,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ua(e,n,da.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class I3{constructor(){this.queries=S1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=we(n),i=s.queries;s.queries=S1(),i.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new se(W.ABORTED,"Firestore shutting down"))}}function S1(){return new tl(t=>pS(t),Tf)}async function QS(t,e){const n=we(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new b3,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Iv(o,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Cv(n)}async function GS(t,e){const n=we(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function C3(t,e){const n=we(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Cv(n)}function A3(t,e,n){const r=we(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Cv(t){t.Y_.forEach(e=>{e.next()})}var Sg,b1;(b1=Sg||(Sg={})).ea="default",b1.Cache="cache";class ZS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Sg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.key=e}}class YS{constructor(e){this.key=e}}class R3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ce(),this.mutatedKeys=Ce(),this.Aa=gS(e),this.Ra=new da(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new T1,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const m=s.get(h),v=Sf(this.query,p)?p:null,y=!!m&&this.mutatedKeys.has(m.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let R=!1;m&&v?m.data.isEqual(v.data)?y!==b&&(r.track({type:3,doc:v}),R=!0):this.ga(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||d&&this.Aa(v,d)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||d)&&(a=!0)),R&&(v?(o=o.add(v),i=b?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,p)=>function(v,y){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return b(v)-b(y)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,d=u!==this.Ea;return this.Ea=u,o.length!==0||d?{snapshot:new Ua(this.query,e.Ra,i,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new T1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new YS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new JS(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ce();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ua.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class k3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class N3{constructor(e){this.key=e,this.va=!1}}class P3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new tl(a=>pS(a),Tf),this.Ma=new Map,this.xa=new Set,this.Oa=new it(ce.comparator),this.Na=new Map,this.La=new vv,this.Ba={},this.ka=new Map,this.qa=Fa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function j3(t,e,n=!0){const r=sb(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await XS(r,e,n,!0),s}async function O3(t,e){const n=sb(t);await XS(n,e,!0,!1)}async function XS(t,e,n,r){const s=await n3(t.localStore,Dr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await D3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&BS(t.remoteStore,s),a}async function D3(t,e,n,r,s){t.Ka=(p,m,v)=>async function(b,R,T,w){let S=R.view.ma(T);S.ns&&(S=await _1(b.localStore,R.query,!1).then(({documents:I})=>R.view.ma(I,S)));const D=w&&w.targetChanges.get(R.targetId),V=w&&w.targetMismatches.get(R.targetId)!=null,B=R.view.applyChanges(S,b.isPrimaryClient,D,V);return C1(b,R.targetId,B.wa),B.snapshot}(t,p,m,v);const i=await _1(t.localStore,e,!0),o=new R3(e,i.Ts),a=o.ma(i.documents),u=bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,u);C1(t,n,d.wa);const h=new k3(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function L3(t,e,n){const r=we(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Tf(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Tg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&xv(r.remoteStore,s.targetId),bg(r,s.targetId)}).catch(xc)):(bg(r,s.targetId),await Tg(r.localStore,s.targetId,!0))}async function M3(t,e){const n=we(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xv(n.remoteStore,r.targetId))}async function V3(t,e,n){const r=H3(t);try{const s=await function(o,a){const u=we(o),d=bt.now(),h=a.reduce((v,y)=>v.add(y.key),Ce());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let y=ys(),b=Ce();return u.cs.getEntries(v,h).next(R=>{y=R,y.forEach((T,w)=>{w.isValidDocument()||(b=b.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,y)).next(R=>{p=R;const T=[];for(const w of a){const S=oD(w,p.get(w.key).overlayedDocument);S!=null&&T.push(new bi(w.key,S,aS(S.value.mapValue),Lr.exists(!0)))}return u.mutationQueue.addMutationBatch(v,d,T,a)}).next(R=>{m=R;const T=R.applyToLocalDocumentSet(p,b);return u.documentOverlayCache.saveOverlays(v,R.batchId,T)})}).then(()=>({batchId:m.batchId,changes:vS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new it(Me)),d=d.insert(a,u),o.Ba[o.currentUser.toKey()]=d}(r,s.batchId,n),await Cc(r,s.changes),await kf(r.remoteStore)}catch(s){const i=Iv(s,"Failed to persist write");n.reject(i)}}async function eb(t,e){const n=we(t);try{const r=await XD(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(He(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?He(o.va):s.removedDocuments.size>0&&(He(o.va),o.va=!1))}),await Cc(n,r,e)}catch(r){await xc(r)}}function I1(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=we(o);u.onlineState=a;let d=!1;u.queries.forEach((h,p)=>{for(const m of p.j_)m.Z_(a)&&(d=!0)}),d&&Cv(u)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F3(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new it(ce.comparator);o=o.insert(i,nn.newNoDocument(i,_e.min()));const a=Ce().add(i),u=new Cf(_e.min(),new Map,new it(Me),o,a);await eb(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(e),Av(r)}else await Tg(r.localStore,e,!1).then(()=>bg(r,e,n)).catch(xc)}async function U3(t,e){const n=we(t),r=e.batch.batchId;try{const s=await YD(n.localStore,e);nb(n,r,null),tb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cc(n,s)}catch(s){await xc(s)}}async function z3(t,e,n){const r=we(t);try{const s=await function(o,a){const u=we(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return u.mutationQueue.lookupMutationBatch(d,a).next(p=>(He(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(d,p))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>u.localDocuments.getDocuments(d,h))})}(r.localStore,e);nb(r,e,n),tb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cc(r,s)}catch(s){await xc(s)}}function tb(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function nb(t,e,n){const r=we(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function bg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||rb(t,r)})}function rb(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(xv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Av(t))}function C1(t,e,n){for(const r of n)r instanceof JS?(t.La.addReference(r.key,e),B3(t,r)):r instanceof YS?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||rb(t,r.key)):ye()}function B3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.xa.add(r),Av(t))}function Av(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ce(Ze.fromString(e)),r=t.qa.next();t.Na.set(r,new N3(n)),t.Oa=t.Oa.insert(n,r),BS(t.remoteStore,new Gs(Dr(fv(n.path)),r,"TargetPurposeLimboResolution",av.oe))}}async function Cc(t,e,n){const r=we(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(d){s.push(d);const p=wv.Wi(u.targetId,d);i.push(p)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(u,d){const h=we(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>K.forEach(d,m=>K.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>K.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Ec(p))throw p;ae("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const m=p.targetId;if(!p.fromCache){const v=h.os.get(m),y=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(y);h.os=h.os.insert(m,b)}}}(r.localStore,i))}async function $3(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=await VS(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(u=>{u.reject(new se(W.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cc(n,r.hs)}}function q3(t,e){const n=we(t),r=n.Na.get(e);if(r&&r.va)return Ce().add(r.key);{let s=Ce();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function sb(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F3.bind(null,e),e.Ca.d_=C3.bind(null,e.eventManager),e.Ca.$a=A3.bind(null,e.eventManager),e}function H3(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z3.bind(null,e),e}class A1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Af(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return JD(this.persistence,new GD,e.initialUser,this.serializer)}createPersistence(e){return new WD(_v.Zr,this.serializer)}createSharedClientState(e){return new s3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class W3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>I1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$3.bind(null,this.syncEngine),await S3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new I3}()}createDatastore(e){const n=Af(e.databaseInfo.databaseId),r=function(i){return new l3(i)}(e.databaseInfo);return function(i,o,a,u){return new d3(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new f3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>I1(this.syncEngine,n,0),function(){return x1.D()?new x1:new i3}())}createSyncEngine(e,n){return function(s,i,o,a,u,d,h){const p=new P3(s,i,o,a,u,d);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=we(s);ae("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Ic(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=en.UNAUTHENTICATED,this.clientId=sS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{ae("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ae("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Iv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Jm(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await VS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function R1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G3(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>E1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>E1(e.remoteStore,s)),t._onlineComponents=e}function Q3(t){return t.name==="FirebaseError"?t.code===W.FAILED_PRECONDITION||t.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function G3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Q3(n))throw n;Da("Error using user provided cache. Falling back to memory cache: "+n),await Jm(t,new A1)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Jm(t,new A1);return t._offlineComponents}async function ob(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await R1(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await R1(t,new W3))),t._onlineComponents}function Z3(t){return ob(t).then(e=>e.syncEngine)}async function ab(t){const e=await ob(t),n=e.eventManager;return n.onListen=j3.bind(null,e.syncEngine),n.onUnlisten=L3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=M3.bind(null,e.syncEngine),n}function J3(t,e,n={}){const r=new us;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,d){const h=new ib({next:m=>{o.enqueueAndForget(()=>GS(i,p));const v=m.docs.has(a);!v&&m.fromCache?d.reject(new se(W.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?d.reject(new se(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),p=new ZS(fv(a.path),h,{includeMetadataChanges:!0,_a:!0});return QS(i,p)}(await ab(t),t.asyncQueue,e,n,r)),r.promise}function Y3(t,e,n={}){const r=new us;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,d){const h=new ib({next:m=>{o.enqueueAndForget(()=>GS(i,p)),m.fromCache&&u.source==="server"?d.reject(new se(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),p=new ZS(a,h,{includeMetadataChanges:!0,_a:!0});return QS(i,p)}(await ab(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t,e,n){if(!n)throw new se(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function X3(t,e,n,r){if(e===!0&&r===!0)throw new se(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function N1(t){if(!ce.isDocumentKey(t))throw new se(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function P1(t){if(ce.isDocumentKey(t))throw new se(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function vs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nf(t);throw new se(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pO;switch(r.type){case"firstParty":return new _O(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=k1.get(n);r&&(ae("ComponentProvider","Removing Datastore"),k1.delete(n),r.terminate())}(this),Promise.resolve()}}function e5(t,e,n,r={}){var s;const i=(t=vs(t,Pf))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=en.MOCK_USER;else{a=PN(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new se(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new en(d)}t._authCredentials=new gO(new rS(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf=class cb{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cb(this.firestore,e,this._query)}};class mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class li extends jf{constructor(e,n,r){super(e,n,fv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new ce(e))}withConverter(e){return new li(this.firestore,e,this._path)}}function t5(t,e,...n){if(t=Bt(t),ub("collection","path",e),t instanceof Pf){const r=Ze.fromString(e,...n);return P1(r),new li(t,null,r)}{if(!(t instanceof mn||t instanceof li))throw new se(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return P1(r),new li(t.firestore,null,r)}}function za(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=sS.newId()),ub("doc","path",e),t instanceof Pf){const r=Ze.fromString(e,...n);return N1(r),new mn(t,null,new ce(r))}{if(!(t instanceof mn||t instanceof li))throw new se(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return N1(r),new mn(t.firestore,t instanceof li?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new US(this,"async_queue_retry"),this.Eu=()=>{const n=Zm();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Zm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new us;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ec(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw gs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=bv.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&ye()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Ac extends Pf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new n5}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||db(this),this._firestoreClient.terminate()}}function r5(t,e){const n=typeof t=="object"?t:fT(),r=typeof t=="string"?t:"(default)",s=Zy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=kN("firestore");i&&e5(s,...i)}return s}function Rv(t){return t._firestoreClient||db(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function db(t){var e,n,r;const s=t._freezeSettings(),i=function(a,u,d,h){return new PO(a,u,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,lb(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new K3(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ba($t.fromBase64String(e))}catch(n){throw new se(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ba($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=/^__.*__$/;class i5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sc(e,this.data,n,this.fieldTransforms)}}class hb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class jv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new jv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Lh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(fb(this.wu)&&s5.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class o5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Af(e)}Nu(e,n,r,s=!1){return new jv({wu:e,methodName:n,Ou:r,path:Vt.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ov(t){const e=t._freezeSettings(),n=Af(t._databaseId);return new o5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function a5(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);Dv("Data must be an object, but it was:",o,r);const a=mb(r,o);let u,d;if(i.merge)u=new Dn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const m=Ig(e,p,n);if(!o.contains(m))throw new se(W.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);gb(h,m)||h.push(m)}u=new Dn(h),d=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,d=o.fieldTransforms;return new i5(new En(a),u,d)}class Df extends kv{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Df}}function l5(t,e,n,r){const s=t.Nu(1,e,n);Dv("Data must be an object, but it was:",s,r);const i=[],o=En.empty();To(r,(u,d)=>{const h=Lv(e,u,n);d=Bt(d);const p=s.Cu(h);if(d instanceof Df)i.push(h);else{const m=Rc(d,p);m!=null&&(i.push(h),o.set(h,m))}});const a=new Dn(i);return new hb(o,a,s.fieldTransforms)}function u5(t,e,n,r,s,i){const o=t.Nu(1,e,n),a=[Ig(e,r,n)],u=[s];if(i.length%2!=0)throw new se(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(Ig(e,i[m])),u.push(i[m+1]);const d=[],h=En.empty();for(let m=a.length-1;m>=0;--m)if(!gb(d,a[m])){const v=a[m];let y=u[m];y=Bt(y);const b=o.Cu(v);if(y instanceof Df)d.push(v);else{const R=Rc(y,b);R!=null&&(d.push(v),h.set(v,R))}}const p=new Dn(d);return new hb(h,p,o.fieldTransforms)}function c5(t,e,n,r=!1){return Rc(n,t.Nu(r?4:3,e))}function Rc(t,e){if(pb(t=Bt(t)))return Dv("Unsupported field value:",e,t),mb(t,e);if(t instanceof kv)return function(r,s){if(!fb(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=Rc(a,s.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eD(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=bt.fromDate(r);return{timestampValue:Oh(s.serializer,i)}}if(r instanceof bt){const i=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Oh(s.serializer,i)}}if(r instanceof Nv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ba)return{bytesValue:NS(s.serializer,r._byteString)};if(r instanceof mn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:yv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Pv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return mv(a.serializer,u)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${Nf(r)}`)}(t,e)}function mb(t,e){const n={};return iS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,(r,s)=>{const i=Rc(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function pb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof Nv||t instanceof Ba||t instanceof mn||t instanceof kv||t instanceof Pv)}function Dv(t,e,n){if(!pb(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Nf(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Ig(t,e,n){if((e=Bt(e))instanceof Of)return e._internalPath;if(typeof e=="string")return Lv(t,e);throw Lh("Field path arguments must be of type string or ",t,!1,void 0,n)}const d5=new RegExp("[~\\*/\\[\\]]");function Lv(t,e,n){if(e.search(d5)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Of(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new se(W.INVALID_ARGUMENT,a+t+u)}function gb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h5 extends yb{data(){return super.data()}}function Mv(t,e){return typeof e=="string"?Lv(t,e):e instanceof Of?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vv{}class m5 extends Vv{}function p5(t,e,...n){let r=[];e instanceof Vv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof Fv).length,a=i.filter(u=>u instanceof Lf).length;if(o>1||o>0&&a>0)throw new se(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Lf extends m5{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lf(e,n,r)}_apply(e){const n=this._parse(e);return vb(e._query,n),new jf(e.firestore,e.converter,yg(e._query,n))}_parse(e){const n=Ov(e.firestore);return function(i,o,a,u,d,h,p){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new se(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){D1(p,h);const v=[];for(const y of p)v.push(O1(u,i,y));m={arrayValue:{values:v}}}else m=O1(u,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||D1(p,h),m=c5(a,o,p,h==="in"||h==="not-in");return yt.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function g5(t,e,n){const r=e,s=Mv("where",t);return Lf._create(s,r,n)}class Fv extends Vv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)vb(o,u),o=yg(o,u)}(e._query,n),new jf(e.firestore,e.converter,yg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function O1(t,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new se(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mS(e)&&n.indexOf("/")!==-1)throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ze.fromString(n));if(!ce.isDocumentKey(r))throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return n1(t,new ce(r))}if(n instanceof mn)return n1(t,n._key);throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nf(n)}.`)}function D1(t,e){if(!Array.isArray(t)||t.length===0)throw new se(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vb(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class y5{convertValue(e,n="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return To(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>ht(o.doubleValue));return new Pv(i)}convertGeoPoint(e){return new Nv(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lu(e));default:return null}}convertTimestamp(e){const n=mi(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ze.fromString(e);He(MS(r));const s=new Mu(r.get(1),r.get(3)),i=new ce(r.popFirst(5));return s.isEqual(n)||gs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _b extends yb{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bd extends _b{data(e={}){return super.data(e)}}class _5{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Hl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bd(this._firestore,this._userDataWriter,r.key,r,new Hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new Bd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Hl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Bd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Hl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:w5(a.type),doc:u,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function w5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t){t=vs(t,mn);const e=vs(t.firestore,Ac);return J3(Rv(e),t._key).then(n=>T5(e,t,n))}class wb extends y5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ba(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function x5(t){t=vs(t,jf);const e=vs(t.firestore,Ac),n=Rv(e),r=new wb(e);return f5(t._query),Y3(n,t._query).then(s=>new _5(e,r,t,s))}function xb(t,e,n){t=vs(t,mn);const r=vs(t.firestore,Ac),s=v5(t.converter,e);return Eb(r,[a5(Ov(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Lr.none())])}function E5(t,e,n,...r){t=vs(t,mn);const s=vs(t.firestore,Ac),i=Ov(s);let o;return o=typeof(e=Bt(e))=="string"||e instanceof Of?u5(i,"updateDoc",t._key,e,n,r):l5(i,"updateDoc",t._key,e),Eb(s,[o.toMutation(t._key,Lr.exists(!0))])}function Eb(t,e){return function(r,s){const i=new us;return r.asyncQueue.enqueueAndForget(async()=>V3(await Z3(r),s,i)),i.promise}(Rv(t),e)}function T5(t,e,n){const r=n.docs.get(e._key),s=new wb(t);return new _b(t,s,e._key,r,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){el=s})(Ya),Oa(new ao("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ac(new yO(r.getProvider("auth-internal")),new xO(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new se(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ai(Jw,"4.7.2",e),ai(Jw,"4.7.2","esm2017")})();var jo={BASE_URL:"/amabilis-e-commerce-website/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const S5={apiKey:jo.VITE_FIREBASE_API_KEY,authDomain:jo.VITE_FIREBASE_AUTH_DOMAIN,projectId:jo.VITE_FIREBASE_PROJECT_ID,storageBucket:jo.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:jo.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:jo.VITE_FIREBASE_APP_ID},Tb=hT(S5),Mh=dO(Tb),Xi=r5(Tb),Sb=F.createContext(),b5=({children:t})=>{const[e,n]=F.useState(null),[r,s]=F.useState(!1);F.useEffect(()=>{const a=ej(Mh,async u=>{if(u){const d=await Uv(za(Xi,"users",u.uid));if(d.exists()){const h={uid:u.uid,email:u.email,username:d.data().username};n(h)}}else n(null)});return()=>a()},[]);const i=a=>{n(a)},o=async()=>{await Mh.signOut(),n(null),s(!1)};return c.jsx(Sb.Provider,{value:{user:e,login:i,logout:o,isLoggedIn:r,setIsLoggedIn:s},children:t})},Mf=()=>F.useContext(Sb);function I5(){var v;const[t,e]=F.useState(null),{isLoggedIn:n,user:r,logout:s}=Mf(),[i,o]=F.useState(""),a=xo(),u=()=>{i.trim()&&a(`/search?query=${encodeURIComponent(i)}`),o("")},{cartCount:d}=F.useContext(gr),h=y=>{e(b=>b===y?null:y)},p=y=>{y.stopPropagation()},m=()=>{s(),e(null),a("/")};return c.jsxs("ul",{className:" flex justify-between w-36 cursor-pointer sm:w-28 ",children:[c.jsxs("li",{onClick:()=>h("search"),children:[" ",c.jsx(ww,{size:25,className:"hover:stroke-lilac stroke-1 relative"}),t==="search"&&c.jsx("div",{className:"absolute bg-white shadow-md z-50 p-3.5 right-28 top-[5.75rem] min-w-60 sm:top-[4.2rem] sm:right-12",onClick:p,children:c.jsxs("form",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"Search",value:i,onChange:y=>o(y.target.value),className:"border border-gray-300 outline-0 py-1.5 px-6 w-full text-black bg-transparent transition-all duration-400 ease-in-out"}),c.jsx("button",{type:"submit",onClick:u,className:"bg-lilac transition-all duration-400 ease-in-out absolute right-0 h-full w-10 pt-1.5 pb-0.5 px-2 text-white",children:c.jsx(ww,{size:22})})]})})]}),c.jsxs("li",{children:[n?c.jsx("div",{className:"flex items-center justify-center w-6 h-6 border-black border text-black rounded-full relative ",onClick:()=>h("my-account"),children:(v=r==null?void 0:r.username)==null?void 0:v.charAt(0).toUpperCase()}):c.jsx(gN,{size:25,className:" hover:stroke-lilac stroke-1 relative ",onClick:()=>h("contact")}),t==="contact"&&!n&&c.jsx("div",{className:" absolute bg-white shadow-md pt-2 px-3 pb-3 text-left w-32 z-50 transition-all duration-300 ease-in flex items-center top-[5.75rem] sm:top-[4.2rem] sm:right-0 ",children:c.jsxs("ul",{className:"text-sm *:mb-2",children:[c.jsxs("li",{className:"hover:text-lilac ",children:[" ",c.jsx(ir,{to:"login-register/login",className:({isActive:y})=>y?"text-lilac":"text-black",children:"Login"})," "]}),c.jsxs("li",{className:"hover:text-lilac ",children:[" ",c.jsx(ir,{to:"login-register/register",className:({isActive:y})=>y?"text-lilac":"text-black",children:"Register"})," "]})]})}),t==="my-account"&&n&&c.jsx("div",{className:"absolute bg-white shadow-md pt-2 px-3 pb-3 text-left w-32 z-50 transition-all duration-300 ease-in flex items-center top-[5.75rem] sm:top-[4.2rem] sm:right-0",children:c.jsxs("ul",{className:"text-sm *:mb-2",children:[c.jsxs("li",{className:"hover:text-lilac ",children:[" ",c.jsx(ir,{to:"/my-account",className:({isActive:y})=>y?"text-lilac":"text-black",children:"My Account"})," "]}),c.jsx("li",{className:"hover:text-lilac ",onClick:m,children:"Log Out"})]})})]}),c.jsxs("li",{children:[" ",c.jsxs(ir,{to:"/wishlist",className:({isActive:y})=>y?" text-lilac ":" text-black ",children:[" ",c.jsx(hi,{size:25})," "]})," "]}),c.jsxs("li",{className:" relative ",children:[" ",c.jsxs(ir,{to:"/cart",className:({isActive:y})=>y?" text-lilac ":" text-black ",children:[" ",c.jsx(rT,{size:25})," ",c.jsx("span",{className:" absolute bg-lilac w-5 h-5 rounded-[100%] top-[-0.56rem] right-[-0.6rem] text-white text-sm text-center ",children:d})," "]})]})]})}function C5(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"},child:[]}]})(t)}function A5(){const[t,e]=F.useState(!1),n=()=>{e(s=>!s)},r=[{title:"Home",link:"/"},{title:"Collection",link:"/collection"},{title:"About",link:"/about"},{title:"Contact",link:"/contact"}];return c.jsxs("header",{className:"flex items-center justify-between px-20 py-7 border-b sticky top-0 z-[51] bg-white md:px-2 sm:px-2 sm:py-4",children:[c.jsx(eT,{}),c.jsx("ul",{className:"flex w-2/5 justify-between md:hidden sm:hidden ",children:r.map(s=>c.jsx("li",{children:c.jsx(ir,{to:s.link,className:({isActive:i})=>i?" font-medium text-[0.9375rem] text-lilac ":" font-medium text-[0.9375rem] text-black ",children:s.title})},di()))}),c.jsxs("div",{className:" md:flex md:w-48 md:justify-between sm:w-36 sm:flex sm:justify-between",children:[c.jsx(I5,{}),c.jsx("div",{className:" hidden md:flex sm:flex ",children:t?c.jsx(cN,{size:25,onClick:n}):c.jsx(C5,{size:25,onClick:n})})]}),t&&c.jsx("ul",{className:" md:w-full md:block md:absolute md:bg-white md:top-[5.785rem] md:left-0 sm:absolute sm:w-full sm:bg-gray-200 sm:top-16 sm:left-0 ",children:r.map(s=>c.jsx("li",{className:" md:border-b-2 md:p-4 sm:border-b-2 sm:border-white sm:p-4 ",children:c.jsx(ir,{to:s.link,className:({isActive:i})=>i?" font-medium text-[0.9375rem] text-lilac md:uppercase sm:uppercase ":" font-medium text-[0.9375rem] text-black md:uppercase sm:uppercase ",onClick:n,children:s.title})},di()))})]})}function R5(){return c.jsxs(c.Fragment,{children:[c.jsx(_N,{}),c.jsx(A5,{})]})}function Vf(t){return je({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M12,17 C9.27272727,17 6,14.2222222 6,12 C6,9.77777778 9.27272727,7 12,7 C14.7272727,7 18,9.77777778 18,12 C18,14.2222222 14.7272727,17 12,17 Z M11,12 C11,12.55225 11.44775,13 12,13 C12.55225,13 13,12.55225 13,12 C13,11.44775 12.55225,11 12,11 C11.44775,11 11,11.44775 11,12 Z"},child:[]}]})(t)}function $a(t){return je({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M12,22 C17.5228475,22 22,17.5228475 22,12 C22,6.4771525 17.5228475,2 12,2 C6.4771525,2 2,6.4771525 2,12 C2,17.5228475 6.4771525,22 12,22 Z M7,12 L11,15 L16,8"},child:[]}]})(t)}const bo=F.createContext(null),k5=({children:t})=>{const[e,n]=F.useState(()=>{const m=localStorage.getItem("wishList");return m?JSON.parse(m):[]}),{addToCart:r}=F.useContext(gr),[s,i]=F.useState("");F.useEffect(()=>{localStorage.setItem("wishList",JSON.stringify(e))},[e]);const o=m=>{n(v=>v.find(b=>b.id===m.id)?v.map(b=>b.id===m.id?{...b,quantity:b.quantity+1}:b):[...v,{...m,quantity:1}]),i("Item added to wishlist"),setTimeout(()=>i(""),3e3)};function a(m){n(v=>v.map(y=>y.id===m?{...y,quantity:y.quantity+1}:y))}function u(m){n(v=>v.map(y=>y.id===m&&y.quantity>1?{...y,quantity:y.quantity-1}:y))}function d(m){return Number((m.price*m.quantity).toFixed(2))}const h=m=>{const v=e.filter(y=>y.id!==m);n(v)},p=m=>{r(m),h(m.id)};return c.jsx(bo.Provider,{value:{wishList:e,addToWishList:o,incrementItemQuantity:a,decrementItemQuantity:u,handleAddToCartWhileRemovingFromWishList:p,getTotalPriceForItem:d,wishListMessage:s},children:t})},N5=({children:t})=>{const{pathname:e}=wo();return F.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[e]),t};function P5(){const{cartMessage:t}=F.useContext(gr),{wishListMessage:e}=F.useContext(bo);return c.jsx(N5,{children:c.jsxs("div",{className:"min-h-fit",children:[c.jsx(R5,{}),c.jsxs("main",{children:[t&&c.jsxs("div",{className:"fixed top-12 left-1/2 transform -translate-x-1/2 px-4 py-2 w-fit rounded shadow-lg z-[57] flex justify-center items-center gap-2 border-gray-500 text-white bg-lilac sm:w-full ",children:[c.jsx($a,{className:"text-white"}),c.jsx("p",{children:t})]}),e&&c.jsxs("div",{className:"fixed top-12 left-1/2 transform -translate-x-1/2 px-4 py-2 w-fit rounded shadow-lg z-[57] flex justify-center items-center gap-2 border-gray-500 text-white bg-lilac sm:w-full ",children:[c.jsx($a,{className:"text-white "}),c.jsx("p",{children:e})]}),c.jsx(Ky,{})]}),c.jsx(mN,{})]})})}const j5="/amabilis-e-commerce-website/assets/slider-2-C1bZADUC.webp";function O5(){return c.jsxs("div",{className:"h-800 border relative md:h-[31.5rem] sm:h-[25rem] sm:flex sm:justify-center ",children:[c.jsx("img",{src:j5,alt:"A man posing",className:"h-full object-cover object-center -z-50 sm:object-left sm: "}),c.jsxs("div",{className:"z-50 absolute top-60 right-28 text-center md:top-28 sm:top-10 sm:right-auto",children:[c.jsx("h3",{className:'font-medium text-2xl relative mb-7 before:content-[""] before:bg-black before:w-20 before:h-[0.125rem] before:absolute before:left-24 before:top-4 after:content-[""] after:bg-black after:w-20 after:h-[0.125rem] after:absolute after:right-24 after:top-4 md:before:left-16 md:after:right-16 sm:mb-4 sm:before:-left-7 sm:after:-right-7 ',children:"Stylish"}),c.jsx("h1",{className:"font-normal text-7xl mb-6 leading-[3.5rem] md:text-6xl sm:text-3xl sm:mb-3 ",children:"Male Clothes"}),c.jsx("p",{className:"text-lg mb-11",children:"30% off Summer Vacation"}),c.jsxs("button",{type:"submit",className:"border border-solid border-black px-[50px] pt-[16px] pb-[21px] hover:bg-lilac hover:border-none hover:transition-all hover:ease-linear  ",children:[" ",c.jsx(et,{to:"collection",children:"SHOP NOW"})," "]})]})]})}function D5({children:t}){return c.jsx("div",{className:" px-[4.375rem] pb-[3.75rem] md:px-8 sm:px-5 ",children:t})}function L5(){return c.jsxs("div",{className:" mb-[3.75rem] text-center ",children:[c.jsx("h2",{className:' text-3xl font-semibold mb-4 pb-4 relative before:absolute before:content-[""] before:bg-black before:w-20 before:h-[0.125rem] before:bottom-0 before:mx-auto before:my-0 before:left-0 before:right-0 ',children:"New Arrival"}),c.jsx("p",{className:"font-normal text-sm",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. "})]})}function M5(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M160 144h288M160 256h288M160 368h288"},child:[]},{tag:"circle",attr:{cx:"80",cy:"144",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"80",cy:"256",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"80",cy:"368",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]}]})(t)}function V5(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M480 257.35c0-123.7-100.3-224-224-224s-224 100.3-224 224c0 111.8 81.9 204.47 189 221.29V322.12h-56.89v-64.77H221V208c0-56.13 33.45-87.16 84.61-87.16 24.51 0 50.15 4.38 50.15 4.38v55.13H327.5c-27.81 0-36.51 17.26-36.51 35v42h62.12l-9.92 64.77H291v156.54c107.1-16.81 189-109.48 189-221.31z"},child:[]}]})(t)}function zv(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 203.3H312.36L256 32l-56.36 171.3H16l150.21 105.4-58.5 171.3L256 373.84 404.29 480l-58.61-171.3z"},child:[]}]})(t)}const Ff=({items:t,closeModal:e,addToCart:n,addToWishList:r,decrementItemQuantity:s,incrementItemQuantity:i})=>c.jsx("div",{className:"fixed top-0 left-0 inset-0 bg-black bg-opacity-75 z-[53] flex justify-center items-start overflow-y-auto",onClick:e,children:c.jsxs("div",{className:"w-[70%] bg-white rounded-lg my-20 max-h-screen sm:w-full sm:max-h-full overflow-y-auto",onClick:o=>o.stopPropagation(),children:[c.jsx("div",{className:"flex flex-row-reverse border-b-2 p-2",children:c.jsx(yN,{size:27,className:"text-dark-gray hover:text-black",onClick:e})}),c.jsxs("div",{className:"flex m-2 sm:flex-col",children:[c.jsx("div",{className:"w-2/5 h-96 sm:w-full sm:h-[31rem]",children:c.jsx("img",{src:t.image,alt:t.title,className:"h-full w-full p-5"})}),c.jsxs("div",{className:"w-3/5 sm:w-full overflow-y-auto",children:[c.jsx("h2",{className:"font-medium text-2xl mb-2",children:t.title}),c.jsxs("p",{className:"text-red-500 text-2xl leading-10",children:["$",t.price]}),c.jsx("p",{children:t.description}),c.jsxs("div",{className:"my-2 flex",children:[c.jsx(zv,{size:20,className:"inline mr-2 text-orange-600"}),c.jsx("span",{children:t.rating.rate}),c.jsxs("span",{className:"ml-5 text-dark-gray",children:["(",t.rating.count,")"]})]}),c.jsxs("div",{className:"w-72 flex justify-between",children:[c.jsxs("div",{className:"border w-24 h-12 flex items-center",children:[c.jsx("button",{className:"w-1/4 text-center",onClick:()=>s(t.id),children:"-"}),c.jsx("span",{className:"w-1/2 text-center",children:t.quantity}),c.jsx("button",{className:"w-1/4 text-center",onClick:()=>i(t.id),children:"+"})]}),c.jsx("button",{className:"bg-black text-white w-32 h-12 hover:bg-lilac",onClick:()=>n(t),children:"Add to Cart"}),c.jsx("div",{className:"flex items-center justify-center",onClick:()=>r(t),children:c.jsx(hi,{className:"hover:text-lilac",size:25})})]}),c.jsx("div",{className:"mt-4",children:c.jsxs("span",{children:["Categories: ",t.category]})})]})]})]})});var kc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qa=typeof window>"u"||"Deno"in globalThis;function qn(){}function F5(t,e){return typeof t=="function"?t(e):t}function Cg(t){return typeof t=="number"&&t>=0&&t!==1/0}function bb(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ha(t,e){return typeof t=="function"?t(e):t}function sr(t,e){return typeof t=="function"?t(e):t}function L1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Bv(o,e.options))return!1}else if(!Bu(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function M1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(zu(e.options.mutationKey)!==zu(i))return!1}else if(!Bu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Bv(t,e){return((e==null?void 0:e.queryKeyHashFn)||zu)(t)}function zu(t){return JSON.stringify(t,(e,n)=>Rg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Bu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Bu(t[n],e[n])):!1}function Ib(t,e){if(t===e)return t;const n=V1(t)&&V1(e);if(n||Rg(t)&&Rg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let u=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=Ib(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function Ag(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function V1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Rg(t){if(!F1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!F1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function F1(t){return Object.prototype.toString.call(t)==="[object Object]"}function U5(t){return new Promise(e=>{setTimeout(e,t)})}function kg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Ib(t,e):e}function z5(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function B5(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Cb=Symbol();function Ab(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Cb?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var $i,zs,ma,gx,$5=(gx=class extends kc{constructor(){super();ve(this,$i);ve(this,zs);ve(this,ma);oe(this,ma,e=>{if(!qa&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){L(this,zs)||this.setEventListener(L(this,ma))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,zs))==null||e.call(this),oe(this,zs,void 0))}setEventListener(e){var n;oe(this,ma,e),(n=L(this,zs))==null||n.call(this),oe(this,zs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){L(this,$i)!==e&&(oe(this,$i,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof L(this,$i)=="boolean"?L(this,$i):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},$i=new WeakMap,zs=new WeakMap,ma=new WeakMap,gx),$v=new $5,pa,Bs,ga,yx,q5=(yx=class extends kc{constructor(){super();ve(this,pa,!0);ve(this,Bs);ve(this,ga);oe(this,ga,e=>{if(!qa&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){L(this,Bs)||this.setEventListener(L(this,ga))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,Bs))==null||e.call(this),oe(this,Bs,void 0))}setEventListener(e){var n;oe(this,ga,e),(n=L(this,Bs))==null||n.call(this),oe(this,Bs,e(this.setOnline.bind(this)))}setOnline(e){L(this,pa)!==e&&(oe(this,pa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return L(this,pa)}},pa=new WeakMap,Bs=new WeakMap,ga=new WeakMap,yx),Vh=new q5;function H5(t){return Math.min(1e3*2**t,3e4)}function Rb(t){return(t??"online")==="online"?Vh.isOnline():!0}var kb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ym(t){return t instanceof kb}function Nb(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((T,w)=>{i=T,o=w}),u=T=>{var w;r||(y(new kb(T)),(w=t.abort)==null||w.call(t))},d=()=>{e=!0},h=()=>{e=!1},p=()=>$v.isFocused()&&(t.networkMode==="always"||Vh.isOnline())&&t.canRun(),m=()=>Rb(t.networkMode)&&t.canRun(),v=T=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,T),s==null||s(),i(T))},y=T=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,T),s==null||s(),o(T))},b=()=>new Promise(T=>{var w;s=S=>{(r||p())&&T(S)},(w=t.onPause)==null||w.call(t)}).then(()=>{var T;s=void 0,r||(T=t.onContinue)==null||T.call(t)}),R=()=>{if(r)return;let T;const w=n===0?t.initialPromise:void 0;try{T=w??t.fn()}catch(S){T=Promise.reject(S)}Promise.resolve(T).then(v).catch(S=>{var _;if(r)return;const D=t.retry??(qa?0:3),V=t.retryDelay??H5,B=typeof V=="function"?V(n,S):V,I=D===!0||typeof D=="number"&&n<D||typeof D=="function"&&D(n,S);if(e||!I){y(S);return}n++,(_=t.onFail)==null||_.call(t,n,S),U5(B).then(()=>p()?void 0:b()).then(()=>{e?y(S):R()})})};return{promise:a,cancel:u,continue:()=>(s==null||s(),a),cancelRetry:d,continueRetry:h,canStart:m,start:()=>(m()?R():b().then(R),a)}}function W5(){let t=[],e=0,n=m=>{m()},r=m=>{m()},s=m=>setTimeout(m,0);const i=m=>{s=m},o=m=>{let v;e++;try{v=m()}finally{e--,e||d()}return v},a=m=>{e?t.push(m):s(()=>{n(m)})},u=m=>(...v)=>{a(()=>{m(...v)})},d=()=>{const m=t;t=[],m.length&&s(()=>{r(()=>{m.forEach(v=>{n(v)})})})};return{batch:o,batchCalls:u,schedule:a,setNotifyFunction:m=>{n=m},setBatchNotifyFunction:m=>{r=m},setScheduler:i}}var Mt=W5(),qi,vx,Pb=(vx=class{constructor(){ve(this,qi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cg(this.gcTime)&&oe(this,qi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(qa?1/0:5*60*1e3))}clearGcTimeout(){L(this,qi)&&(clearTimeout(L(this,qi)),oe(this,qi,void 0))}},qi=new WeakMap,vx),ya,va,$n,Xt,sc,Hi,tr,Jr,_x,K5=(_x=class extends Pb{constructor(e){super();ve(this,tr);ve(this,ya);ve(this,va);ve(this,$n);ve(this,Xt);ve(this,sc);ve(this,Hi);oe(this,Hi,!1),oe(this,sc,e.defaultOptions),this.setOptions(e.options),this.observers=[],oe(this,$n,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,oe(this,ya,Q5(this.options)),this.state=e.state??L(this,ya),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=L(this,Xt))==null?void 0:e.promise}setOptions(e){this.options={...L(this,sc),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,$n).remove(this)}setData(e,n){const r=kg(this.state.data,e,this.options);return Ae(this,tr,Jr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ae(this,tr,Jr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=L(this,Xt))==null?void 0:r.promise;return(s=L(this,Xt))==null||s.cancel(e),n?n.then(qn).catch(qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,ya))}isActive(){return this.observers.some(e=>sr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!bb(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=L(this,Xt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=L(this,Xt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),L(this,$n).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(L(this,Xt)&&(L(this,Hi)?L(this,Xt).cancel({revert:!0}):L(this,Xt).cancelRetry()),this.scheduleGc()),L(this,$n).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ae(this,tr,Jr).call(this,{type:"invalidate"})}fetch(e,n){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(L(this,Xt))return L(this,Xt).continueRetry(),L(this,Xt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(oe(this,Hi,!0),r.signal)})},i=()=>{const p=Ab(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return s(m),oe(this,Hi,!1),this.options.persister?this.options.persister(p,m,this):p(m)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(u=this.options.behavior)==null||u.onFetch(o,this),oe(this,va,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Ae(this,tr,Jr).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const a=p=>{var m,v,y,b;Ym(p)&&p.silent||Ae(this,tr,Jr).call(this,{type:"error",error:p}),Ym(p)||((v=(m=L(this,$n).config).onError)==null||v.call(m,p,this),(b=(y=L(this,$n).config).onSettled)==null||b.call(y,this.state.data,p,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return oe(this,Xt,Nb({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var m,v,y,b;if(p===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(p),(v=(m=L(this,$n).config).onSuccess)==null||v.call(m,p,this),(b=(y=L(this,$n).config).onSettled)==null||b.call(y,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(p,m)=>{Ae(this,tr,Jr).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{Ae(this,tr,Jr).call(this,{type:"pause"})},onContinue:()=>{Ae(this,tr,Jr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),L(this,Xt).start()}},ya=new WeakMap,va=new WeakMap,$n=new WeakMap,Xt=new WeakMap,sc=new WeakMap,Hi=new WeakMap,tr=new WeakSet,Jr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...jb(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Ym(s)&&s.revert&&L(this,va)?{...L(this,va),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Mt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),L(this,$n).notify({query:this,type:"updated",action:e})})},_x);function jb(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Rb(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Q5(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Sr,wx,G5=(wx=class extends kc{constructor(e={}){super();ve(this,Sr);this.config=e,oe(this,Sr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Bv(s,n);let o=this.get(i);return o||(o=new K5({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){L(this,Sr).has(e.queryHash)||(L(this,Sr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=L(this,Sr).get(e.queryHash);n&&(e.destroy(),n===e&&L(this,Sr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return L(this,Sr).get(e)}getAll(){return[...L(this,Sr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>L1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>L1(e,r)):n}notify(e){Mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Sr=new WeakMap,wx),br,un,Wi,Ir,ks,xx,Z5=(xx=class extends Pb{constructor(e){super();ve(this,Ir);ve(this,br);ve(this,un);ve(this,Wi);this.mutationId=e.mutationId,oe(this,un,e.mutationCache),oe(this,br,[]),this.state=e.state||J5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){L(this,br).includes(e)||(L(this,br).push(e),this.clearGcTimeout(),L(this,un).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){oe(this,br,L(this,br).filter(n=>n!==e)),this.scheduleGc(),L(this,un).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){L(this,br).length||(this.state.status==="pending"?this.scheduleGc():L(this,un).remove(this))}continue(){var e;return((e=L(this,Wi))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,u,d,h,p,m,v,y,b,R,T,w,S,D,V,B,I;oe(this,Wi,Nb({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(_,C)=>{Ae(this,Ir,ks).call(this,{type:"failed",failureCount:_,error:C})},onPause:()=>{Ae(this,Ir,ks).call(this,{type:"pause"})},onContinue:()=>{Ae(this,Ir,ks).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,un).canRun(this)}));const n=this.state.status==="pending",r=!L(this,Wi).canStart();try{if(!n){Ae(this,Ir,ks).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=L(this,un).config).onMutate)==null?void 0:i.call(s,e,this));const C=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));C!==this.state.context&&Ae(this,Ir,ks).call(this,{type:"pending",context:C,variables:e,isPaused:r})}const _=await L(this,Wi).start();return await((d=(u=L(this,un).config).onSuccess)==null?void 0:d.call(u,_,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,_,e,this.state.context)),await((v=(m=L(this,un).config).onSettled)==null?void 0:v.call(m,_,null,this.state.variables,this.state.context,this)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,_,null,e,this.state.context)),Ae(this,Ir,ks).call(this,{type:"success",data:_}),_}catch(_){try{throw await((T=(R=L(this,un).config).onError)==null?void 0:T.call(R,_,e,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,_,e,this.state.context)),await((V=(D=L(this,un).config).onSettled)==null?void 0:V.call(D,void 0,_,this.state.variables,this.state.context,this)),await((I=(B=this.options).onSettled)==null?void 0:I.call(B,void 0,_,e,this.state.context)),_}finally{Ae(this,Ir,ks).call(this,{type:"error",error:_})}}finally{L(this,un).runNext(this)}}},br=new WeakMap,un=new WeakMap,Wi=new WeakMap,Ir=new WeakSet,ks=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Mt.batch(()=>{L(this,br).forEach(r=>{r.onMutationUpdate(e)}),L(this,un).notify({mutation:this,type:"updated",action:e})})},xx);function J5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nn,ic,Ex,Y5=(Ex=class extends kc{constructor(e={}){super();ve(this,Nn);ve(this,ic);this.config=e,oe(this,Nn,new Map),oe(this,ic,Date.now())}build(e,n,r){const s=new Z5({mutationCache:this,mutationId:++Zc(this,ic)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=wd(e),r=L(this,Nn).get(n)??[];r.push(e),L(this,Nn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=wd(e);if(L(this,Nn).has(n)){const s=(r=L(this,Nn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?L(this,Nn).delete(n):L(this,Nn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=L(this,Nn).get(wd(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=L(this,Nn).get(wd(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...L(this,Nn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>M1(n,r))}findAll(e={}){return this.getAll().filter(n=>M1(e,n))}notify(e){Mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Mt.batch(()=>Promise.all(e.map(n=>n.continue().catch(qn))))}},Nn=new WeakMap,ic=new WeakMap,Ex);function wd(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function X5(t){return{onFetch:(e,n)=>{const r=async()=>{var y,b,R,T,w;const s=e.options,i=(R=(b=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:b.fetchMore)==null?void 0:R.direction,o=((T=e.state.data)==null?void 0:T.pages)||[],a=((w=e.state.data)==null?void 0:w.pageParams)||[],u={pages:[],pageParams:[]};let d=!1;const h=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},p=Ab(e.options,e.fetchOptions),m=async(S,D,V)=>{if(d)return Promise.reject();if(D==null&&S.pages.length)return Promise.resolve(S);const B={queryKey:e.queryKey,pageParam:D,direction:V?"backward":"forward",meta:e.options.meta};h(B);const I=await p(B),{maxPages:_}=e.options,C=V?B5:z5;return{pages:C(S.pages,I,_),pageParams:C(S.pageParams,D,_)}};let v;if(i&&o.length){const S=i==="backward",D=S?eL:U1,V={pages:o,pageParams:a},B=D(s,V);v=await m(V,B,S)}else{v=await m(u,a[0]??s.initialPageParam);const S=t??o.length;for(let D=1;D<S;D++){const V=U1(s,v);if(V==null)break;v=await m(v,V)}}return v};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function U1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function eL(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var at,$s,qs,_a,wa,Hs,xa,Ea,Tx,tL=(Tx=class{constructor(t={}){ve(this,at);ve(this,$s);ve(this,qs);ve(this,_a);ve(this,wa);ve(this,Hs);ve(this,xa);ve(this,Ea);oe(this,at,t.queryCache||new G5),oe(this,$s,t.mutationCache||new Y5),oe(this,qs,t.defaultOptions||{}),oe(this,_a,new Map),oe(this,wa,new Map),oe(this,Hs,0)}mount(){Zc(this,Hs)._++,L(this,Hs)===1&&(oe(this,xa,$v.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,at).onFocus())})),oe(this,Ea,Vh.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,at).onOnline())})))}unmount(){var t,e;Zc(this,Hs)._--,L(this,Hs)===0&&((t=L(this,xa))==null||t.call(this),oe(this,xa,void 0),(e=L(this,Ea))==null||e.call(this),oe(this,Ea,void 0))}isFetching(t){return L(this,at).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return L(this,$s).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,at).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=L(this,at).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(ha(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return L(this,at).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=L(this,at).get(r.queryHash),i=s==null?void 0:s.state.data,o=F5(e,i);if(o!==void 0)return L(this,at).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Mt.batch(()=>L(this,at).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,at).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=L(this,at);Mt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=L(this,at),r={type:"active",...t};return Mt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Mt.batch(()=>L(this,at).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(qn).catch(qn)}invalidateQueries(t={},e={}){return Mt.batch(()=>{if(L(this,at).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Mt.batch(()=>L(this,at).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(qn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(qn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=L(this,at).build(this,e);return n.isStaleByTime(ha(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(qn).catch(qn)}fetchInfiniteQuery(t){return t.behavior=X5(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(qn).catch(qn)}resumePausedMutations(){return Vh.isOnline()?L(this,$s).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,at)}getMutationCache(){return L(this,$s)}getDefaultOptions(){return L(this,qs)}setDefaultOptions(t){oe(this,qs,t)}setQueryDefaults(t,e){L(this,_a).set(zu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...L(this,_a).values()];let n={};return e.forEach(r=>{Bu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){L(this,wa).set(zu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...L(this,wa).values()];let n={};return e.forEach(r=>{Bu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...L(this,qs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Bv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Cb&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...L(this,qs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){L(this,at).clear(),L(this,$s).clear()}},at=new WeakMap,$s=new WeakMap,qs=new WeakMap,_a=new WeakMap,wa=new WeakMap,Hs=new WeakMap,xa=new WeakMap,Ea=new WeakMap,Tx),wn,Re,oc,cn,Ki,Ta,Cr,ac,Sa,ba,Qi,Gi,Ws,Ia,Fe,Wl,Ng,Pg,jg,Og,Dg,Lg,Mg,Ob,Sx,nL=(Sx=class extends kc{constructor(e,n){super();ve(this,Fe);ve(this,wn);ve(this,Re);ve(this,oc);ve(this,cn);ve(this,Ki);ve(this,Ta);ve(this,Cr);ve(this,ac);ve(this,Sa);ve(this,ba);ve(this,Qi);ve(this,Gi);ve(this,Ws);ve(this,Ia,new Set);this.options=n,oe(this,wn,e),oe(this,Cr,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,Re).addObserver(this),z1(L(this,Re),this.options)?Ae(this,Fe,Wl).call(this):this.updateResult(),Ae(this,Fe,Og).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Vg(L(this,Re),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Vg(L(this,Re),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ae(this,Fe,Dg).call(this),Ae(this,Fe,Lg).call(this),L(this,Re).removeObserver(this)}setOptions(e,n){const r=this.options,s=L(this,Re);if(this.options=L(this,wn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof sr(this.options.enabled,L(this,Re))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ae(this,Fe,Mg).call(this),L(this,Re).setOptions(this.options),r._defaulted&&!Ag(this.options,r)&&L(this,wn).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,Re),observer:this});const i=this.hasListeners();i&&B1(L(this,Re),s,this.options,r)&&Ae(this,Fe,Wl).call(this),this.updateResult(n),i&&(L(this,Re)!==s||sr(this.options.enabled,L(this,Re))!==sr(r.enabled,L(this,Re))||ha(this.options.staleTime,L(this,Re))!==ha(r.staleTime,L(this,Re)))&&Ae(this,Fe,Ng).call(this);const o=Ae(this,Fe,Pg).call(this);i&&(L(this,Re)!==s||sr(this.options.enabled,L(this,Re))!==sr(r.enabled,L(this,Re))||o!==L(this,Ws))&&Ae(this,Fe,jg).call(this,o)}getOptimisticResult(e){const n=L(this,wn).getQueryCache().build(L(this,wn),e),r=this.createResult(n,e);return sL(this,r)&&(oe(this,cn,r),oe(this,Ta,this.options),oe(this,Ki,L(this,Re).state)),r}getCurrentResult(){return L(this,cn)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){L(this,Ia).add(e)}getCurrentQuery(){return L(this,Re)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=L(this,wn).defaultQueryOptions(e),r=L(this,wn).getQueryCache().build(L(this,wn),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ae(this,Fe,Wl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,cn)))}createResult(e,n){var I;const r=L(this,Re),s=this.options,i=L(this,cn),o=L(this,Ki),a=L(this,Ta),d=e!==r?e.state:L(this,oc),{state:h}=e;let p={...h},m=!1,v;if(n._optimisticResults){const _=this.hasListeners(),C=!_&&z1(e,n),k=_&&B1(e,r,n,s);(C||k)&&(p={...p,...jb(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:R}=p;if(n.select&&p.data!==void 0)if(i&&p.data===(o==null?void 0:o.data)&&n.select===L(this,ac))v=L(this,Sa);else try{oe(this,ac,n.select),v=n.select(p.data),v=kg(i==null?void 0:i.data,v,n),oe(this,Sa,v),oe(this,Cr,null)}catch(_){oe(this,Cr,_)}else v=p.data;if(n.placeholderData!==void 0&&v===void 0&&R==="pending"){let _;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))_=i.data;else if(_=typeof n.placeholderData=="function"?n.placeholderData((I=L(this,ba))==null?void 0:I.state.data,L(this,ba)):n.placeholderData,n.select&&_!==void 0)try{_=n.select(_),oe(this,Cr,null)}catch(C){oe(this,Cr,C)}_!==void 0&&(R="success",v=kg(i==null?void 0:i.data,_,n),m=!0)}L(this,Cr)&&(y=L(this,Cr),v=L(this,Sa),b=Date.now(),R="error");const T=p.fetchStatus==="fetching",w=R==="pending",S=R==="error",D=w&&T,V=v!==void 0;return{status:R,fetchStatus:p.fetchStatus,isPending:w,isSuccess:R==="success",isError:S,isInitialLoading:D,isLoading:D,data:v,dataUpdatedAt:p.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:T,isRefetching:T&&!w,isLoadingError:S&&!V,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:S&&V,isStale:qv(e,n),refetch:this.refetch}}updateResult(e){const n=L(this,cn),r=this.createResult(L(this,Re),this.options);if(oe(this,Ki,L(this,Re).state),oe(this,Ta,this.options),L(this,Ki).data!==void 0&&oe(this,ba,L(this,Re)),Ag(r,n))return;oe(this,cn,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!L(this,Ia).size)return!0;const u=new Set(a??L(this,Ia));return this.options.throwOnError&&u.add("error"),Object.keys(L(this,cn)).some(d=>{const h=d;return L(this,cn)[h]!==n[h]&&u.has(h)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Ae(this,Fe,Ob).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ae(this,Fe,Og).call(this)}},wn=new WeakMap,Re=new WeakMap,oc=new WeakMap,cn=new WeakMap,Ki=new WeakMap,Ta=new WeakMap,Cr=new WeakMap,ac=new WeakMap,Sa=new WeakMap,ba=new WeakMap,Qi=new WeakMap,Gi=new WeakMap,Ws=new WeakMap,Ia=new WeakMap,Fe=new WeakSet,Wl=function(e){Ae(this,Fe,Mg).call(this);let n=L(this,Re).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(qn)),n},Ng=function(){Ae(this,Fe,Dg).call(this);const e=ha(this.options.staleTime,L(this,Re));if(qa||L(this,cn).isStale||!Cg(e))return;const r=bb(L(this,cn).dataUpdatedAt,e)+1;oe(this,Qi,setTimeout(()=>{L(this,cn).isStale||this.updateResult()},r))},Pg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,Re)):this.options.refetchInterval)??!1},jg=function(e){Ae(this,Fe,Lg).call(this),oe(this,Ws,e),!(qa||sr(this.options.enabled,L(this,Re))===!1||!Cg(L(this,Ws))||L(this,Ws)===0)&&oe(this,Gi,setInterval(()=>{(this.options.refetchIntervalInBackground||$v.isFocused())&&Ae(this,Fe,Wl).call(this)},L(this,Ws)))},Og=function(){Ae(this,Fe,Ng).call(this),Ae(this,Fe,jg).call(this,Ae(this,Fe,Pg).call(this))},Dg=function(){L(this,Qi)&&(clearTimeout(L(this,Qi)),oe(this,Qi,void 0))},Lg=function(){L(this,Gi)&&(clearInterval(L(this,Gi)),oe(this,Gi,void 0))},Mg=function(){const e=L(this,wn).getQueryCache().build(L(this,wn),this.options);if(e===L(this,Re))return;const n=L(this,Re);oe(this,Re,e),oe(this,oc,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Ob=function(e){Mt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(L(this,cn))}),L(this,wn).getQueryCache().notify({query:L(this,Re),type:"observerResultsUpdated"})})},Sx);function rL(t,e){return sr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function z1(t,e){return rL(t,e)||t.state.data!==void 0&&Vg(t,e,e.refetchOnMount)}function Vg(t,e,n){if(sr(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&qv(t,e)}return!1}function B1(t,e,n,r){return(t!==e||sr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&qv(t,n)}function qv(t,e){return sr(e.enabled,t)!==!1&&t.isStaleByTime(ha(e.staleTime,t))}function sL(t,e){return!Ag(t.getCurrentResult(),e)}var Db=F.createContext(void 0),iL=t=>{const e=F.useContext(Db);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},oL=({client:t,children:e})=>(F.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(Db.Provider,{value:t,children:e})),Lb=F.createContext(!1),aL=()=>F.useContext(Lb);Lb.Provider;function lL(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var uL=F.createContext(lL()),cL=()=>F.useContext(uL);function dL(t,e){return typeof t=="function"?t(...e):!!t}var hL=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},fL=t=>{F.useEffect(()=>{t.clearReset()},[t])},mL=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&dL(n,[t.error,r]),pL=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},gL=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,yL=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function vL(t,e,n){var d,h,p,m;const r=iL(),s=aL(),i=cL(),o=r.defaultQueryOptions(t);(h=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",pL(o),hL(o,i),fL(i);const[a]=F.useState(()=>new e(r,o)),u=a.getOptimisticResult(o);if(F.useSyncExternalStore(F.useCallback(v=>{const y=s?()=>{}:a.subscribe(Mt.batchCalls(v));return a.updateResult(),y},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),F.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),gL(o,u))throw yL(o,a,i);if(mL({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;return(m=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||m.call(p,o,u),o.notifyOnChangeProps?u:a.trackResult(u)}function _L(t,e){return vL(t,nL)}function Mb(t,e){return function(){return t.apply(e,arguments)}}const{toString:wL}=Object.prototype,{getPrototypeOf:Hv}=Object,Uf=(t=>e=>{const n=wL.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yr=t=>(t=t.toLowerCase(),e=>Uf(e)===t),zf=t=>e=>typeof e===t,{isArray:rl}=Array,$u=zf("undefined");function xL(t){return t!==null&&!$u(t)&&t.constructor!==null&&!$u(t.constructor)&&Mn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Vb=yr("ArrayBuffer");function EL(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Vb(t.buffer),e}const TL=zf("string"),Mn=zf("function"),Fb=zf("number"),Bf=t=>t!==null&&typeof t=="object",SL=t=>t===!0||t===!1,$d=t=>{if(Uf(t)!=="object")return!1;const e=Hv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},bL=yr("Date"),IL=yr("File"),CL=yr("Blob"),AL=yr("FileList"),RL=t=>Bf(t)&&Mn(t.pipe),kL=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Mn(t.append)&&((e=Uf(t))==="formdata"||e==="object"&&Mn(t.toString)&&t.toString()==="[object FormData]"))},NL=yr("URLSearchParams"),[PL,jL,OL,DL]=["ReadableStream","Request","Response","Headers"].map(yr),LL=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),rl(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function Ub(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const zi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zb=t=>!$u(t)&&t!==zi;function Fg(){const{caseless:t}=zb(this)&&this||{},e={},n=(r,s)=>{const i=t&&Ub(e,s)||s;$d(e[i])&&$d(r)?e[i]=Fg(e[i],r):$d(r)?e[i]=Fg({},r):rl(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Nc(arguments[r],n);return e}const ML=(t,e,n,{allOwnKeys:r}={})=>(Nc(e,(s,i)=>{n&&Mn(s)?t[i]=Mb(s,n):t[i]=s},{allOwnKeys:r}),t),VL=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),FL=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},UL=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Hv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},zL=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},BL=t=>{if(!t)return null;if(rl(t))return t;let e=t.length;if(!Fb(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},$L=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Hv(Uint8Array)),qL=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},HL=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},WL=yr("HTMLFormElement"),KL=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),$1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),QL=yr("RegExp"),Bb=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Nc(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},GL=t=>{Bb(t,(e,n)=>{if(Mn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Mn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ZL=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return rl(t)?r(t):r(String(t).split(e)),n},JL=()=>{},YL=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Xm="abcdefghijklmnopqrstuvwxyz",q1="0123456789",$b={DIGIT:q1,ALPHA:Xm,ALPHA_DIGIT:Xm+Xm.toUpperCase()+q1},XL=(t=16,e=$b.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function eM(t){return!!(t&&Mn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const tM=t=>{const e=new Array(10),n=(r,s)=>{if(Bf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=rl(r)?[]:{};return Nc(r,(o,a)=>{const u=n(o,s+1);!$u(u)&&(i[a]=u)}),e[s]=void 0,i}}return r};return n(t,0)},nM=yr("AsyncFunction"),rM=t=>t&&(Bf(t)||Mn(t))&&Mn(t.then)&&Mn(t.catch),qb=((t,e)=>t?setImmediate:e?((n,r)=>(zi.addEventListener("message",({source:s,data:i})=>{s===zi&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),zi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Mn(zi.postMessage)),sM=typeof queueMicrotask<"u"?queueMicrotask.bind(zi):typeof process<"u"&&process.nextTick||qb,z={isArray:rl,isArrayBuffer:Vb,isBuffer:xL,isFormData:kL,isArrayBufferView:EL,isString:TL,isNumber:Fb,isBoolean:SL,isObject:Bf,isPlainObject:$d,isReadableStream:PL,isRequest:jL,isResponse:OL,isHeaders:DL,isUndefined:$u,isDate:bL,isFile:IL,isBlob:CL,isRegExp:QL,isFunction:Mn,isStream:RL,isURLSearchParams:NL,isTypedArray:$L,isFileList:AL,forEach:Nc,merge:Fg,extend:ML,trim:LL,stripBOM:VL,inherits:FL,toFlatObject:UL,kindOf:Uf,kindOfTest:yr,endsWith:zL,toArray:BL,forEachEntry:qL,matchAll:HL,isHTMLForm:WL,hasOwnProperty:$1,hasOwnProp:$1,reduceDescriptors:Bb,freezeMethods:GL,toObjectSet:ZL,toCamelCase:KL,noop:JL,toFiniteNumber:YL,findKey:Ub,global:zi,isContextDefined:zb,ALPHABET:$b,generateString:XL,isSpecCompliantForm:eM,toJSONObject:tM,isAsyncFn:nM,isThenable:rM,setImmediate:qb,asap:sM};function xe(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}z.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Hb=xe.prototype,Wb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Wb[t]={value:t}});Object.defineProperties(xe,Wb);Object.defineProperty(Hb,"isAxiosError",{value:!0});xe.from=(t,e,n,r,s,i)=>{const o=Object.create(Hb);return z.toFlatObject(t,o,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),xe.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const iM=null;function Ug(t){return z.isPlainObject(t)||z.isArray(t)}function Kb(t){return z.endsWith(t,"[]")?t.slice(0,-2):t}function H1(t,e,n){return t?t.concat(e).map(function(s,i){return s=Kb(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function oM(t){return z.isArray(t)&&!t.some(Ug)}const aM=z.toFlatObject(z,{},null,function(e){return/^is[A-Z]/.test(e)});function $f(t,e,n){if(!z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,R){return!z.isUndefined(R[b])});const r=n.metaTokens,s=n.visitor||h,i=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(s))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(z.isDate(y))return y.toISOString();if(!u&&z.isBlob(y))throw new xe("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(y)||z.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function h(y,b,R){let T=y;if(y&&!R&&typeof y=="object"){if(z.endsWith(b,"{}"))b=r?b:b.slice(0,-2),y=JSON.stringify(y);else if(z.isArray(y)&&oM(y)||(z.isFileList(y)||z.endsWith(b,"[]"))&&(T=z.toArray(y)))return b=Kb(b),T.forEach(function(S,D){!(z.isUndefined(S)||S===null)&&e.append(o===!0?H1([b],D,i):o===null?b:b+"[]",d(S))}),!1}return Ug(y)?!0:(e.append(H1(R,b,i),d(y)),!1)}const p=[],m=Object.assign(aM,{defaultVisitor:h,convertValue:d,isVisitable:Ug});function v(y,b){if(!z.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));p.push(y),z.forEach(y,function(T,w){(!(z.isUndefined(T)||T===null)&&s.call(e,T,z.isString(w)?w.trim():w,b,m))===!0&&v(T,b?b.concat(w):[w])}),p.pop()}}if(!z.isObject(t))throw new TypeError("data must be an object");return v(t),e}function W1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Wv(t,e){this._pairs=[],t&&$f(t,this,e)}const Qb=Wv.prototype;Qb.append=function(e,n){this._pairs.push([e,n])};Qb.toString=function(e){const n=e?function(r){return e.call(this,r,W1)}:W1;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function lM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gb(t,e,n){if(!e)return t;const r=n&&n.encode||lM,s=n&&n.serialize;let i;if(s?i=s(e,n):i=z.isURLSearchParams(e)?e.toString():new Wv(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class K1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Zb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uM=typeof URLSearchParams<"u"?URLSearchParams:Wv,cM=typeof FormData<"u"?FormData:null,dM=typeof Blob<"u"?Blob:null,hM={isBrowser:!0,classes:{URLSearchParams:uM,FormData:cM,Blob:dM},protocols:["http","https","file","blob","url","data"]},Kv=typeof window<"u"&&typeof document<"u",fM=(t=>Kv&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),mM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pM=Kv&&window.location.href||"http://localhost",gM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Kv,hasStandardBrowserEnv:fM,hasStandardBrowserWebWorkerEnv:mM,origin:pM},Symbol.toStringTag,{value:"Module"})),cr={...gM,...hM};function yM(t,e){return $f(t,new cr.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return cr.isNode&&z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function vM(t){return z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _M(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function Jb(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),u=i>=n.length;return o=!o&&z.isArray(s)?s.length:o,u?(z.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!z.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&z.isArray(s[o])&&(s[o]=_M(s[o])),!a)}if(z.isFormData(t)&&z.isFunction(t.entries)){const n={};return z.forEachEntry(t,(r,s)=>{e(vM(r),s,n,0)}),n}return null}function wM(t,e,n){if(z.isString(t))try{return(e||JSON.parse)(t),z.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Pc={transitional:Zb,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=z.isObject(e);if(i&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return s?JSON.stringify(Jb(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e)||z.isReadableStream(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return yM(e,this.formSerializer).toString();if((a=z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return $f(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),wM(e)):e}],transformResponse:[function(e){const n=this.transitional||Pc.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(z.isResponse(e)||z.isReadableStream(e))return e;if(e&&z.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?xe.from(a,xe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cr.classes.FormData,Blob:cr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],t=>{Pc.headers[t]={}});const xM=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),EM=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&xM[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Q1=Symbol("internals");function jl(t){return t&&String(t).trim().toLowerCase()}function qd(t){return t===!1||t==null?t:z.isArray(t)?t.map(qd):String(t)}function TM(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const SM=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ep(t,e,n,r,s){if(z.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!z.isString(e)){if(z.isString(r))return e.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(e)}}function bM(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function IM(t,e){const n=z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Cn{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,u,d){const h=jl(u);if(!h)throw new Error("header name must be a non-empty string");const p=z.findKey(s,h);(!p||s[p]===void 0||d===!0||d===void 0&&s[p]!==!1)&&(s[p||u]=qd(a))}const o=(a,u)=>z.forEach(a,(d,h)=>i(d,h,u));if(z.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(z.isString(e)&&(e=e.trim())&&!SM(e))o(EM(e),n);else if(z.isHeaders(e))for(const[a,u]of e.entries())i(u,a,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=jl(e),e){const r=z.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return TM(s);if(z.isFunction(n))return n.call(this,s,r);if(z.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=jl(e),e){const r=z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||ep(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=jl(o),o){const a=z.findKey(r,o);a&&(!n||ep(r,r[a],a,n))&&(delete r[a],s=!0)}}return z.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||ep(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return z.forEach(this,(s,i)=>{const o=z.findKey(r,i);if(o){n[o]=qd(s),delete n[i];return}const a=e?bM(i):String(i).trim();a!==i&&delete n[i],n[a]=qd(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return z.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Q1]=this[Q1]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=jl(o);r[a]||(IM(s,o),r[a]=!0)}return z.isArray(e)?e.forEach(i):i(e),this}}Cn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(Cn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});z.freezeMethods(Cn);function tp(t,e){const n=this||Pc,r=e||n,s=Cn.from(r.headers);let i=r.data;return z.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Yb(t){return!!(t&&t.__CANCEL__)}function sl(t,e,n){xe.call(this,t??"canceled",xe.ERR_CANCELED,e,n),this.name="CanceledError"}z.inherits(sl,xe,{__CANCEL__:!0});function Xb(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new xe("Request failed with status code "+n.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function CM(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function AM(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(u){const d=Date.now(),h=r[i];o||(o=d),n[s]=u,r[s]=d;let p=i,m=0;for(;p!==s;)m+=n[p++],p=p%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),d-o<e)return;const v=h&&d-h;return v?Math.round(m*1e3/v):void 0}}function RM(t,e){let n=0,r=1e3/e,s,i;const o=(d,h=Date.now())=>{n=h,s=null,i&&(clearTimeout(i),i=null),t.apply(null,d)};return[(...d)=>{const h=Date.now(),p=h-n;p>=r?o(d,h):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},r-p)))},()=>s&&o(s)]}const Fh=(t,e,n=3)=>{let r=0;const s=AM(50,250);return RM(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,u=o-r,d=s(u),h=o<=a;r=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:d||void 0,estimated:d&&a&&h?(a-o)/d:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(p)},n)},G1=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Z1=t=>(...e)=>z.asap(()=>t(...e)),kM=cr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=z.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),NM=cr.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];z.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),z.isString(r)&&o.push("path="+r),z.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function PM(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function jM(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function eI(t,e){return t&&!PM(e)?jM(t,e):e}const J1=t=>t instanceof Cn?{...t}:t;function mo(t,e){e=e||{};const n={};function r(d,h,p){return z.isPlainObject(d)&&z.isPlainObject(h)?z.merge.call({caseless:p},d,h):z.isPlainObject(h)?z.merge({},h):z.isArray(h)?h.slice():h}function s(d,h,p){if(z.isUndefined(h)){if(!z.isUndefined(d))return r(void 0,d,p)}else return r(d,h,p)}function i(d,h){if(!z.isUndefined(h))return r(void 0,h)}function o(d,h){if(z.isUndefined(h)){if(!z.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function a(d,h,p){if(p in e)return r(d,h);if(p in t)return r(void 0,d)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(d,h)=>s(J1(d),J1(h),!0)};return z.forEach(Object.keys(Object.assign({},t,e)),function(h){const p=u[h]||s,m=p(t[h],e[h],h);z.isUndefined(m)&&p!==a||(n[h]=m)}),n}const tI=t=>{const e=mo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Cn.from(o),e.url=Gb(eI(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let u;if(z.isFormData(n)){if(cr.hasStandardBrowserEnv||cr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[d,...h]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...h].join("; "))}}if(cr.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(e)),r||r!==!1&&kM(e.url))){const d=s&&i&&NM.read(i);d&&o.set(s,d)}return e},OM=typeof XMLHttpRequest<"u",DM=OM&&function(t){return new Promise(function(n,r){const s=tI(t);let i=s.data;const o=Cn.from(s.headers).normalize();let{responseType:a,onUploadProgress:u,onDownloadProgress:d}=s,h,p,m,v,y;function b(){v&&v(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let R=new XMLHttpRequest;R.open(s.method.toUpperCase(),s.url,!0),R.timeout=s.timeout;function T(){if(!R)return;const S=Cn.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),V={data:!a||a==="text"||a==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:S,config:t,request:R};Xb(function(I){n(I),b()},function(I){r(I),b()},V),R=null}"onloadend"in R?R.onloadend=T:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(T)},R.onabort=function(){R&&(r(new xe("Request aborted",xe.ECONNABORTED,t,R)),R=null)},R.onerror=function(){r(new xe("Network Error",xe.ERR_NETWORK,t,R)),R=null},R.ontimeout=function(){let D=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const V=s.transitional||Zb;s.timeoutErrorMessage&&(D=s.timeoutErrorMessage),r(new xe(D,V.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,t,R)),R=null},i===void 0&&o.setContentType(null),"setRequestHeader"in R&&z.forEach(o.toJSON(),function(D,V){R.setRequestHeader(V,D)}),z.isUndefined(s.withCredentials)||(R.withCredentials=!!s.withCredentials),a&&a!=="json"&&(R.responseType=s.responseType),d&&([m,y]=Fh(d,!0),R.addEventListener("progress",m)),u&&R.upload&&([p,v]=Fh(u),R.upload.addEventListener("progress",p),R.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(h=S=>{R&&(r(!S||S.type?new sl(null,t,R):S),R.abort(),R=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const w=CM(s.url);if(w&&cr.protocols.indexOf(w)===-1){r(new xe("Unsupported protocol "+w+":",xe.ERR_BAD_REQUEST,t));return}R.send(i||null)})},LM=(t,e)=>{let n=new AbortController,r;const s=function(u){if(!r){r=!0,o();const d=u instanceof Error?u:this.reason;n.abort(d instanceof xe?d:new sl(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{s(new xe(`timeout ${e} of ms exceeded`,xe.ETIMEDOUT))},e);const o=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u&&(u.removeEventListener?u.removeEventListener("abort",s):u.unsubscribe(s))}),t=null)};t.forEach(u=>u&&u.addEventListener&&u.addEventListener("abort",s));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{i&&clearTimeout(i),i=null}]},MM=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},VM=async function*(t,e,n){for await(const r of t)yield*MM(ArrayBuffer.isView(r)?r:await n(String(r)),e)},Y1=(t,e,n,r,s)=>{const i=VM(t,e,s);let o=0,a,u=d=>{a||(a=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:p}=await i.next();if(h){u(),d.close();return}let m=p.byteLength;if(n){let v=o+=m;n(v)}d.enqueue(new Uint8Array(p))}catch(h){throw u(h),h}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},qf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",nI=qf&&typeof ReadableStream=="function",zg=qf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),rI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},FM=nI&&rI(()=>{let t=!1;const e=new Request(cr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),X1=64*1024,Bg=nI&&rI(()=>z.isReadableStream(new Response("").body)),Uh={stream:Bg&&(t=>t.body)};qf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Uh[e]&&(Uh[e]=z.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new xe(`Response type '${e}' is not supported`,xe.ERR_NOT_SUPPORT,r)})})})(new Response);const UM=async t=>{if(t==null)return 0;if(z.isBlob(t))return t.size;if(z.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(z.isArrayBufferView(t)||z.isArrayBuffer(t))return t.byteLength;if(z.isURLSearchParams(t)&&(t=t+""),z.isString(t))return(await zg(t)).byteLength},zM=async(t,e)=>{const n=z.toFiniteNumber(t.getContentLength());return n??UM(e)},BM=qf&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:u,responseType:d,headers:h,withCredentials:p="same-origin",fetchOptions:m}=tI(t);d=d?(d+"").toLowerCase():"text";let[v,y]=s||i||o?LM([s,i],o):[],b,R;const T=()=>{!b&&setTimeout(()=>{v&&v.unsubscribe()}),b=!0};let w;try{if(u&&FM&&n!=="get"&&n!=="head"&&(w=await zM(h,r))!==0){let B=new Request(e,{method:"POST",body:r,duplex:"half"}),I;if(z.isFormData(r)&&(I=B.headers.get("content-type"))&&h.setContentType(I),B.body){const[_,C]=G1(w,Fh(Z1(u)));r=Y1(B.body,X1,_,C,zg)}}z.isString(p)||(p=p?"include":"omit"),R=new Request(e,{...m,signal:v,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:p});let S=await fetch(R);const D=Bg&&(d==="stream"||d==="response");if(Bg&&(a||D)){const B={};["status","statusText","headers"].forEach(k=>{B[k]=S[k]});const I=z.toFiniteNumber(S.headers.get("content-length")),[_,C]=a&&G1(I,Fh(Z1(a),!0))||[];S=new Response(Y1(S.body,X1,_,()=>{C&&C(),D&&T()},zg),B)}d=d||"text";let V=await Uh[z.findKey(Uh,d)||"text"](S,t);return!D&&T(),y&&y(),await new Promise((B,I)=>{Xb(B,I,{data:V,headers:Cn.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:R})})}catch(S){throw T(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new xe("Network Error",xe.ERR_NETWORK,t,R),{cause:S.cause||S}):xe.from(S,S&&S.code,t,R)}}),$g={http:iM,xhr:DM,fetch:BM};z.forEach($g,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ex=t=>`- ${t}`,$M=t=>z.isFunction(t)||t===null||t===!1,sI={getAdapter:t=>{t=z.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!$M(n)&&(r=$g[(o=String(n)).toLowerCase()],r===void 0))throw new xe(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(ex).join(`
`):" "+ex(i[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:$g};function np(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new sl(null,t)}function tx(t){return np(t),t.headers=Cn.from(t.headers),t.data=tp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),sI.getAdapter(t.adapter||Pc.adapter)(t).then(function(r){return np(t),r.data=tp.call(t,t.transformResponse,r),r.headers=Cn.from(r.headers),r},function(r){return Yb(r)||(np(t),r&&r.response&&(r.response.data=tp.call(t,t.transformResponse,r.response),r.response.headers=Cn.from(r.response.headers))),Promise.reject(r)})}const iI="1.7.3",Qv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Qv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const nx={};Qv.transitional=function(e,n,r){function s(i,o){return"[Axios v"+iI+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new xe(s(o," has been removed"+(n?" in "+n:"")),xe.ERR_DEPRECATED);return n&&!nx[o]&&(nx[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function qM(t,e,n){if(typeof t!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],u=a===void 0||o(a,i,t);if(u!==!0)throw new xe("option "+i+" must be "+u,xe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new xe("Unknown option "+i,xe.ERR_BAD_OPTION)}}const qg={assertOptions:qM,validators:Qv},Rs=qg.validators;class eo{constructor(e){this.defaults=e,this.interceptors={request:new K1,response:new K1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=mo(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&qg.assertOptions(r,{silentJSONParsing:Rs.transitional(Rs.boolean),forcedJSONParsing:Rs.transitional(Rs.boolean),clarifyTimeoutError:Rs.transitional(Rs.boolean)},!1),s!=null&&(z.isFunction(s)?n.paramsSerializer={serialize:s}:qg.assertOptions(s,{encode:Rs.function,serialize:Rs.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&z.merge(i.common,i[n.method]);i&&z.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=Cn.concat(o,i);const a=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(u=u&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let h,p=0,m;if(!u){const y=[tx.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,d),m=y.length,h=Promise.resolve(n);p<m;)h=h.then(y[p++],y[p++]);return h}m=a.length;let v=n;for(p=0;p<m;){const y=a[p++],b=a[p++];try{v=y(v)}catch(R){b.call(this,R);break}}try{h=tx.call(this,v)}catch(y){return Promise.reject(y)}for(p=0,m=d.length;p<m;)h=h.then(d[p++],d[p++]);return h}getUri(e){e=mo(this.defaults,e);const n=eI(e.baseURL,e.url);return Gb(n,e.params,e.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(e){eo.prototype[e]=function(n,r){return this.request(mo(r||{},{method:e,url:n,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(mo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}eo.prototype[e]=n(),eo.prototype[e+"Form"]=n(!0)});class Gv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new sl(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Gv(function(s){e=s}),cancel:e}}}function HM(t){return function(n){return t.apply(null,n)}}function WM(t){return z.isObject(t)&&t.isAxiosError===!0}const Hg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hg).forEach(([t,e])=>{Hg[e]=t});function oI(t){const e=new eo(t),n=Mb(eo.prototype.request,e);return z.extend(n,eo.prototype,e,{allOwnKeys:!0}),z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return oI(mo(t,s))},n}const vt=oI(Pc);vt.Axios=eo;vt.CanceledError=sl;vt.CancelToken=Gv;vt.isCancel=Yb;vt.VERSION=iI;vt.toFormData=$f;vt.AxiosError=xe;vt.Cancel=vt.CanceledError;vt.all=function(e){return Promise.all(e)};vt.spread=HM;vt.isAxiosError=WM;vt.mergeConfig=mo;vt.AxiosHeaders=Cn;vt.formToJSON=t=>Jb(z.isHTMLForm(t)?new FormData(t):t);vt.getAdapter=sI.getAdapter;vt.HttpStatusCode=Hg;vt.default=vt;const KM=async()=>(await vt.get("https://fakestoreapi.com/products")).data.map(e=>({...e,quantity:1})),Io=()=>{const{data:t,isLoading:e,error:n,refetch:r}=_L({queryKey:["products"],queryFn:KM}),[s,i]=F.useState([]);return F.useEffect(()=>{t&&i(t)},[t]),{products:s,isLoading:e,error:n,refetch:r,incrementProductQuantity:u=>{i(d=>d.map(h=>h.id===u?{...h,quantity:h.quantity+1}:h))},decrementProductQuantity:u=>{i(d=>d.map(h=>h.id===u&&h.quantity>1?{...h,quantity:h.quantity-1}:h))}}},jc=()=>{const[t,e]=F.useState(null);return{isShow:t,setIsShow:e,handleShow:r=>{e(t===r?null:r)}}},Hf=()=>{const[t,e]=F.useState(null);return{isProductModal:t,handleProductModal:s=>{e(i=>i===s?null:s)},closeProductModal:()=>{e(null)}}},QM=t=>{let e=t.length;const n=25;return e>n?t.slice(0,n)+"...":t},Zv=t=>{let e=t.length;const n=20;return e>n?t.slice(0,n)+"...":t};function GM(t){return je({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M144.27,45.93a8,8,0,0,1,9.8-5.66,86.22,86.22,0,0,1,61.66,61.66,8,8,0,0,1-5.66,9.8A8.23,8.23,0,0,1,208,112a8,8,0,0,1-7.73-5.93,70.35,70.35,0,0,0-50.33-50.34A8,8,0,0,1,144.27,45.93Zm-2.33,41.8c13.79,3.68,22.65,12.55,26.33,26.34A8,8,0,0,0,176,120a8.23,8.23,0,0,0,2.07-.27,8,8,0,0,0,5.66-9.8c-5.12-19.16-18.5-32.54-37.66-37.66a8,8,0,1,0-4.13,15.46Zm72.43,78.73-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L126.87,168c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L89.54,41.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,24,88c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,214.37,166.46Z"},child:[]}]})(t)}function Wf(t){return je({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M230.14,58.87A8,8,0,0,0,224,56H62.68L56.6,22.57A8,8,0,0,0,48.73,16H24a8,8,0,0,0,0,16h18L67.56,172.29a24,24,0,0,0,5.33,11.27,28,28,0,1,0,44.4,8.44h45.42A27.75,27.75,0,0,0,160,204a28,28,0,1,0,28-28H91.17a8,8,0,0,1-7.87-6.57L80.13,152h116a24,24,0,0,0,23.61-19.71l12.16-66.86A8,8,0,0,0,230.14,58.87ZM104,204a12,12,0,1,1-12-12A12,12,0,0,1,104,204Zm96,0a12,12,0,1,1-12-12A12,12,0,0,1,200,204Z"},child:[]}]})(t)}function ZM(){const{products:t,isLoading:e,error:n,refetch:r}=Io(),{isShow:s,setIsShow:i,handleShow:o}=jc(),{isProductModal:a,handleProductModal:u,closeProductModal:d}=Hf(),{addToCart:h}=F.useContext(gr),{addToWishList:p}=F.useContext(bo);return e?c.jsx("div",{className:"fixed inset-0 z-[60] flex justify-center items-center bg-white ",children:c.jsx("div",{className:"w-12 h-12 aspect-square rounded-full border-8 border-lilac border-t-transparent animate-spin"})}):n?c.jsxs("div",{className:"fixed inset-0 z-[60] flex flex-col items-center justify-center bg-white",children:[c.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Something went wrong"}),c.jsxs("p",{className:"text-gray-600 mb-6",children:["Error: ",n.message]}),c.jsx("button",{className:"bg-lilac text-white py-2 px-4 rounded hover:bg-lilac-dark transition duration-300",onClick:()=>r(),children:"Refresh Page"})]}):c.jsxs(D5,{children:[c.jsx(L5,{}),c.jsx("div",{className:"h-fit grid grid-cols-5 gap-10 md:grid-cols-2 sm:grid-cols-1 ",children:t.slice(0,10).map(m=>c.jsxs("div",{className:"h-96 md:h-fit sm:h-fit ",children:[c.jsxs("div",{className:"h-3/5 relative border shadow-sm md:h-[27rem] sm:h-[27rem] ",onMouseEnter:()=>o(m.id),onMouseLeave:()=>i(!1),onClick:()=>o(m.id),children:[c.jsx("img",{src:m.image,alt:m.title,className:" p-5 w-full h-full sm:object-contain "}),s===m.id&&c.jsxs("div",{className:" flex absolute top-2/4 w-full justify-center ",children:[c.jsx("button",{className:"size-8 flex justify-center items-center bg-lilac rounded-full mr-2 hover:bg-black md:size-12 sm:size-12",onClick:()=>h(m),children:c.jsx(Wf,{className:"text-white size-5 md:size-8 sm:size-8 "})}),c.jsx("button",{className:"size-8 flex justify-center items-center bg-lilac rounded-full mr-2 hover:bg-black md:size-12 sm:size-12",onClick:()=>u(m.id),children:c.jsx(Vf,{className:"text-white size-5 md:size-10 sm:size-10"})}),c.jsx("button",{className:"size-8 flex justify-center items-center bg-lilac rounded-full hover:bg-black md:size-12 sm:size-12",onClick:()=>p(m),children:c.jsx(hi,{className:"text-white size-5 md:size-10 sm:size-10"})})]}),a===m.id&&c.jsx(Ff,{items:m,closeModal:d,addToCart:h,addToWishList:p})]}),c.jsxs("div",{className:" mt-6 ",children:[c.jsxs("p",{className:"hover:text-lilac relative group",children:[c.jsx(et,{to:`product-details/${m.id}`,children:Zv(m.title)}),c.jsx("span",{className:"absolute top-full left-1/2 -ml-[7.125rem] hidden group-hover:inline-block w-full bg-lilac text-white text-center py-1 rounded-lg z-10 after:content-[''] after:absolute after:bottom-full after:left-1/2 after:-translate-x-1/2 after:border-4 after:border-solid after:border-b-lilac after:border-x-transparent",children:m.title})]}),c.jsxs("p",{children:["$ ",m.price]})]})]},m.id))})]})}function JM({children:t}){return c.jsx("div",{className:" pt-[6.25rem] pb-[3.75rem] px-[7.5rem] md:px-11 sm:px-10 ",children:t})}function YM(t){return je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M5 17h-2v-4m-1 -8h11v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5"},child:[]},{tag:"path",attr:{d:"M3 9l4 0"},child:[]}]})(t)}function XM(){return c.jsx(JM,{children:c.jsxs("div",{className:" flex md:text-sm sm:flex-col sm:text-sm ",children:[c.jsx("div",{className:" px-[0.9rem] ",children:c.jsxs("div",{className:' mb-7 relative text-center before:absolute before:bg-[rgb(213,212,212)] before:content-[""] before:h-[3.8rem] before:w-[0.062rem] before:top-2/4 before:right-[-0.875rem] before:translate-y-[-50%] sm:before:hidden ',children:[c.jsx("div",{className:"flex justify-center ",children:c.jsx(YM,{size:50,className:"  "})}),c.jsx("h5",{className:" text-[1.125rem] my-4 ",children:"Free Shipping"}),c.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit sed"})]})}),c.jsx("div",{className:" px-[0.9rem] ",children:c.jsxs("div",{className:' mb-7 relative text-center before:absolute before:bg-[#d5d4d4] before:content-[""] before:h-[3.8rem] before:w-[0.062rem] before:top-2/4 before:right-[-0.875rem] before:translate-y-[-50%] sm:before:hidden ',children:[c.jsx("div",{className:"flex justify-center ",children:c.jsx(wN,{size:50,className:"  "})}),c.jsx("h5",{className:" text-[1.125rem] my-4 fo ",children:"Support 24/7"}),c.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit sed"})]})}),c.jsx("div",{className:" px-[0.9rem] ",children:c.jsxs("div",{className:" mb-7 relative text-center ",children:[c.jsx("div",{className:"flex justify-center ",children:c.jsx(xN,{size:50,className:"  "})}),c.jsx("h5",{className:" text-[1.125rem] my-4 fo ",children:"Money Return"}),c.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit sed"})]})})]})})}function eV(){return c.jsxs("div",{className:"h-fit",children:[c.jsx(O5,{}),c.jsx(XM,{}),c.jsx(ZM,{})]})}function tV(){return c.jsx(c.Fragment,{children:c.jsx(eV,{})})}var Oc=t=>t.type==="checkbox",Xo=t=>t instanceof Date,hn=t=>t==null;const aI=t=>typeof t=="object";var It=t=>!hn(t)&&!Array.isArray(t)&&aI(t)&&!Xo(t),nV=t=>It(t)&&t.target?Oc(t.target)?t.target.checked:t.target.value:t,rV=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,sV=(t,e)=>t.has(rV(e)),iV=t=>{const e=t.constructor&&t.constructor.prototype;return It(e)&&e.hasOwnProperty("isPrototypeOf")},Jv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Jv&&(t instanceof Blob||t instanceof FileList))&&(n||It(t)))if(e=n?[]:{},!n&&!iV(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Bn(t[r]));else return t;return e}var Kf=t=>Array.isArray(t)?t.filter(Boolean):[],dt=t=>t===void 0,te=(t,e,n)=>{if(!e||!It(t))return n;const r=Kf(e.split(/[,[\].]+?/)).reduce((s,i)=>hn(s)?s:s[i],t);return dt(r)||r===t?dt(t[e])?n:t[e]:r},Fs=t=>typeof t=="boolean",Yv=t=>/^\w*$/.test(t),lI=t=>Kf(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Be=(t,e,n)=>{let r=-1;const s=Yv(e)?[e]:lI(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let u=n;if(r!==o){const d=t[a];u=It(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=u,t=t[a]}return t};const rx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},or={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Zr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ct.createContext(null);var oV=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==or.all&&(e._proxyFormState[o]=!r||or.all),t[o]}});return s},Pn=t=>It(t)&&!Object.keys(t).length,aV=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Pn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===or.all)},Hd=t=>Array.isArray(t)?t:[t];function lV(t){const e=ct.useRef(t);e.current=t,ct.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var kr=t=>typeof t=="string",uV=(t,e,n,r,s)=>kr(t)?(r&&e.watch.add(t),te(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),te(n,i))):(r&&(e.watchAll=!0),n),uI=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},sx=t=>({isOnSubmit:!t||t===or.onSubmit,isOnBlur:t===or.onBlur,isOnChange:t===or.onChange,isOnAll:t===or.all,isOnTouch:t===or.onTouched}),ix=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const cu=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=te(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;cu(a,e)}else It(a)&&cu(a,e)}}};var cV=(t,e,n)=>{const r=Hd(te(t,n));return Be(r,"root",e[n]),Be(t,n,r),t},Xv=t=>t.type==="file",Zs=t=>typeof t=="function",zh=t=>{if(!Jv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Wd=t=>kr(t),e0=t=>t.type==="radio",Bh=t=>t instanceof RegExp;const ox={value:!1,isValid:!1},ax={value:!0,isValid:!0};var cI=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!dt(t[0].attributes.value)?dt(t[0].value)||t[0].value===""?ax:{value:t[0].value,isValid:!0}:ax:ox}return ox};const lx={isValid:!1,value:null};var dI=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,lx):lx;function ux(t,e,n="validate"){if(Wd(t)||Array.isArray(t)&&t.every(Wd)||Fs(t)&&!t)return{type:n,message:Wd(t)?t:"",ref:e}}var Oo=t=>It(t)&&!Bh(t)?t:{value:t,message:""},cx=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:u,minLength:d,min:h,max:p,pattern:m,validate:v,name:y,valueAsNumber:b,mount:R,disabled:T}=t._f,w=te(e,y);if(!R||T)return{};const S=o?o[0]:i,D=j=>{r&&S.reportValidity&&(S.setCustomValidity(Fs(j)?"":j||""),S.reportValidity())},V={},B=e0(i),I=Oc(i),_=B||I,C=(b||Xv(i))&&dt(i.value)&&dt(w)||zh(i)&&i.value===""||w===""||Array.isArray(w)&&!w.length,k=uI.bind(null,y,n,V),O=(j,A,ge,Ve=Zr.maxLength,_t=Zr.minLength)=>{const Ye=j?A:ge;V[y]={type:j?Ve:_t,message:Ye,ref:i,...k(j?Ve:_t,Ye)}};if(s?!Array.isArray(w)||!w.length:a&&(!_&&(C||hn(w))||Fs(w)&&!w||I&&!cI(o).isValid||B&&!dI(o).isValid)){const{value:j,message:A}=Wd(a)?{value:!!a,message:a}:Oo(a);if(j&&(V[y]={type:Zr.required,message:A,ref:S,...k(Zr.required,A)},!n))return D(A),V}if(!C&&(!hn(h)||!hn(p))){let j,A;const ge=Oo(p),Ve=Oo(h);if(!hn(w)&&!isNaN(w)){const _t=i.valueAsNumber||w&&+w;hn(ge.value)||(j=_t>ge.value),hn(Ve.value)||(A=_t<Ve.value)}else{const _t=i.valueAsDate||new Date(w),Ye=he=>new Date(new Date().toDateString()+" "+he),J=i.type=="time",de=i.type=="week";kr(ge.value)&&w&&(j=J?Ye(w)>Ye(ge.value):de?w>ge.value:_t>new Date(ge.value)),kr(Ve.value)&&w&&(A=J?Ye(w)<Ye(Ve.value):de?w<Ve.value:_t<new Date(Ve.value))}if((j||A)&&(O(!!j,ge.message,Ve.message,Zr.max,Zr.min),!n))return D(V[y].message),V}if((u||d)&&!C&&(kr(w)||s&&Array.isArray(w))){const j=Oo(u),A=Oo(d),ge=!hn(j.value)&&w.length>+j.value,Ve=!hn(A.value)&&w.length<+A.value;if((ge||Ve)&&(O(ge,j.message,A.message),!n))return D(V[y].message),V}if(m&&!C&&kr(w)){const{value:j,message:A}=Oo(m);if(Bh(j)&&!w.match(j)&&(V[y]={type:Zr.pattern,message:A,ref:i,...k(Zr.pattern,A)},!n))return D(A),V}if(v){if(Zs(v)){const j=await v(w,e),A=ux(j,S);if(A&&(V[y]={...A,...k(Zr.validate,A.message)},!n))return D(A.message),V}else if(It(v)){let j={};for(const A in v){if(!Pn(j)&&!n)break;const ge=ux(await v[A](w,e),S,A);ge&&(j={...ge,...k(A,ge.message)},D(ge.message),n&&(V[y]=j))}if(!Pn(j)&&(V[y]={ref:S,...j},!n))return V}}return D(!0),V};function dV(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=dt(t)?r++:t[e[r++]];return t}function hV(t){for(const e in t)if(t.hasOwnProperty(e)&&!dt(t[e]))return!1;return!0}function xt(t,e){const n=Array.isArray(e)?e:Yv(e)?[e]:lI(e),r=n.length===1?t:dV(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(It(r)&&Pn(r)||Array.isArray(r)&&hV(r))&&xt(t,n.slice(0,-1)),t}var rp=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},$h=t=>hn(t)||!aI(t);function Bi(t,e){if($h(t)||$h(e))return t===e;if(Xo(t)&&Xo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Xo(i)&&Xo(o)||It(i)&&It(o)||Array.isArray(i)&&Array.isArray(o)?!Bi(i,o):i!==o)return!1}}return!0}var hI=t=>t.type==="select-multiple",fV=t=>e0(t)||Oc(t),sp=t=>zh(t)&&t.isConnected,fI=t=>{for(const e in t)if(Zs(t[e]))return!0;return!1};function qh(t,e={}){const n=Array.isArray(t);if(It(t)||n)for(const r in t)Array.isArray(t[r])||It(t[r])&&!fI(t[r])?(e[r]=Array.isArray(t[r])?[]:{},qh(t[r],e[r])):hn(t[r])||(e[r]=!0);return e}function mI(t,e,n){const r=Array.isArray(t);if(It(t)||r)for(const s in t)Array.isArray(t[s])||It(t[s])&&!fI(t[s])?dt(e)||$h(n[s])?n[s]=Array.isArray(t[s])?qh(t[s],[]):{...qh(t[s])}:mI(t[s],hn(e)?{}:e[s],n[s]):n[s]=!Bi(t[s],e[s]);return n}var xd=(t,e)=>mI(t,e,qh(e)),pI=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>dt(t)?t:e?t===""?NaN:t&&+t:n&&kr(t)?new Date(t):r?r(t):t;function ip(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Xv(e)?e.files:e0(e)?dI(t.refs).value:hI(e)?[...e.selectedOptions].map(({value:n})=>n):Oc(e)?cI(t.refs).value:pI(dt(e.value)?t.ref.value:e.value,t)}var mV=(t,e,n,r)=>{const s={};for(const i of t){const o=te(e,i);o&&Be(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Ol=t=>dt(t)?t:Bh(t)?t.source:It(t)?Bh(t.value)?t.value.source:t.value:t,pV=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function dx(t,e,n){const r=te(t,n);if(r||Yv(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=te(e,i),a=te(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var gV=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,yV=(t,e)=>!Kf(te(t,e)).length&&xt(t,e);const vV={mode:or.onSubmit,reValidateMode:or.onChange,shouldFocusError:!0};function _V(t={}){let e={...vV,...t},n={submitCount:0,isDirty:!1,isLoading:Zs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=It(e.defaultValues)||It(e.values)?Bn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Bn(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:rp(),array:rp(),state:rp()},m=sx(e.mode),v=sx(e.reValidateMode),y=e.criteriaMode===or.all,b=x=>N=>{clearTimeout(d),d=setTimeout(x,N)},R=async x=>{if(h.isValid||x){const N=e.resolver?Pn((await _()).errors):await k(r,!0);N!==n.isValid&&p.state.next({isValid:N})}},T=(x,N)=>{(h.isValidating||h.validatingFields)&&((x||Array.from(a.mount)).forEach(P=>{P&&(N?Be(n.validatingFields,P,N):xt(n.validatingFields,P))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Pn(n.validatingFields)}))},w=(x,N=[],P,H,q=!0,$=!0)=>{if(H&&P){if(o.action=!0,$&&Array.isArray(te(r,x))){const Q=P(te(r,x),H.argA,H.argB);q&&Be(r,x,Q)}if($&&Array.isArray(te(n.errors,x))){const Q=P(te(n.errors,x),H.argA,H.argB);q&&Be(n.errors,x,Q),yV(n.errors,x)}if(h.touchedFields&&$&&Array.isArray(te(n.touchedFields,x))){const Q=P(te(n.touchedFields,x),H.argA,H.argB);q&&Be(n.touchedFields,x,Q)}h.dirtyFields&&(n.dirtyFields=xd(s,i)),p.state.next({name:x,isDirty:j(x,N),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Be(i,x,N)},S=(x,N)=>{Be(n.errors,x,N),p.state.next({errors:n.errors})},D=x=>{n.errors=x,p.state.next({errors:n.errors,isValid:!1})},V=(x,N,P,H)=>{const q=te(r,x);if(q){const $=te(i,x,dt(P)?te(s,x):P);dt($)||H&&H.defaultChecked||N?Be(i,x,N?$:ip(q._f)):Ve(x,$),o.mount&&R()}},B=(x,N,P,H,q)=>{let $=!1,Q=!1;const ie={name:x},ne=!!(te(r,x)&&te(r,x)._f&&te(r,x)._f.disabled);if(!P||H){h.isDirty&&(Q=n.isDirty,n.isDirty=ie.isDirty=j(),$=Q!==ie.isDirty);const le=ne||Bi(te(s,x),N);Q=!!(!ne&&te(n.dirtyFields,x)),le||ne?xt(n.dirtyFields,x):Be(n.dirtyFields,x,!0),ie.dirtyFields=n.dirtyFields,$=$||h.dirtyFields&&Q!==!le}if(P){const le=te(n.touchedFields,x);le||(Be(n.touchedFields,x,P),ie.touchedFields=n.touchedFields,$=$||h.touchedFields&&le!==P)}return $&&q&&p.state.next(ie),$?ie:{}},I=(x,N,P,H)=>{const q=te(n.errors,x),$=h.isValid&&Fs(N)&&n.isValid!==N;if(t.delayError&&P?(u=b(()=>S(x,P)),u(t.delayError)):(clearTimeout(d),u=null,P?Be(n.errors,x,P):xt(n.errors,x)),(P?!Bi(q,P):q)||!Pn(H)||$){const Q={...H,...$&&Fs(N)?{isValid:N}:{},errors:n.errors,name:x};n={...n,...Q},p.state.next(Q)}},_=async x=>{T(x,!0);const N=await e.resolver(i,e.context,mV(x||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return T(x),N},C=async x=>{const{errors:N}=await _(x);if(x)for(const P of x){const H=te(N,P);H?Be(n.errors,P,H):xt(n.errors,P)}else n.errors=N;return N},k=async(x,N,P={valid:!0})=>{for(const H in x){const q=x[H];if(q){const{_f:$,...Q}=q;if($){const ie=a.array.has($.name);T([H],!0);const ne=await cx(q,i,y,e.shouldUseNativeValidation&&!N,ie);if(T([H]),ne[$.name]&&(P.valid=!1,N))break;!N&&(te(ne,$.name)?ie?cV(n.errors,ne,$.name):Be(n.errors,$.name,ne[$.name]):xt(n.errors,$.name))}Q&&await k(Q,N,P)}}return P.valid},O=()=>{for(const x of a.unMount){const N=te(r,x);N&&(N._f.refs?N._f.refs.every(P=>!sp(P)):!sp(N._f.ref))&&qt(x)}a.unMount=new Set},j=(x,N)=>(x&&N&&Be(i,x,N),!Bi(Ue(),s)),A=(x,N,P)=>uV(x,a,{...o.mount?i:dt(N)?s:kr(x)?{[x]:N}:N},P,N),ge=x=>Kf(te(o.mount?i:s,x,t.shouldUnregister?te(s,x,[]):[])),Ve=(x,N,P={})=>{const H=te(r,x);let q=N;if(H){const $=H._f;$&&(!$.disabled&&Be(i,x,pI(N,$)),q=zh($.ref)&&hn(N)?"":N,hI($.ref)?[...$.ref.options].forEach(Q=>Q.selected=q.includes(Q.value)):$.refs?Oc($.ref)?$.refs.length>1?$.refs.forEach(Q=>(!Q.defaultChecked||!Q.disabled)&&(Q.checked=Array.isArray(q)?!!q.find(ie=>ie===Q.value):q===Q.value)):$.refs[0]&&($.refs[0].checked=!!q):$.refs.forEach(Q=>Q.checked=Q.value===q):Xv($.ref)?$.ref.value="":($.ref.value=q,$.ref.type||p.values.next({name:x,values:{...i}})))}(P.shouldDirty||P.shouldTouch)&&B(x,q,P.shouldTouch,P.shouldDirty,!0),P.shouldValidate&&he(x)},_t=(x,N,P)=>{for(const H in N){const q=N[H],$=`${x}.${H}`,Q=te(r,$);(a.array.has(x)||!$h(q)||Q&&!Q._f)&&!Xo(q)?_t($,q,P):Ve($,q,P)}},Ye=(x,N,P={})=>{const H=te(r,x),q=a.array.has(x),$=Bn(N);Be(i,x,$),q?(p.array.next({name:x,values:{...i}}),(h.isDirty||h.dirtyFields)&&P.shouldDirty&&p.state.next({name:x,dirtyFields:xd(s,i),isDirty:j(x,$)})):H&&!H._f&&!hn($)?_t(x,$,P):Ve(x,$,P),ix(x,a)&&p.state.next({...n}),p.values.next({name:o.mount?x:void 0,values:{...i}})},J=async x=>{o.mount=!0;const N=x.target;let P=N.name,H=!0;const q=te(r,P),$=()=>N.type?ip(q._f):nV(x),Q=ie=>{H=Number.isNaN(ie)||ie===te(i,P,ie)};if(q){let ie,ne;const le=$(),be=x.type===rx.BLUR||x.type===rx.FOCUS_OUT,wt=!pV(q._f)&&!e.resolver&&!te(n.errors,P)&&!q._f.deps||gV(be,te(n.touchedFields,P),n.isSubmitted,v,m),An=ix(P,a,be);Be(i,P,le),be?(q._f.onBlur&&q._f.onBlur(x),u&&u(0)):q._f.onChange&&q._f.onChange(x);const an=B(P,le,be,!1),_n=!Pn(an)||An;if(!be&&p.values.next({name:P,type:x.type,values:{...i}}),wt)return h.isValid&&R(),_n&&p.state.next({name:P,...An?{}:an});if(!be&&An&&p.state.next({...n}),e.resolver){const{errors:Wr}=await _([P]);if(Q(le),H){const Kr=dx(n.errors,r,P),Rn=dx(Wr,r,Kr.name||P);ie=Rn.error,P=Rn.name,ne=Pn(Wr)}}else T([P],!0),ie=(await cx(q,i,y,e.shouldUseNativeValidation))[P],T([P]),Q(le),H&&(ie?ne=!1:h.isValid&&(ne=await k(r,!0)));H&&(q._f.deps&&he(q._f.deps),I(P,ne,ie,an))}},de=(x,N)=>{if(te(n.errors,N)&&x.focus)return x.focus(),1},he=async(x,N={})=>{let P,H;const q=Hd(x);if(e.resolver){const $=await C(dt(x)?x:q);P=Pn($),H=x?!q.some(Q=>te($,Q)):P}else x?(H=(await Promise.all(q.map(async $=>{const Q=te(r,$);return await k(Q&&Q._f?{[$]:Q}:Q)}))).every(Boolean),!(!H&&!n.isValid)&&R()):H=P=await k(r);return p.state.next({...!kr(x)||h.isValid&&P!==n.isValid?{}:{name:x},...e.resolver||!x?{isValid:P}:{},errors:n.errors}),N.shouldFocus&&!H&&cu(r,de,x?q:a.mount),H},Ue=x=>{const N={...o.mount?i:s};return dt(x)?N:kr(x)?te(N,x):x.map(P=>te(N,P))},De=(x,N)=>({invalid:!!te((N||n).errors,x),isDirty:!!te((N||n).dirtyFields,x),error:te((N||n).errors,x),isValidating:!!te(n.validatingFields,x),isTouched:!!te((N||n).touchedFields,x)}),Ke=x=>{x&&Hd(x).forEach(N=>xt(n.errors,N)),p.state.next({errors:x?n.errors:{}})},vn=(x,N,P)=>{const H=(te(r,x,{_f:{}})._f||{}).ref,q=te(n.errors,x)||{},{ref:$,message:Q,type:ie,...ne}=q;Be(n.errors,x,{...ne,...N,ref:H}),p.state.next({name:x,errors:n.errors,isValid:!1}),P&&P.shouldFocus&&H&&H.focus&&H.focus()},kt=(x,N)=>Zs(x)?p.values.subscribe({next:P=>x(A(void 0,N),P)}):A(x,N,!0),qt=(x,N={})=>{for(const P of x?Hd(x):a.mount)a.mount.delete(P),a.array.delete(P),N.keepValue||(xt(r,P),xt(i,P)),!N.keepError&&xt(n.errors,P),!N.keepDirty&&xt(n.dirtyFields,P),!N.keepTouched&&xt(n.touchedFields,P),!N.keepIsValidating&&xt(n.validatingFields,P),!e.shouldUnregister&&!N.keepDefaultValue&&xt(s,P);p.values.next({values:{...i}}),p.state.next({...n,...N.keepDirty?{isDirty:j()}:{}}),!N.keepIsValid&&R()},Ht=({disabled:x,name:N,field:P,fields:H,value:q})=>{if(Fs(x)&&o.mount||x){const $=x?void 0:dt(q)?ip(P?P._f:te(H,N)._f):q;Be(i,N,$),B(N,$,!1,!1,!0)}},qr=(x,N={})=>{let P=te(r,x);const H=Fs(N.disabled);return Be(r,x,{...P||{},_f:{...P&&P._f?P._f:{ref:{name:x}},name:x,mount:!0,...N}}),a.mount.add(x),P?Ht({field:P,disabled:N.disabled,name:x,value:N.value}):V(x,!0,N.value),{...H?{disabled:N.disabled}:{},...e.progressive?{required:!!N.required,min:Ol(N.min),max:Ol(N.max),minLength:Ol(N.minLength),maxLength:Ol(N.maxLength),pattern:Ol(N.pattern)}:{},name:x,onChange:J,onBlur:J,ref:q=>{if(q){qr(x,N),P=te(r,x);const $=dt(q.value)&&q.querySelectorAll&&q.querySelectorAll("input,select,textarea")[0]||q,Q=fV($),ie=P._f.refs||[];if(Q?ie.find(ne=>ne===$):$===P._f.ref)return;Be(r,x,{_f:{...P._f,...Q?{refs:[...ie.filter(sp),$,...Array.isArray(te(s,x))?[{}]:[]],ref:{type:$.type,name:x}}:{ref:$}}}),V(x,!1,void 0,$)}else P=te(r,x,{}),P._f&&(P._f.mount=!1),(e.shouldUnregister||N.shouldUnregister)&&!(sV(a.array,x)&&o.action)&&a.unMount.add(x)}}},Es=()=>e.shouldFocusError&&cu(r,de,a.mount),Jn=x=>{Fs(x)&&(p.state.next({disabled:x}),cu(r,(N,P)=>{const H=te(r,P);H&&(N.disabled=H._f.disabled||x,Array.isArray(H._f.refs)&&H._f.refs.forEach(q=>{q.disabled=H._f.disabled||x}))},0,!1))},vr=(x,N)=>async P=>{let H;P&&(P.preventDefault&&P.preventDefault(),P.persist&&P.persist());let q=Bn(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:$,values:Q}=await _();n.errors=$,q=Q}else await k(r);if(xt(n.errors,"root"),Pn(n.errors)){p.state.next({errors:{}});try{await x(q,P)}catch($){H=$}}else N&&await N({...n.errors},P),Es(),setTimeout(Es);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pn(n.errors)&&!H,submitCount:n.submitCount+1,errors:n.errors}),H)throw H},Ii=(x,N={})=>{te(r,x)&&(dt(N.defaultValue)?Ye(x,Bn(te(s,x))):(Ye(x,N.defaultValue),Be(s,x,Bn(N.defaultValue))),N.keepTouched||xt(n.touchedFields,x),N.keepDirty||(xt(n.dirtyFields,x),n.isDirty=N.defaultValue?j(x,Bn(te(s,x))):j()),N.keepError||(xt(n.errors,x),h.isValid&&R()),p.state.next({...n}))},Hr=(x,N={})=>{const P=x?Bn(x):s,H=Bn(P),q=Pn(x),$=q?s:H;if(N.keepDefaultValues||(s=P),!N.keepValues){if(N.keepDirtyValues)for(const Q of a.mount)te(n.dirtyFields,Q)?Be($,Q,te(i,Q)):Ye(Q,te($,Q));else{if(Jv&&dt(x))for(const Q of a.mount){const ie=te(r,Q);if(ie&&ie._f){const ne=Array.isArray(ie._f.refs)?ie._f.refs[0]:ie._f.ref;if(zh(ne)){const le=ne.closest("form");if(le){le.reset();break}}}}r={}}i=t.shouldUnregister?N.keepDefaultValues?Bn(s):{}:Bn($),p.array.next({values:{...$}}),p.values.next({values:{...$}})}a={mount:N.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!N.keepIsValid||!!N.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:N.keepSubmitCount?n.submitCount:0,isDirty:q?!1:N.keepDirty?n.isDirty:!!(N.keepDefaultValues&&!Bi(x,s)),isSubmitted:N.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:q?{}:N.keepDirtyValues?N.keepDefaultValues&&i?xd(s,i):n.dirtyFields:N.keepDefaultValues&&x?xd(s,x):N.keepDirty?n.dirtyFields:{},touchedFields:N.keepTouched?n.touchedFields:{},errors:N.keepErrors?n.errors:{},isSubmitSuccessful:N.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},_r=(x,N)=>Hr(Zs(x)?x(i):x,N);return{control:{register:qr,unregister:qt,getFieldState:De,handleSubmit:vr,setError:vn,_executeSchema:_,_getWatch:A,_getDirty:j,_updateValid:R,_removeUnmounted:O,_updateFieldArray:w,_updateDisabledField:Ht,_getFieldArray:ge,_reset:Hr,_resetDefaultValues:()=>Zs(e.defaultValues)&&e.defaultValues().then(x=>{_r(x,e.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:x=>{n={...n,...x}},_disableForm:Jn,_subjects:p,_proxyFormState:h,_setErrors:D,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(x){o=x},get _defaultValues(){return s},get _names(){return a},set _names(x){a=x},get _formState(){return n},set _formState(x){n=x},get _options(){return e},set _options(x){e={...e,...x}}},trigger:he,register:qr,handleSubmit:vr,watch:kt,setValue:Ye,getValues:Ue,reset:_r,resetField:Ii,clearErrors:Ke,unregister:qt,setError:vn,setFocus:(x,N={})=>{const P=te(r,x),H=P&&P._f;if(H){const q=H.refs?H.refs[0]:H.ref;q.focus&&(q.focus(),N.shouldSelect&&q.select())}},getFieldState:De}}function Qf(t={}){const e=ct.useRef(),n=ct.useRef(),[r,s]=ct.useState({isDirty:!1,isValidating:!1,isLoading:Zs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Zs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={..._V(t),formState:r});const i=e.current.control;return i._options=t,lV({subject:i._subjects.state,next:o=>{aV(o,i._proxyFormState,i._updateFormState)&&s({...i._formState})}}),ct.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ct.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),ct.useEffect(()=>{t.values&&!Bi(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),ct.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),ct.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ct.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=oV(r,i),e.current}function t0(t){return je({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 4c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8zm-5 8c0-.832.224-1.604.584-2.295l6.711 6.711c-.691.36-1.463.584-2.295.584-2.757 0-5-2.243-5-5zm9.416 2.295l-6.711-6.711c.691-.36 1.463-.584 2.295-.584 2.757 0 5 2.243 5 5 0 .832-.224 1.604-.584 2.295z"},child:[]}]})(t)}function gI(t){return je({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 10h3v3h-3v7h-3v-7h-3v-3h3v-1.255c0-1.189.374-2.691 1.118-3.512.744-.823 1.673-1.233 2.786-1.233h2.096v3h-2.1c-.498 0-.9.402-.9.899v2.101z"},child:[]}]})(t)}function yI(t){return je({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.486 4.771c-4.23 0-6.363 3.033-6.363 5.562 0 1.533.581 2.894 1.823 3.401.205.084.387.004.446-.221l.182-.717c.061-.221.037-.3-.127-.495-.359-.422-.588-.972-.588-1.747 0-2.25 1.683-4.264 4.384-4.264 2.392 0 3.706 1.463 3.706 3.412 0 2.568-1.137 4.734-2.824 4.734-.932 0-1.629-.77-1.405-1.715.268-1.13.786-2.347.786-3.16 0-.729-.392-1.336-1.2-1.336-.952 0-1.718.984-1.718 2.304 0 .841.286 1.409.286 1.409l-1.146 4.852c-.34 1.44-.051 3.206-.025 3.385.013.104.149.131.21.051.088-.115 1.223-1.517 1.607-2.915.111-.396.627-2.445.627-2.445.311.589 1.213 1.108 2.175 1.108 2.863 0 4.804-2.608 4.804-6.103-.003-2.64-2.24-5.1-5.64-5.1z"},child:[]}]})(t)}function wV(t){return je({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2c-4.971 0-9 4.029-9 9s4.029 9 9 9 9-4.029 9-9-4.029-9-9-9zm2 2c0 1-.5 2-1.5 2s-1.5 1-1.5 2v3s1 0 1-3c0-.553.447-1 1-1s1 .447 1 1v3c-.552 0-1 .448-1 1s.448 1 1 1c.553 0 1-.448 1-1h1v-2l1 1-1 1c0 3 0 3-2 4 0-1-1-1-3-1v-2l-2-2v-2c-1 0-1 1-1 1l-.561-.561-2.39-2.39c.11-.192.225-.382.35-.564l.523-.678c1.468-1.716 3.644-2.807 6.078-2.807.691 0 1.359.098 2 .262v.738z"},child:[]}]})(t)}function xV(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function EV(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(t)}function vI(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(t)}function TV(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224,202.66A53.34,53.34,0,1,0,277.36,256,53.38,53.38,0,0,0,224,202.66Zm124.71-41a54,54,0,0,0-30.41-30.41c-21-8.29-71-6.43-94.3-6.43s-73.25-1.93-94.31,6.43a54,54,0,0,0-30.41,30.41c-8.28,21-6.43,71.05-6.43,94.33S91,329.26,99.32,350.33a54,54,0,0,0,30.41,30.41c21,8.29,71,6.43,94.31,6.43s73.24,1.93,94.3-6.43a54,54,0,0,0,30.41-30.41c8.35-21,6.43-71.05,6.43-94.33S357.1,182.74,348.75,161.67ZM224,338a82,82,0,1,1,82-82A81.9,81.9,0,0,1,224,338Zm85.38-148.3a19.14,19.14,0,1,1,19.13-19.14A19.1,19.1,0,0,1,309.42,189.74ZM400,32H48A48,48,0,0,0,0,80V432a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V80A48,48,0,0,0,400,32ZM382.88,322c-1.29,25.63-7.14,48.34-25.85,67s-41.4,24.63-67,25.85c-26.41,1.49-105.59,1.49-132,0-25.63-1.29-48.26-7.15-67-25.85s-24.63-41.42-25.85-67c-1.49-26.42-1.49-105.61,0-132,1.29-25.63,7.07-48.34,25.85-67s41.47-24.56,67-25.78c26.41-1.49,105.59-1.49,132,0,25.63,1.29,48.33,7.15,67,25.85s24.63,41.42,25.85,67.05C384.37,216.44,384.37,295.56,382.88,322Z"},child:[]}]})(t)}function SV(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function bV(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256s111 248 248 248 248-111 248-248zm-448 0c0-110.5 89.5-200 200-200s200 89.5 200 200-89.5 200-200 200S56 366.5 56 256zm72 20v-40c0-6.6 5.4-12 12-12h116v-67c0-10.7 12.9-16 20.5-8.5l99 99c4.7 4.7 4.7 12.3 0 17l-99 99c-7.6 7.6-20.5 2.2-20.5-8.5v-67H140c-6.6 0-12-5.4-12-12z"},child:[]}]})(t)}const hx=(t,e,n)=>{if(t&&"reportValidity"in t){const r=te(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},_I=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?hx(r.ref,n,t):r.refs&&r.refs.forEach(s=>hx(s,n,t))}},IV=(t,e)=>{e.shouldUseNativeValidation&&_I(t,e);const n={};for(const r in t){const s=te(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(CV(e.names||Object.keys(t),r)){const o=Object.assign({},te(n,r));Be(o,"root",i),Be(n,r,o)}else Be(n,r,i)}return n},CV=(t,e)=>t.some(n=>n.startsWith(e+"."));var AV=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(p){return t.push(p)})}),e){var u=n[o].types,d=u&&u[r.code];n[o]=uI(o,e,n,s,d?[].concat(d,r.message):r.message)}t.shift()}return n},Gf=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var u=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return i.shouldUseNativeValidation&&_I({},i),{errors:{},values:n.raw?r:d}})}catch(d){return a(d)}return u&&u.then?u.then(void 0,a):u}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:IV(AV(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Pe;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Pe||(Pe={}));var Wg;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Wg||(Wg={}));const ee=Pe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Us=t=>{switch(typeof t){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return isNaN(t)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"symbol":return ee.symbol;case"object":return Array.isArray(t)?ee.array:t===null?ee.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ee.promise:typeof Map<"u"&&t instanceof Map?ee.map:typeof Set<"u"&&t instanceof Set?ee.set:typeof Date<"u"&&t instanceof Date?ee.date:ee.object;default:return ee.unknown}},Z=Pe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),RV=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Vn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(n(o))):a[d]=a[d]||{_errors:[]},a=a[d],u++}}};return s(this),r}static assert(e){if(!(e instanceof Vn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Vn.create=t=>new Vn(t);const Ha=(t,e)=>{let n;switch(t.code){case Z.invalid_type:t.received===ee.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Z.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Pe.jsonStringifyReplacer)}`;break;case Z.unrecognized_keys:n=`Unrecognized key(s) in object: ${Pe.joinValues(t.keys,", ")}`;break;case Z.invalid_union:n="Invalid input";break;case Z.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Pe.joinValues(t.options)}`;break;case Z.invalid_enum_value:n=`Invalid enum value. Expected ${Pe.joinValues(t.options)}, received '${t.received}'`;break;case Z.invalid_arguments:n="Invalid function arguments";break;case Z.invalid_return_type:n="Invalid function return type";break;case Z.invalid_date:n="Invalid date";break;case Z.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Pe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Z.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Z.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Z.custom:n="Invalid input";break;case Z.invalid_intersection_types:n="Intersection results could not be merged";break;case Z.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Z.not_finite:n="Number must be finite";break;default:n=e.defaultError,Pe.assertNever(t)}return{message:n}};let wI=Ha;function kV(t){wI=t}function Hh(){return wI}const Wh=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)a=d(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},NV=[];function X(t,e){const n=Hh(),r=Wh({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Ha?void 0:Ha].filter(s=>!!s)});t.common.issues.push(r)}class on{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return pe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return on.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return pe;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const pe=Object.freeze({status:"aborted"}),ea=t=>({status:"dirty",value:t}),pn=t=>({status:"valid",value:t}),Kg=t=>t.status==="aborted",Qg=t=>t.status==="dirty",qu=t=>t.status==="valid",Hu=t=>typeof Promise<"u"&&t instanceof Promise;function Kh(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function xI(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ue;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ue||(ue={}));var Kl,Ql;class zr{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fx=(t,e)=>{if(qu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Vn(t.common.issues);return this._error=n,this._error}}};function Ee(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var u,d;const{message:h}=t;return o.code==="invalid_enum_value"?{message:h??a.defaultError}:typeof a.data>"u"?{message:(u=h??r)!==null&&u!==void 0?u:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(d=h??n)!==null&&d!==void 0?d:a.defaultError}},description:s}}class Se{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Us(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Us(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new on,ctx:{common:e.parent.common,data:e.data,parsedType:Us(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Hu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Us(e)},i=this._parseSync({data:e,path:s.path,parent:s});return fx(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Us(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Hu(s)?s:Promise.resolve(s));return fx(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:Z.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new pr({schema:this,typeName:fe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Vr.create(this,this._def)}nullable(){return _i.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dr.create(this,this._def)}promise(){return Ka.create(this,this._def)}or(e){return Gu.create([this,e],this._def)}and(e){return Zu.create(this,e,this._def)}transform(e){return new pr({...Ee(this._def),schema:this,typeName:fe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new tc({...Ee(this._def),innerType:this,defaultValue:n,typeName:fe.ZodDefault})}brand(){return new n0({typeName:fe.ZodBranded,type:this,...Ee(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new nc({...Ee(this._def),innerType:this,catchValue:n,typeName:fe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Dc.create(this,e)}readonly(){return rc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const PV=/^c[^\s-]{8,}$/i,jV=/^[0-9a-z]+$/,OV=/^[0-9A-HJKMNP-TV-Z]{26}$/,DV=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,LV=/^[a-z0-9_-]{21}$/i,MV=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,VV=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,FV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let op;const UV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zV=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,BV=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,EI="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$V=new RegExp(`^${EI}$`);function TI(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function qV(t){return new RegExp(`^${TI(t)}$`)}function SI(t){let e=`${EI}T${TI(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function HV(t,e){return!!((e==="v4"||!e)&&UV.test(t)||(e==="v6"||!e)&&zV.test(t))}class ar extends Se{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ee.string){const i=this._getOrReturnCtx(e);return X(i,{code:Z.invalid_type,expected:ee.string,received:i.parsedType}),pe}const r=new on;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),X(s,{code:Z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),X(s,{code:Z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?X(s,{code:Z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&X(s,{code:Z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")VV.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"email",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")op||(op=new RegExp(FV,"u")),op.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"emoji",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")DV.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"uuid",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")LV.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"nanoid",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")PV.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"cuid",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")jV.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"cuid2",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")OV.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"ulid",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),X(s,{validation:"url",code:Z.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"regex",code:Z.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),X(s,{code:Z.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),X(s,{code:Z.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),X(s,{code:Z.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?SI(i).test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{code:Z.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?$V.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{code:Z.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?qV(i).test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{code:Z.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?MV.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"duration",code:Z.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?HV(e.data,i.version)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"ip",code:Z.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?BV.test(e.data)||(s=this._getOrReturnCtx(e,s),X(s,{validation:"base64",code:Z.invalid_string,message:i.message}),r.dirty()):Pe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Z.invalid_string,...ue.errToObj(r)})}_addCheck(e){return new ar({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ue.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ue.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ue.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ue.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ue.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ue.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ue.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ue.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ue.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ue.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ue.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ue.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ue.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ue.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ue.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ue.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ue.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ue.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ue.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ue.errToObj(n)})}nonempty(e){return this.min(1,ue.errToObj(e))}trim(){return new ar({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ar({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ar({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ar.create=t=>{var e;return new ar({checks:[],typeName:fe.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ee(t)})};function WV(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class gi extends Se{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ee.number){const i=this._getOrReturnCtx(e);return X(i,{code:Z.invalid_type,expected:ee.number,received:i.parsedType}),pe}let r;const s=new on;for(const i of this._def.checks)i.kind==="int"?Pe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),X(r,{code:Z.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),X(r,{code:Z.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),X(r,{code:Z.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?WV(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),X(r,{code:Z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),X(r,{code:Z.not_finite,message:i.message}),s.dirty()):Pe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ue.toString(n))}setLimit(e,n,r,s){return new gi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ue.toString(s)}]})}_addCheck(e){return new gi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ue.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ue.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ue.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ue.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ue.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Pe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}gi.create=t=>new gi({checks:[],typeName:fe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ee(t)});class yi extends Se{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ee.bigint){const i=this._getOrReturnCtx(e);return X(i,{code:Z.invalid_type,expected:ee.bigint,received:i.parsedType}),pe}let r;const s=new on;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),X(r,{code:Z.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),X(r,{code:Z.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),X(r,{code:Z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Pe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ue.toString(n))}setLimit(e,n,r,s){return new yi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ue.toString(s)}]})}_addCheck(e){return new yi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ue.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}yi.create=t=>{var e;return new yi({checks:[],typeName:fe.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ee(t)})};class Wu extends Se{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ee.boolean){const r=this._getOrReturnCtx(e);return X(r,{code:Z.invalid_type,expected:ee.boolean,received:r.parsedType}),pe}return pn(e.data)}}Wu.create=t=>new Wu({typeName:fe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ee(t)});class po extends Se{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ee.date){const i=this._getOrReturnCtx(e);return X(i,{code:Z.invalid_type,expected:ee.date,received:i.parsedType}),pe}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return X(i,{code:Z.invalid_date}),pe}const r=new on;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),X(s,{code:Z.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),X(s,{code:Z.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Pe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new po({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ue.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ue.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}po.create=t=>new po({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:fe.ZodDate,...Ee(t)});class Qh extends Se{_parse(e){if(this._getType(e)!==ee.symbol){const r=this._getOrReturnCtx(e);return X(r,{code:Z.invalid_type,expected:ee.symbol,received:r.parsedType}),pe}return pn(e.data)}}Qh.create=t=>new Qh({typeName:fe.ZodSymbol,...Ee(t)});class Ku extends Se{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return X(r,{code:Z.invalid_type,expected:ee.undefined,received:r.parsedType}),pe}return pn(e.data)}}Ku.create=t=>new Ku({typeName:fe.ZodUndefined,...Ee(t)});class Qu extends Se{_parse(e){if(this._getType(e)!==ee.null){const r=this._getOrReturnCtx(e);return X(r,{code:Z.invalid_type,expected:ee.null,received:r.parsedType}),pe}return pn(e.data)}}Qu.create=t=>new Qu({typeName:fe.ZodNull,...Ee(t)});class Wa extends Se{constructor(){super(...arguments),this._any=!0}_parse(e){return pn(e.data)}}Wa.create=t=>new Wa({typeName:fe.ZodAny,...Ee(t)});class to extends Se{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pn(e.data)}}to.create=t=>new to({typeName:fe.ZodUnknown,...Ee(t)});class _s extends Se{_parse(e){const n=this._getOrReturnCtx(e);return X(n,{code:Z.invalid_type,expected:ee.never,received:n.parsedType}),pe}}_s.create=t=>new _s({typeName:fe.ZodNever,...Ee(t)});class Gh extends Se{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return X(r,{code:Z.invalid_type,expected:ee.void,received:r.parsedType}),pe}return pn(e.data)}}Gh.create=t=>new Gh({typeName:fe.ZodVoid,...Ee(t)});class dr extends Se{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ee.array)return X(n,{code:Z.invalid_type,expected:ee.array,received:n.parsedType}),pe;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(X(n,{code:o?Z.too_big:Z.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(X(n,{code:Z.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(X(n,{code:Z.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new zr(n,o,n.path,a)))).then(o=>on.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new zr(n,o,n.path,a)));return on.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new dr({...this._def,minLength:{value:e,message:ue.toString(n)}})}max(e,n){return new dr({...this._def,maxLength:{value:e,message:ue.toString(n)}})}length(e,n){return new dr({...this._def,exactLength:{value:e,message:ue.toString(n)}})}nonempty(e){return this.min(1,e)}}dr.create=(t,e)=>new dr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:fe.ZodArray,...Ee(e)});function Vo(t){if(t instanceof tt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Vr.create(Vo(r))}return new tt({...t._def,shape:()=>e})}else return t instanceof dr?new dr({...t._def,type:Vo(t.element)}):t instanceof Vr?Vr.create(Vo(t.unwrap())):t instanceof _i?_i.create(Vo(t.unwrap())):t instanceof Br?Br.create(t.items.map(e=>Vo(e))):t}class tt extends Se{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Pe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ee.object){const d=this._getOrReturnCtx(e);return X(d,{code:Z.invalid_type,expected:ee.object,received:d.parsedType}),pe}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof _s&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||a.push(d);const u=[];for(const d of o){const h=i[d],p=s.data[d];u.push({key:{status:"valid",value:d},value:h._parse(new zr(s,p,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof _s){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of a)u.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(d==="strict")a.length>0&&(X(s,{code:Z.unrecognized_keys,keys:a}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of a){const p=s.data[h];u.push({key:{status:"valid",value:h},value:d._parse(new zr(s,p,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of u){const p=await h.key,m=await h.value;d.push({key:p,value:m,alwaysSet:h.alwaysSet})}return d}).then(d=>on.mergeObjectSync(r,d)):on.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return ue.errToObj,new tt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const u=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ue.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new tt({...this._def,unknownKeys:"strip"})}passthrough(){return new tt({...this._def,unknownKeys:"passthrough"})}extend(e){return new tt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:fe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new tt({...this._def,catchall:e})}pick(e){const n={};return Pe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new tt({...this._def,shape:()=>n})}omit(e){const n={};return Pe.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new tt({...this._def,shape:()=>n})}deepPartial(){return Vo(this)}partial(e){const n={};return Pe.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new tt({...this._def,shape:()=>n})}required(e){const n={};return Pe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Vr;)i=i._def.innerType;n[r]=i}}),new tt({...this._def,shape:()=>n})}keyof(){return bI(Pe.objectKeys(this.shape))}}tt.create=(t,e)=>new tt({shape:()=>t,unknownKeys:"strip",catchall:_s.create(),typeName:fe.ZodObject,...Ee(e)});tt.strictCreate=(t,e)=>new tt({shape:()=>t,unknownKeys:"strict",catchall:_s.create(),typeName:fe.ZodObject,...Ee(e)});tt.lazycreate=(t,e)=>new tt({shape:t,unknownKeys:"strip",catchall:_s.create(),typeName:fe.ZodObject,...Ee(e)});class Gu extends Se{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Vn(a.ctx.common.issues));return X(n,{code:Z.invalid_union,unionErrors:o}),pe}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=u._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(u=>new Vn(u));return X(n,{code:Z.invalid_union,unionErrors:a}),pe}}get options(){return this._def.options}}Gu.create=(t,e)=>new Gu({options:t,typeName:fe.ZodUnion,...Ee(e)});const Yr=t=>t instanceof Yu?Yr(t.schema):t instanceof pr?Yr(t.innerType()):t instanceof Xu?[t.value]:t instanceof vi?t.options:t instanceof ec?Pe.objectValues(t.enum):t instanceof tc?Yr(t._def.innerType):t instanceof Ku?[void 0]:t instanceof Qu?[null]:t instanceof Vr?[void 0,...Yr(t.unwrap())]:t instanceof _i?[null,...Yr(t.unwrap())]:t instanceof n0||t instanceof rc?Yr(t.unwrap()):t instanceof nc?Yr(t._def.innerType):[];class Zf extends Se{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.object)return X(n,{code:Z.invalid_type,expected:ee.object,received:n.parsedType}),pe;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(X(n,{code:Z.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),pe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Yr(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Zf({typeName:fe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Ee(r)})}}function Gg(t,e){const n=Us(t),r=Us(e);if(t===e)return{valid:!0,data:t};if(n===ee.object&&r===ee.object){const s=Pe.objectKeys(e),i=Pe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const u=Gg(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(n===ee.array&&r===ee.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],u=Gg(o,a);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===ee.date&&r===ee.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Zu extends Se{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Kg(i)||Kg(o))return pe;const a=Gg(i.value,o.value);return a.valid?((Qg(i)||Qg(o))&&n.dirty(),{status:n.value,value:a.data}):(X(r,{code:Z.invalid_intersection_types}),pe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Zu.create=(t,e,n)=>new Zu({left:t,right:e,typeName:fe.ZodIntersection,...Ee(n)});class Br extends Se{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.array)return X(r,{code:Z.invalid_type,expected:ee.array,received:r.parsedType}),pe;if(r.data.length<this._def.items.length)return X(r,{code:Z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),pe;!this._def.rest&&r.data.length>this._def.items.length&&(X(r,{code:Z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const u=this._def.items[a]||this._def.rest;return u?u._parse(new zr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>on.mergeArray(n,o)):on.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Br({...this._def,rest:e})}}Br.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Br({items:t,typeName:fe.ZodTuple,rest:null,...Ee(e)})};class Ju extends Se{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.object)return X(r,{code:Z.invalid_type,expected:ee.object,received:r.parsedType}),pe;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new zr(r,a,r.path,a)),value:o._parse(new zr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?on.mergeObjectAsync(n,s):on.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Se?new Ju({keyType:e,valueType:n,typeName:fe.ZodRecord,...Ee(r)}):new Ju({keyType:ar.create(),valueType:e,typeName:fe.ZodRecord,...Ee(n)})}}class Zh extends Se{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.map)return X(r,{code:Z.invalid_type,expected:ee.map,received:r.parsedType}),pe;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,u],d)=>({key:s._parse(new zr(r,a,r.path,[d,"key"])),value:i._parse(new zr(r,u,r.path,[d,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const u of o){const d=await u.key,h=await u.value;if(d.status==="aborted"||h.status==="aborted")return pe;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(d.value,h.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const u of o){const d=u.key,h=u.value;if(d.status==="aborted"||h.status==="aborted")return pe;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(d.value,h.value)}return{status:n.value,value:a}}}}Zh.create=(t,e,n)=>new Zh({valueType:e,keyType:t,typeName:fe.ZodMap,...Ee(n)});class go extends Se{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.set)return X(r,{code:Z.invalid_type,expected:ee.set,received:r.parsedType}),pe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(X(r,{code:Z.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(X(r,{code:Z.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(u){const d=new Set;for(const h of u){if(h.status==="aborted")return pe;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const a=[...r.data.values()].map((u,d)=>i._parse(new zr(r,u,r.path,d)));return r.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,n){return new go({...this._def,minSize:{value:e,message:ue.toString(n)}})}max(e,n){return new go({...this._def,maxSize:{value:e,message:ue.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}go.create=(t,e)=>new go({valueType:t,minSize:null,maxSize:null,typeName:fe.ZodSet,...Ee(e)});class fa extends Se{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.function)return X(n,{code:Z.invalid_type,expected:ee.function,received:n.parsedType}),pe;function r(a,u){return Wh({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Hh(),Ha].filter(d=>!!d),issueData:{code:Z.invalid_arguments,argumentsError:u}})}function s(a,u){return Wh({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Hh(),Ha].filter(d=>!!d),issueData:{code:Z.invalid_return_type,returnTypeError:u}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ka){const a=this;return pn(async function(...u){const d=new Vn([]),h=await a._def.args.parseAsync(u,i).catch(v=>{throw d.addIssue(r(u,v)),d}),p=await Reflect.apply(o,this,h);return await a._def.returns._def.type.parseAsync(p,i).catch(v=>{throw d.addIssue(s(p,v)),d})})}else{const a=this;return pn(function(...u){const d=a._def.args.safeParse(u,i);if(!d.success)throw new Vn([r(u,d.error)]);const h=Reflect.apply(o,this,d.data),p=a._def.returns.safeParse(h,i);if(!p.success)throw new Vn([s(h,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new fa({...this._def,args:Br.create(e).rest(to.create())})}returns(e){return new fa({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new fa({args:e||Br.create([]).rest(to.create()),returns:n||to.create(),typeName:fe.ZodFunction,...Ee(r)})}}class Yu extends Se{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Yu.create=(t,e)=>new Yu({getter:t,typeName:fe.ZodLazy,...Ee(e)});class Xu extends Se{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return X(n,{received:n.data,code:Z.invalid_literal,expected:this._def.value}),pe}return{status:"valid",value:e.data}}get value(){return this._def.value}}Xu.create=(t,e)=>new Xu({value:t,typeName:fe.ZodLiteral,...Ee(e)});function bI(t,e){return new vi({values:t,typeName:fe.ZodEnum,...Ee(e)})}class vi extends Se{constructor(){super(...arguments),Kl.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return X(n,{expected:Pe.joinValues(r),received:n.parsedType,code:Z.invalid_type}),pe}if(Kh(this,Kl)||xI(this,Kl,new Set(this._def.values)),!Kh(this,Kl).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return X(n,{received:n.data,code:Z.invalid_enum_value,options:r}),pe}return pn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return vi.create(e,{...this._def,...n})}exclude(e,n=this._def){return vi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Kl=new WeakMap;vi.create=bI;class ec extends Se{constructor(){super(...arguments),Ql.set(this,void 0)}_parse(e){const n=Pe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ee.string&&r.parsedType!==ee.number){const s=Pe.objectValues(n);return X(r,{expected:Pe.joinValues(s),received:r.parsedType,code:Z.invalid_type}),pe}if(Kh(this,Ql)||xI(this,Ql,new Set(Pe.getValidEnumValues(this._def.values))),!Kh(this,Ql).has(e.data)){const s=Pe.objectValues(n);return X(r,{received:r.data,code:Z.invalid_enum_value,options:s}),pe}return pn(e.data)}get enum(){return this._def.values}}Ql=new WeakMap;ec.create=(t,e)=>new ec({values:t,typeName:fe.ZodNativeEnum,...Ee(e)});class Ka extends Se{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.promise&&n.common.async===!1)return X(n,{code:Z.invalid_type,expected:ee.promise,received:n.parsedType}),pe;const r=n.parsedType===ee.promise?n.data:Promise.resolve(n.data);return pn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ka.create=(t,e)=>new Ka({type:t,typeName:fe.ZodPromise,...Ee(e)});class pr extends Se{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{X(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return pe;const u=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return u.status==="aborted"?pe:u.status==="dirty"||n.value==="dirty"?ea(u.value):u});{if(n.value==="aborted")return pe;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?pe:a.status==="dirty"||n.value==="dirty"?ea(a.value):a}}if(s.type==="refinement"){const o=a=>{const u=s.refinement(a,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?pe:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?pe:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!qu(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>qu(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Pe.assertNever(s)}}pr.create=(t,e,n)=>new pr({schema:t,typeName:fe.ZodEffects,effect:e,...Ee(n)});pr.createWithPreprocess=(t,e,n)=>new pr({schema:e,effect:{type:"preprocess",transform:t},typeName:fe.ZodEffects,...Ee(n)});class Vr extends Se{_parse(e){return this._getType(e)===ee.undefined?pn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Vr.create=(t,e)=>new Vr({innerType:t,typeName:fe.ZodOptional,...Ee(e)});class _i extends Se{_parse(e){return this._getType(e)===ee.null?pn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_i.create=(t,e)=>new _i({innerType:t,typeName:fe.ZodNullable,...Ee(e)});class tc extends Se{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ee.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}tc.create=(t,e)=>new tc({innerType:t,typeName:fe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ee(e)});class nc extends Se{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Hu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Vn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Vn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}nc.create=(t,e)=>new nc({innerType:t,typeName:fe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ee(e)});class Jh extends Se{_parse(e){if(this._getType(e)!==ee.nan){const r=this._getOrReturnCtx(e);return X(r,{code:Z.invalid_type,expected:ee.nan,received:r.parsedType}),pe}return{status:"valid",value:e.data}}}Jh.create=t=>new Jh({typeName:fe.ZodNaN,...Ee(t)});const KV=Symbol("zod_brand");class n0 extends Se{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Dc extends Se{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?pe:i.status==="dirty"?(n.dirty(),ea(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?pe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Dc({in:e,out:n,typeName:fe.ZodPipeline})}}class rc extends Se{_parse(e){const n=this._def.innerType._parse(e),r=s=>(qu(s)&&(s.value=Object.freeze(s.value)),s);return Hu(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}rc.create=(t,e)=>new rc({innerType:t,typeName:fe.ZodReadonly,...Ee(e)});function II(t,e={},n){return t?Wa.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,d=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...d,fatal:u})}}):Wa.create()}const QV={object:tt.lazycreate};var fe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(fe||(fe={}));const GV=(t,e={message:`Input not instance of ${t.name}`})=>II(n=>n instanceof t,e),CI=ar.create,AI=gi.create,ZV=Jh.create,JV=yi.create,RI=Wu.create,YV=po.create,XV=Qh.create,e9=Ku.create,t9=Qu.create,n9=Wa.create,r9=to.create,s9=_s.create,i9=Gh.create,o9=dr.create,a9=tt.create,l9=tt.strictCreate,u9=Gu.create,c9=Zf.create,d9=Zu.create,h9=Br.create,f9=Ju.create,m9=Zh.create,p9=go.create,g9=fa.create,y9=Yu.create,v9=Xu.create,_9=vi.create,w9=ec.create,x9=Ka.create,mx=pr.create,E9=Vr.create,T9=_i.create,S9=pr.createWithPreprocess,b9=Dc.create,I9=()=>CI().optional(),C9=()=>AI().optional(),A9=()=>RI().optional(),R9={string:t=>ar.create({...t,coerce:!0}),number:t=>gi.create({...t,coerce:!0}),boolean:t=>Wu.create({...t,coerce:!0}),bigint:t=>yi.create({...t,coerce:!0}),date:t=>po.create({...t,coerce:!0})},k9=pe;var qe=Object.freeze({__proto__:null,defaultErrorMap:Ha,setErrorMap:kV,getErrorMap:Hh,makeIssue:Wh,EMPTY_PATH:NV,addIssueToContext:X,ParseStatus:on,INVALID:pe,DIRTY:ea,OK:pn,isAborted:Kg,isDirty:Qg,isValid:qu,isAsync:Hu,get util(){return Pe},get objectUtil(){return Wg},ZodParsedType:ee,getParsedType:Us,ZodType:Se,datetimeRegex:SI,ZodString:ar,ZodNumber:gi,ZodBigInt:yi,ZodBoolean:Wu,ZodDate:po,ZodSymbol:Qh,ZodUndefined:Ku,ZodNull:Qu,ZodAny:Wa,ZodUnknown:to,ZodNever:_s,ZodVoid:Gh,ZodArray:dr,ZodObject:tt,ZodUnion:Gu,ZodDiscriminatedUnion:Zf,ZodIntersection:Zu,ZodTuple:Br,ZodRecord:Ju,ZodMap:Zh,ZodSet:go,ZodFunction:fa,ZodLazy:Yu,ZodLiteral:Xu,ZodEnum:vi,ZodNativeEnum:ec,ZodPromise:Ka,ZodEffects:pr,ZodTransformer:pr,ZodOptional:Vr,ZodNullable:_i,ZodDefault:tc,ZodCatch:nc,ZodNaN:Jh,BRAND:KV,ZodBranded:n0,ZodPipeline:Dc,ZodReadonly:rc,custom:II,Schema:Se,ZodSchema:Se,late:QV,get ZodFirstPartyTypeKind(){return fe},coerce:R9,any:n9,array:o9,bigint:JV,boolean:RI,date:YV,discriminatedUnion:c9,effect:mx,enum:_9,function:g9,instanceof:GV,intersection:d9,lazy:y9,literal:v9,map:m9,nan:ZV,nativeEnum:w9,never:s9,null:t9,nullable:T9,number:AI,object:a9,oboolean:A9,onumber:C9,optional:E9,ostring:I9,pipeline:b9,preprocess:S9,promise:x9,record:f9,set:p9,strictObject:l9,string:CI,symbol:XV,transformer:mx,tuple:h9,undefined:e9,union:u9,unknown:r9,void:i9,NEVER:k9,ZodIssueCode:Z,quotelessJson:RV,ZodError:Vn});const N9=qe.object({name:qe.string().min(6,{message:"Must be at least 6 characters long"}),email:qe.string().email("Please enter a valid email address"),subject:qe.string().min(6,{message:"Must be at least 6 characters long"}),message:qe.string().min(6,{message:"Must be at least 6 characters long"})});function P9(){const{register:t,handleSubmit:e,formState:{errors:n},reset:r}=Qf({resolver:Gf(N9)}),[s,i]=F.useState(null),o=a=>{console.log(a),i("Sent succesfully"),setTimeout(()=>i(""),3e3),r({name:"",email:"",subject:"",message:""})};return c.jsxs("div",{className:" flex -mx-1 h-full sm:flex-col sm:h-fit ",children:[s&&c.jsxs("div",{className:"fixed top-12 left-1/2 transform -translate-x-1/2 px-4 py-2 w-fit rounded shadow-lg z-[57] flex justify-center items-center gap-2 border-gray-500 text-white bg-lilac sm:w-full ",children:[c.jsx($a,{className:"text-white"}),c.jsx("p",{children:s})]}),c.jsx("div",{className:" px-1 w-[30%] h-full md:pr-4 md:w-2/5 sm:w-full sm:mb-8",children:c.jsxs("div",{className:" rounded-lg bg-gray-200 pt-32 pr-[4.375rem] pb-[7.25rem] pl-[5.525rem] h-full md:px-6 sm:py-16 sm:pl-16 ",children:[c.jsxs("div",{className:"flex center mb-10",children:[c.jsx("div",{className:" mr-5 flex items-center ",children:c.jsx(GM,{})}),c.jsxs("div",{children:[c.jsx("p",{children:"+048 505 894 787"}),c.jsx("p",{children:"+838 479 589 387"})]})]}),c.jsxs("div",{className:"flex center mb-10",children:[c.jsx("div",{className:" mr-5 flex items-center ",children:c.jsx(wV,{})}),c.jsxs("div",{children:[c.jsx("p",{children:"amabilis@gmail.com"}),c.jsx("p",{children:"amabiliswebsite.com"})]})]}),c.jsxs("div",{className:"flex center mb-10",children:[c.jsx("div",{className:" mr-5 flex items-center ",children:c.jsx(uN,{})}),c.jsx("div",{children:c.jsx("p",{children:"No. 3b Amabilis street, Port Harcourt, Nigeria"})})]}),c.jsxs("div",{className:" mt-14 text-center ",children:[c.jsx("h3",{className:" font-medium text-black text-2xl mb-4 ",children:"Follow us"}),c.jsxs("ul",{className:" flex justify-center ",children:[c.jsxs("li",{className:" mx-[0.625rem] ",children:[" ",c.jsx(gI,{size:20})," "]}),c.jsxs("li",{className:" mx-[0.625rem] ",children:[" ",c.jsx(yI,{size:20})," "]}),c.jsxs("li",{className:" mx-[0.625rem] ",children:[" ",c.jsx(vI,{size:20})," "]}),c.jsxs("li",{className:" mx-[0.625rem] ",children:[" ",c.jsx(SV,{size:20})," "]}),c.jsx("li",{className:" mx-[0.625rem] "})]})]})]})}),c.jsx("div",{className:" px-1 w-[70%] h-full md:w-3/5 sm:w-full",children:c.jsxs("div",{className:" rounded-lg bg-gray-200 py-[3.125rem] px-28 h-full md:px-8 sm:px-4 ",children:[c.jsx("h2",{className:" mb-16 text-2xl font-medium sm:mb-8",children:"Get in Touch"}),c.jsxs("form",{onSubmit:e(o),className:"sm:text-sm",children:[c.jsx("input",{type:"text",name:"name",placeholder:"Name*",...t("name"),className:" bg-transparent w-[44%] border border-white h-10 py-1 px-4 mb-8 mr-8 text-black outline-lilac placeholder:text-black md:w-full sm:w-full "}),n.name&&c.jsx("p",{className:"bg-red-500",children:n.name.message}),c.jsx("input",{type:"email",name:"email",placeholder:"Email*",...t("email"),className:" bg-transparent w-[45%] border border-white h-10 py-1 px-4 mb-8 ml-8 text-black  outline-lilac placeholder:text-black md:ml-0 md:w-full sm:w-full sm:ml-0 "}),n.email&&c.jsx("p",{className:"bg-red-500",children:n.email.message}),c.jsx("input",{type:"text",name:"subject",placeholder:"Subject*",...t("subject"),className:" block mb-8 bg-transparent border border-white py-1 px-4 w-full h-12 outline-lilac placeholder:text-black "}),n.subject&&c.jsx("p",{className:"bg-red-500",children:n.subject.message}),c.jsx("textarea",{name:"message",placeholder:"Your message*",...t("message"),className:" w-full h-64 bg-transparent border border-white py-1 px-4 outline-lilac placeholder:text-black md:pt-4 sm:pt-4 "}),n.message&&c.jsx("p",{className:"bg-red-500",children:n.message.message}),c.jsx("button",{type:"submit",className:" block bg-black text-white w-28 h-8 mt-8 rounded hover:bg-lilac ",children:" SEND"})]})]})})]})}function j9(){return c.jsx("div",{className:" py-24 px-20 h-[53rem] md:p-10 sm:h-fit sm:p-12 sm:px-6",children:c.jsx(P9,{})})}function O9(){return c.jsxs("div",{className:" flex flex-col justify-center items-center",children:[c.jsx("h2",{className:" font-black text-lilac text-[15rem] md:text-9xl md:mb-6 sm:text-9xl sm:mb-6 ",children:"Oops"}),c.jsx("p",{className:" mb-8 sm:text-sm ",children:"The page you are looking for is not here."}),c.jsxs("button",{className:" bg-transparent border px-20 py-5 hover:bg-lilac hover:border-lilac hover:text-white md:px-12 md:py-4 sm:px-10 sm:py-3 ",children:[" ",c.jsx(et,{to:"/",children:"Home Page"})," "]})]})}function D9(){return c.jsx("div",{className:" p-28 md:p-20 sm:p-4 ",children:c.jsx(O9,{})})}function L9({handleCategoryChange:t,handleSearchInput:e,maxPrice:n,handleMaxPriceFilter:r,handleSearchClear:s,search:i}){return c.jsx("div",{className:" px-4 py-6 rounded-lg border w-1/4 md:w-full sm:w-full ",children:c.jsxs("div",{className:" mr-8 ",children:[c.jsx("h4",{className:" font-medium leading-6 ",children:"Search"}),c.jsxs("form",{action:"",className:" mb-12 mt-6 relative ",children:[c.jsx("input",{type:"text",placeholder:"Search here...",value:i,className:" bg-none bg-repeat bg-scroll bg-transparent bg-[0%] border border-solid border-gray-500 text-black h-11 py-1 pr-14 pl-5 w-full outline-lilac  ",onChange:e}),c.jsxs("button",{className:" bg-none bg-repeat bg-scroll bg-transparent bg-[0%] border-gray-500 px-4 border-l absolute right-0 top-1/4  text-xl ",onClick:s,children:[" ",c.jsx(dN,{})," "]})]}),c.jsx("h4",{className:" font-medium leading-6 mb-8 ",children:"Refine By"}),c.jsxs("div",{className:" relative pb-4 ",children:[c.jsx("input",{type:"checkbox"}),c.jsxs(et,{to:"#",className:" ml-8 ",children:["On Sale"," ",c.jsx("span",{className:" bg-lilac w-8 h-5 font-medium leading-5 rounded-3xl float-right text-center ",children:"4"})]})]}),c.jsxs("div",{className:" relative pb-4 ",children:[c.jsx("input",{type:"checkbox"}),c.jsxs(et,{to:"#",className:" ml-8 ",children:["New"," ",c.jsx("span",{className:" bg-lilac w-8 h-5 font-medium leading-5 rounded-3xl float-right text-center ",children:"4"})]})]}),c.jsxs("div",{className:" relative ",children:[c.jsx("input",{type:"checkbox"}),c.jsxs(et,{to:"#",className:" ml-8 ",children:["In Stock"," ",c.jsx("span",{className:" bg-lilac w-8 h-5 font-medium leading-5 rounded-3xl float-right text-center ",children:"4"})]})]}),c.jsxs("div",{className:" mt-11 ",children:[c.jsx("h4",{className:" font-medium leading-6 ",children:"Filter By Price"}),c.jsxs("div",{className:" mt-3 ",children:[c.jsxs("div",{children:["$7.95 -$",n]}),c.jsx("input",{type:"range",min:"7.95",max:"1000",step:"20",value:n,className:"w-full",onChange:r})]})]}),c.jsxs("div",{className:" mt-12 ",children:[c.jsx("h4",{className:" font-medium leading-6 mb-5 ",children:"Colour"}),c.jsxs("div",{className:" relative pb-4 ",children:[c.jsx("input",{type:"checkbox"}),c.jsxs(et,{to:"#",className:" ml-8 ",children:["Green"," ",c.jsx("span",{className:" bg-lilac w-8 h-5 font-medium leading-5 rounded-3xl float-right text-center ",children:"4"})]})]}),c.jsxs("div",{className:" relative pb-4 ",children:[c.jsx("input",{type:"checkbox"}),c.jsxs(et,{to:"#",className:" ml-8 ",children:["Cream"," ",c.jsx("span",{className:" bg-lilac w-8 h-5 font-medium leading-5 rounded-3xl float-right text-center ",children:"4"})]})]}),c.jsxs("div",{className:" relative pb-4 ",children:[c.jsx("input",{type:"checkbox"}),c.jsxs(et,{to:"#",className:" ml-8 ",children:["Blue"," ",c.jsx("span",{className:" bg-lilac w-8 h-5 font-medium leading-5 rounded-3xl float-right text-center ",children:"4"})]})]}),c.jsxs("div",{className:" relative ",children:[c.jsx("input",{type:"checkbox"}),c.jsxs(et,{to:"#",className:" ml-8 ",children:["Black"," ",c.jsx("span",{className:" bg-lilac w-8 h-5 font-medium leading-5 rounded-3xl float-right text-center ",children:"4"})]})]})]}),c.jsxs("div",{className:" mt-10 ",children:[c.jsx("h4",{className:" font-medium leading-6 mb-8 ",children:"Refine By"}),c.jsxs("div",{className:" relative pb-4 ",children:[c.jsx("input",{type:"checkbox"}),c.jsxs(et,{to:"#",className:" ml-8 ",children:["XL"," "]})]}),c.jsxs("div",{className:" relative pb-4 ",children:[c.jsx("input",{type:"checkbox"}),c.jsxs(et,{to:"#",className:" ml-8 ",children:["L"," "]})]}),c.jsxs("div",{className:" relative pb-4 ",children:[c.jsx("input",{type:"checkbox"}),c.jsxs(et,{to:"#",className:" ml-8 ",children:["SM"," "]})]}),c.jsxs("div",{className:" relative pb-4 ",children:[c.jsx("input",{type:"checkbox"}),c.jsxs(et,{to:"#",className:" ml-8 ",children:["XXL"," "]})]})]}),c.jsxs("div",{className:" mt-12 ",children:[c.jsx("h4",{className:" font-medium leading-6 mb-6 ",children:"Tag"}),c.jsx("button",{className:" mr-2 mb-4 bg-dark-gray hover:bg-lilac inline-block pt-2 pb-3 px-4 rounded-[3.125rem] ",onClick:t,children:"All"}),c.jsx("button",{className:" mr-2 mb-4 bg-dark-gray hover:bg-lilac inline-block pt-2 pb-3 px-4 rounded-[3.125rem] ",onClick:t,children:"Jewelery"}),c.jsx("button",{className:" mr-2 mb-4 bg-dark-gray hover:bg-lilac inline-block pt-2 pb-3 px-4 rounded-[3.125rem] ",onClick:t,children:"Men's clothing"}),c.jsx("button",{className:" mr-2 mb-4 bg-dark-gray hover:bg-lilac inline-block pt-2 pb-3 px-4 rounded-[3.125rem] ",onClick:t,children:"Women's clothing"}),c.jsx("button",{className:" mr-2 mb-4 bg-dark-gray hover:bg-lilac inline-block pt-2 pb-3 px-4 rounded-[3.125rem] ",onClick:t,children:"Electronics"})]})]})})}function M9(t){return je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"7",height:"7",x:"3",y:"3",rx:"1"},child:[]},{tag:"rect",attr:{width:"7",height:"7",x:"14",y:"3",rx:"1"},child:[]},{tag:"rect",attr:{width:"7",height:"7",x:"14",y:"14",rx:"1"},child:[]},{tag:"rect",attr:{width:"7",height:"7",x:"3",y:"14",rx:"1"},child:[]}]})(t)}function V9({handleSortOrder:t,filteredProductsLength:e}){return c.jsxs("div",{className:" flex justify-between items-center py-6 sm:flex-col sm:items-start sm:text-sm ",children:[c.jsxs("div",{className:"flex sm:flex-col sm:items-start ",children:[c.jsxs("select",{className:" mr-8 ",onChange:t,children:[c.jsx("option",{value:"",children:"Sort by newness"}),c.jsx("option",{value:"a-z",children:"A to Z"}),c.jsx("option",{value:"z-a",children:"Z to A"}),c.jsx("option",{value:"in stock",children:"In stock"})]}),c.jsxs("p",{className:" py-2 ",children:["Showing ",e," of 20 results"]})]}),c.jsxs("div",{className:" flex justify-between w-14 ",children:[c.jsx(ir,{to:"grid",className:({isActive:n})=>n?" text-lilac ":" text-black ",children:c.jsx(M9,{size:20})}),c.jsx(ir,{to:"list",className:({isActive:n})=>n?" text-lilac ":" text-black ",children:c.jsx(M5,{size:20})})]})]})}function F9({handleSortOrder:t,filteredProducts:e,filteredProductsLength:n}){return c.jsxs("div",{className:"px-4 w-3/4 border rounded-lg md:w-full md:border-none sm:w-full sm:border-none sm:px-1",children:[c.jsx(V9,{handleSortOrder:t,filteredProductsLength:n}),c.jsx(Ky,{context:e})]})}function U9(t,e){const[n,r]=F.useState(t);return F.useEffect(()=>{const s=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(s)}},[t,e]),n}function z9(){var V;const[t,e]=F.useState("all"),[n,r]=F.useState(""),[s,i]=F.useState(""),[o,a]=F.useState(1e3),[u,d]=F.useState(20),h=U9(n,1e3),p=B=>{e(B.target.textContent.toLowerCase())},m=B=>{r(B.target.value.toLowerCase())},v=()=>{r("")},y=B=>{i(B.target.value.toLowerCase())},b=B=>{a(Number(B.target.value))},{products:R,isLoading:T,error:w,refetch:S}=Io(),D=(V=R==null?void 0:R.filter(B=>{const I=t==="all"||B.category.toLowerCase()===t,_=B.title.toLowerCase().includes(h),C=B.price<=o;return I&&_&&C}))==null?void 0:V.sort((B,I)=>s==="a-z"?B.title.localeCompare(I.title):s==="z-a"?I.title.localeCompare(B.title):0);return F.useEffect(()=>{d(D.length)},[D.length]),T?c.jsx("div",{className:"fixed inset-0 z-[60] flex justify-center items-center bg-white ",children:c.jsx("div",{className:"w-12 h-12 aspect-square rounded-full border-8 border-lilac border-t-transparent animate-spin"})}):w?c.jsxs("div",{className:"fixed inset-0 z-[60] flex flex-col items-center justify-center bg-white",children:[c.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Something went wrong"}),c.jsxs("p",{className:"text-gray-600 mb-6",children:["Error: ",w.message]}),c.jsx("button",{className:"bg-lilac text-white py-2 px-4 rounded hover:bg-lilac-dark transition duration-300",onClick:()=>S(),children:"Refresh Page"})]}):c.jsxs("div",{className:" flex py-16 px-12 gap-8 md:flex-col-reverse md:px-4 sm:flex-col-reverse sm:px-4 ",children:[c.jsx(L9,{handleCategoryChange:p,handleSearchInput:m,handleMaxPriceFilter:b,maxPrice:o,handleSearchClear:v,search:n}),c.jsx(F9,{filteredProducts:D,handleSortOrder:y,filteredProductsLength:u})]})}function B9(){return c.jsx(c.Fragment,{children:c.jsx(z9,{})})}function $9(){const t=J2(),{isLoading:e,error:n,refetch:r}=Io(),{isShow:s,setIsShow:i,handleShow:o}=jc(),{isProductModal:a,handleProductModal:u,closeProductModal:d}=Hf(),{addToCart:h,incrementItemQuantity:p,decrementItemQuantity:m}=F.useContext(gr),{addToWishList:v}=F.useContext(bo);return e?c.jsx("div",{className:"fixed inset-0 z-[60] flex justify-center items-center bg-white ",children:c.jsx("div",{className:"w-12 h-12 aspect-square rounded-full border-8 border-lilac border-t-transparent animate-spin"})}):n?c.jsxs("div",{className:"fixed inset-0 z-[60] flex flex-col items-center justify-center bg-white",children:[c.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Something went wrong"}),c.jsxs("p",{className:"text-gray-600 mb-6",children:["Error: ",n.message]}),c.jsx("button",{className:"bg-lilac text-white py-2 px-4 rounded hover:bg-lilac-dark transition duration-300",onClick:()=>r(),children:"Refresh Page"})]}):c.jsx("div",{className:"h-fit grid grid-cols-3 gap-10 md:grid-cols-2 sm:grid-cols-1 sm:pb-4 ",children:(t==null?void 0:t.length)>0?t.map(y=>c.jsxs("div",{className:"h-[25rem] border shadow-md md:h-[35rem] sm:h-[35rem] ",children:[c.jsxs("div",{className:"h-[70%] relative md:h-4/5 sm:h-4/5",onMouseEnter:()=>o(y.id),onMouseLeave:()=>i(!1),onClick:()=>o(y.id),children:[c.jsx("img",{src:y.image,alt:y.title,className:" w-full h-full md:p-4 sm: p-5 "}),s===y.id&&c.jsxs("div",{className:" z-50 flex absolute bottom-0 w-full h-12 ",children:[c.jsx("div",{className:" bg-lilac w-1/4 h-full flex justify-center hover:bg-black md:w-[15%] sm:w-[15%] ",children:c.jsxs("button",{className:" flex justify-center items-center cursor-pointer  ",onClick:()=>v(y),children:[" ",c.jsx(hi,{size:25,className:"text-white"})," "]})}),c.jsx("div",{className:" bg-lilac w-2/4 h-full border-x border-slate-100 flex justify-center cursor-pointer hover:bg-black md:w-[70%] sm:w-[70%] ",children:c.jsxs("button",{className:" flex justify-center items-center text-white ",onClick:()=>h(y),children:[" ",c.jsx(Wf,{className:" m-1 text-white "}),"Add to Cart"," "]})}),c.jsx("div",{className:" bg-lilac w-1/4 h-full flex justify-center cursor-pointer hover:bg-black md:w-[15%] sm:w-[15%] ",children:c.jsxs("button",{className:" flex justify-center items-center cursor-pointer text-white ",onClick:()=>u(y.id),children:[" ",c.jsx(Vf,{size:30})," "]})})]})]}),c.jsxs("div",{className:" mt-6 p-2 sm:text-center ",children:[c.jsxs("p",{className:"hover:text-lilac relative group",children:[c.jsx(et,{to:`/product-details/${y.id}`,children:QM(y.title)}),c.jsx("span",{className:"absolute top-full left-1/2 -ml-[7.125rem] hidden group-hover:inline-block w-full bg-lilac text-white text-center py-1 rounded-lg z-10 after:content-[''] after:absolute after:bottom-full after:left-1/2 after:-translate-x-1/2 after:border-4 after:border-solid after:border-b-lilac after:border-x-transparent",children:y.title})]}),c.jsxs("p",{className:" text-center pt-1 ",children:["$",y.price]})]}),a===y.id&&c.jsx(Ff,{items:y,closeModal:d,addToCart:h,addToWishList:v,decrementItemQuantity:m,incrementItemQuantity:p})]},y.id)):c.jsx("div",{className:"font-medium text-xl italic",children:"No Products Found"})})}const q9=({getTotalPriceOfCart:t,handleNavigationToCheckout:e})=>c.jsxs("div",{className:"border w-1/3 px-8 py-10 bg-gray-200 rounded-md md:w-full md:col-span-2 sm:w-full sm:text-sm sm:px-4",children:[c.jsx("h3",{className:"text-lg font-medium mb-8",children:"Cart Total"}),c.jsxs("div",{className:"flex justify-between mb-4 border-b border-black pb-4",children:[c.jsx("p",{children:"Total Products"}),c.jsxs("p",{children:["$",t()]})]}),c.jsxs("div",{className:`border-b border-black\r
         pb-4`,children:[c.jsx("p",{className:"mb-4",children:"Total Shipping"}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("div",{children:[c.jsx("input",{type:"checkbox",name:"standardShipping"}),c.jsx("label",{htmlFor:"standardShipping",children:"Standard"})]}),c.jsx("span",{children:"$20.00"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("div",{children:[c.jsx("input",{type:"checkbox",name:"expressShipping"}),c.jsx("label",{htmlFor:"expressShipping",children:"Express"})]}),c.jsx("span",{children:"$30.00"})]})]}),c.jsxs("div",{className:"flex justify-between py-4 text-lilac text-xl",children:[c.jsx("h2",{className:" ",children:"Grand Total"}),c.jsxs("p",{children:["$",t()]})]}),c.jsx("button",{onClick:e,className:"uppercase bg-lilac w-full rounded-full py-4 text-white font-medium hover:bg-black",children:"Proceed to checkout"})]}),H9=()=>c.jsxs("div",{className:"border w-1/3 px-8 py-10 bg-gray-200 rounded-md md:w-full sm:w-full sm:text-sm sm:px-4",children:[c.jsx("h3",{className:"text-lg font-medium",children:"Use Coupon Code"}),c.jsx("p",{className:"mb-4",children:"Enter your coupon code if you have one."}),c.jsx("input",{type:"text",className:"block outline-lilac border w-full px-4 py-2"}),c.jsx("button",{className:"uppercase bg-lilac w-full rounded-full py-4 text-white font-medium mt-8 hover:bg-black",children:"apply coupon"})]}),W9=()=>c.jsxs("div",{className:"border w-1/3 px-8 py-10 bg-gray-200 rounded-md md:w-full sm:w-full sm:text-sm sm:px-4",children:[c.jsx("h3",{className:"text-lg font-medium",children:"Estimate Shipping And Tax"}),c.jsx("p",{children:"Enter your destination to get a shipping estimate."}),c.jsxs("form",{children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"country",className:"mb-2",children:"*Country"}),c.jsx("select",{name:"country",id:"country",className:"block w-full outline-lilac h-8",children:c.jsx("option",{value:"",children:"Nigeria"})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"country",className:"mb-2",children:"* Region / State"}),c.jsx("select",{name:"country",id:"country",className:"block w-full outline-lilac h-8",children:c.jsx("option",{value:"",children:"Rivers"})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"zip",className:"mb-2",children:"* Zip / Postal Code"}),c.jsx("input",{type:"number",id:"zip",className:"w-full h-8"})]}),c.jsx("button",{className:"uppercase bg-lilac w-full rounded-full py-4 text-white font-medium hover:bg-black mt-8",children:"Get a quote"})]})]});function K9(){const t=xo(),{error:e,isLoading:n}=Io(),{cart:r,removeFromCart:s,incrementItemQuantity:i,decrementItemQuantity:o,getTotalPriceForItem:a,getTotalPriceOfCart:u,clearCart:d}=F.useContext(gr);if(n)return c.jsx("div",{children:"Data is loading"});if(e)return c.jsxs("p",{children:["Error: ",e.message," "]});const h=()=>{t("/collection/grid")},p=()=>{t("/checkout")};return c.jsx(c.Fragment,{children:r.length===0?c.jsxs("div",{className:" flex justify-center items-center flex-col  ",children:[c.jsx(rT,{size:100}),c.jsx("p",{className:" text-2xl my-5 ",children:"Cart is empty"}),c.jsx("p",{className:" mb-3 font-medium ",children:"PLease order your favorite items"}),c.jsx("button",{className:" bg-black text-white hover:bg-lilac w-40 h-11 ",children:c.jsx(et,{to:"/collection",children:"Add Items"})})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:" mb-4 font-semibold text-xl ",children:"Your cart items"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:" border w-full md:w-[60rem] md:text-sm sm:w-[50rem] sm:text-sm ",children:[c.jsx("thead",{className:" bg-gray-200 ",children:c.jsxs("tr",{className:" h-11 ",children:[c.jsx("th",{children:"IMAGE"}),c.jsx("th",{children:"PRODUCT NAME"}),c.jsx("th",{children:"UNIT PRICE"}),c.jsx("th",{children:"QTY"}),c.jsx("th",{children:"SUBTOTAL"}),c.jsx("th",{children:"ACTION"})]})}),c.jsx("tbody",{children:r==null?void 0:r.map(m=>c.jsxs("tr",{className:" border ",children:[c.jsx("td",{className:" h-40  w-[12.5%] ",children:c.jsx("img",{src:m.image,alt:m.title,className:" h-full w-full object-contain p-8 "})}),c.jsx("td",{className:" w-2/4 text-center ",children:m.title}),c.jsxs("td",{className:" w-[12.5%] text-center ",children:["$",m.price]}),c.jsx("td",{className:" w-[12.5%] ",children:c.jsxs("div",{className:" flex border ",children:[c.jsx("button",{className:" inline text-center cursor-pointer w-3/12 border-r ",onClick:()=>o(m.id),children:"-"}),c.jsx("span",{className:"w-1/2 text-center",children:m.quantity}),c.jsx("button",{className:" inline text-center cursor-pointer w-3/12 border-l ",onClick:()=>i(m.id),children:"+"})]})}),c.jsxs("td",{className:" w-[12.5%] text-center ",children:["$",a(m)]}),c.jsxs("td",{className:" w-[12.5%] ",children:[" ",c.jsx(hN,{size:30,onClick:()=>s(m.id),className:"hover:text-lilac"})," "]})]},m.id))})]})}),c.jsxs("div",{className:"mt-10 flex justify-between sm:flex-col sm:text-sm",children:[c.jsx("button",{className:"bg-gray-200 rounded-full py-4 px-10 uppercase font-medium hover:bg-lilac sm:mb-4",onClick:h,children:"Continue Shopping"}),c.jsx("button",{className:"bg-gray-200 rounded-full py-4 px-10 uppercase font-medium hover:bg-lilac",onClick:d,children:"Clear Shopping cart"})]}),c.jsxs("div",{className:"mt-12 flex gap-8 md:grid md:grid-cols-2 sm:flex-col",children:[c.jsx(W9,{}),c.jsx(H9,{}),c.jsx(q9,{getTotalPriceOfCart:u,handleNavigationToCheckout:p})]})]})})}function Q9(){return c.jsx("div",{className:" p-20 md:px-8 sm:p-4 ",children:c.jsx(K9,{})})}function G9(){return c.jsxs("section",{className:" flex flex-col justify-center items-center p-48 md:px-8 md:py-16 sm:px-4 sm:py-16 ",children:[c.jsxs("div",{className:" flex mb-10 ",children:[c.jsx("div",{className:' relative before:absolute before:bg-[hsl(0,100%,3%)] before:content-[""] before:h-5 before:w-[0.0625rem] before:bottom-1 before:-right-[0.125rem] ',children:c.jsx(ir,{to:"login",className:({isActive:t})=>t?"text-lilac font-bold text-2xl":"text-black font-bold text-2xl",children:c.jsx("p",{className:"mx-5",children:"Login"})})}),c.jsx("div",{className:"",children:c.jsxs(ir,{to:"register",className:({isActive:t})=>t?"text-lilac font-bold text-2xl":"text-black font-bold text-2xl",children:[" ",c.jsx("p",{className:"mx-5",children:"Register"})," "]})})]}),c.jsx(Ky,{})]})}function Z9(){const{wishList:t,handleAddToCartWhileRemovingFromWishList:e,incrementItemQuantity:n,decrementItemQuantity:r,getTotalPriceForItem:s}=F.useContext(bo);return c.jsx(c.Fragment,{children:t.length===0?c.jsxs("div",{className:" flex justify-center items-center flex-col  ",children:[c.jsx(hi,{size:100}),c.jsx("p",{className:" text-2xl my-5 ",children:"WishList is empty"}),c.jsx("p",{className:" mb-3 font-medium ",children:"PLease order your favorite items"}),c.jsx("button",{className:" bg-black text-white hover:bg-lilac w-40 h-11 ",children:c.jsx(et,{to:"/collection",children:"Add Items"})})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:" border border-collapse w-full md:w-[60rem] md:text-sm sm:w-[50rem] sm:text-sm ",children:[c.jsx("thead",{className:" bg-gray-200 ",children:c.jsxs("tr",{className:" h-11 ",children:[c.jsx("th",{className:"w-[12.5%]",children:"IMAGE"}),c.jsx("th",{className:"w-[30%]",children:"PRODUCT NAME"}),c.jsx("th",{className:" w-[12.5%]",children:"UNIT PRICE"}),c.jsx("th",{className:" w-[12.5%]",children:"QTY"}),c.jsx("th",{className:" w-[12.5%]",children:"SUBTOTAL"}),c.jsx("th",{className:" w-[12.5%]",children:"ADD TO CART"})]})}),c.jsx("tbody",{children:t==null?void 0:t.map(i=>c.jsxs("tr",{className:" border ",children:[c.jsx("td",{className:" h-40  w-[12.5%] ",children:c.jsx("img",{src:i.image,alt:i.title,className:" h-full w-full object-contain p-8 "})}),c.jsx("td",{className:" w-[30%] text-center ",children:i.title}),c.jsxs("td",{className:" w-[12.5%] text-center ",children:["$ ",i.price]}),c.jsx("td",{className:" w-[12.5%] ",children:c.jsxs("div",{className:" flex border ",children:[c.jsx("button",{className:" inline text-center cursor-pointer w-3/12 border-r ",onClick:()=>r(i.id),children:"-"}),c.jsx("span",{className:"w-1/2 text-center",children:i.quantity}),c.jsx("button",{className:" inline text-center cursor-pointer w-3/12 border-l ",onClick:()=>n(i.id),children:"+"})]})}),c.jsxs("td",{className:" w-[12.5%] text-center ",children:["$",s(i)]}),c.jsxs("td",{className:" w-[12.5%] text-center ",children:[" ",c.jsx("button",{className:" bg-lilac text-white hover:bg-black rounded-md p-2 text-sm ",onClick:()=>e(i),children:"ADD TO CART"})," "]})]},i.id))})]})})})}function J9(){return c.jsx("div",{className:" p-20 md:px-8 sm:p-4 ",children:c.jsx(Z9,{})})}function Y9(){const t=J2(),{isLoading:e,error:n,refetch:r}=Io(),{addToCart:s}=F.useContext(gr);return e?c.jsx("div",{className:"fixed inset-0 z-[60] flex justify-center items-center bg-white ",children:c.jsx("div",{className:"w-12 h-12 aspect-square rounded-full border-8 border-lilac border-t-transparent animate-spin"})}):n?c.jsxs("div",{className:"fixed inset-0 z-[60] flex flex-col items-center justify-center bg-white",children:[c.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Something went wrong"}),c.jsxs("p",{className:"text-gray-600 mb-6",children:["Error: ",n.message]}),c.jsx("button",{className:"bg-lilac text-white py-2 px-4 rounded hover:bg-lilac-dark transition duration-300",onClick:()=>r(),children:"Refresh Page"})]}):c.jsx("section",{className:" h-fit flex flex-col gap-10 mb-4",children:(t==null?void 0:t.length)>0?t.map(i=>c.jsxs("div",{className:" h-[31rem] flex border shadow-md sm:flex-col sm:h-fit ",children:[c.jsx("div",{className:"h-[31rem] w-[35%] border shadow-sm flex justify-center sm:w-full sm:h-[20rem] ",children:c.jsx("img",{src:i.image,alt:i.title,className:" h-1/2 py-5 px-4 sm:h-full"})}),c.jsxs("div",{className:" h-[31rem] w-[65%] py-5 mx-4 sm:w-full sm:pr-4 sm:h-fit ",children:[c.jsx("h2",{className:" text-2xl mb-3 ",children:i.title}),c.jsxs("p",{className:" text-red-500 text-lg mb-2 ",children:["$",i.price]}),c.jsxs("p",{className:"mb-3 flex",children:[c.jsx(zv,{size:20,className:"inline mr-2 text-orange-500"})," ",i.rating.rate]}),c.jsx("p",{className:" mb-3 sm:text-sm ",children:i.description}),c.jsx("button",{onClick:()=>s(i),className:" bg-black text-white w-32 h-12 hover:bg-lilac sm:text-sm sm:h-8 ",children:"ADD TO CART"})]})]},i.id)):c.jsx("div",{className:"font-medium text-xl italic",children:"No Products Found"})})}function du({type:t,name:e,placeholder:n,register:r,value:s}){return c.jsx("input",{className:" border h-12 w-full p-3 outline-lilac md:text-sm sm:text-sm ",type:t,name:e,placeholder:n,...r(e),value:s})}const kI=({name:t})=>c.jsx("button",{className:" text-[0.938rem] font-medium bg-gray-300 w-28 h-10 mt-7 transition-colors duration-100 ease-linear delay-75 transform hover:bg-lilac hover:text-white md:text-sm sm:text-sm sm:h-9 ",type:"submit",children:t}),X9=qe.object({username:qe.string().min(6,{message:"Must be at least 6 characters long"}),password:qe.string().min(8,{message:"Password must be at least 8 characters long"}).max(20,{message:"Password must not exceed 20 characters"}).regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,20}$/,"Password must contain at least one lower letter, one uppercase letter, one number, and one special character"),rememberMe:qe.boolean()});function e6(){const t=xo(),{login:e,setIsLoggedIn:n}=Mf(),{register:r,handleSubmit:s,formState:{errors:i},reset:o}=Qf({resolver:Gf(X9)}),[a,u]=F.useState(null),[d,h]=F.useState(null),p=async m=>{const{username:v,password:y,rememberMe:b}=m;try{const R=p5(t5(Xi,"users"),g5("username","==",v)),T=await x5(R);if(T.empty)u("user not found");else{const S=T.docs[0].data(),D=S.email;await J4(Mh,D,y);const V={uid:S.uid,email:S.email,username:S.username};b?localStorage.setItem("user",JSON.stringify(V)):sessionStorage.setItem("user",JSON.stringify(V)),e(V),n(!0);const B=JSON.parse(localStorage.getItem("cart"))||[];await xb(za(Xi,"carts",V.uid),{cartItems:B,updatedAt:new Date});const I=await Uv(za(Xi,"carts",V.uid));if(I.exists()){const _=I.data().cartItems||[];localStorage.setItem("cart",JSON.stringify(_))}h("Login successful"),setTimeout(()=>h(""),3e3),t("/checkout")}}catch(R){u(R.message),setTimeout(()=>{u("")},3e3),console.error("Error logging in",R)}o({username:"",password:"",rememberMe:!1})};return c.jsxs("form",{onSubmit:s(p),className:" border h-full w-[70%] shadow-md p-20 md:w-full md:p-20 sm:w-full sm:py-10 sm:px-4 ",children:[d&&c.jsxs("div",{className:"fixed top-12 left-1/2 transform -translate-x-1/2 px-4 py-2 w-fit rounded shadow-lg z-[57] flex justify-center items-center gap-2 border-gray-500 text-white bg-lilac sm:w-full ",children:[c.jsx($a,{className:"text-white"}),c.jsx("p",{children:d})]}),a&&c.jsxs("div",{className:"fixed top-12 left-1/2 transform -translate-x-1/2 px-4 py-2 w-fit rounded shadow-lg z-[57] flex justify-center items-center gap-2 border-gray-500 text-white bg-red-400 sm:w-full ",children:[c.jsx(t0,{className:"text-white"}),c.jsx("p",{children:a})]}),c.jsxs("div",{className:" mb-8 ",children:[c.jsx(du,{type:"text",placeholder:"Username",name:"username",register:r}),i.username&&c.jsx("p",{className:" bg-red-500  ",children:i.username.message})]}),c.jsxs("div",{className:" mb-8 ",children:[c.jsx(du,{type:"password",placeholder:"Password",name:"password",register:r}),i.password&&c.jsx("p",{className:" bg-red-500  ",children:i.password.message})]}),c.jsxs("div",{className:" flex justify-between ",children:[c.jsxs("div",{children:[c.jsx("input",{type:"checkbox",name:"rememberMe",...r("rememberMe")}),c.jsx("span",{className:" ml-2 text-[0.938rem]",children:"Remember me"})]}),c.jsx("div",{children:c.jsx(et,{className:" text-[0.938rem] ",children:"Forgot password?"})})]}),c.jsx(kI,{name:"LOGIN"})]})}const t6=qe.object({username:qe.string().min(6,{message:"Must be at least 6 characters long"}),password:qe.string().min(8,"Password must be at least 8 characters long").max(20,"Password must not exceed 20 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,20}$/,"Password must contain at least one lower letter, one uppercase letter, one number, and one special character"),email:qe.string().email("Please enter a valid email address")});function n6(){const t=xo(),{register:e,handleSubmit:n,formState:{errors:r},reset:s}=Qf({resolver:Gf(t6)}),[i,o]=F.useState(null),[a,u]=F.useState(null),d=async h=>{const{email:p,password:m,username:v}=h;try{const b=(await Z4(Mh,p,m)).user;await xb(za(Xi,"users",b.uid),{uid:b.uid,username:v,email:b.email,createdAt:new Date}),console.log(b),u("Registered successfully"),setTimeout(()=>u("Please login"),1e3),setTimeout(()=>u(""),3e3),t("/login-register/login")}catch(y){o(y.message),console.error("Error registering",y)}s({username:"",password:"",email:""})};return c.jsxs("form",{onSubmit:n(d),className:" border h-full w-[70%] shadow-md p-20 md:w-full md:p-20 sm:w-full sm:py-10 sm:px-4 ",children:[a&&c.jsxs("div",{className:"fixed top-12 left-1/2 transform -translate-x-1/2 px-4 py-2 w-fit rounded shadow-lg z-[57] flex justify-center items-center gap-2 border-gray-500 text-white bg-lilac sm:w-full ",children:[c.jsx($a,{className:"text-white"}),c.jsx("p",{children:a})]}),i&&c.jsxs("div",{className:"fixed top-12 left-1/2 transform -translate-x-1/2 px-4 py-2 w-fit rounded shadow-lg z-[57] flex justify-center items-center gap-2 border-gray-500 text-white bg-red-400 sm:w-full ",children:[c.jsx(t0,{className:"text-white"}),c.jsx("p",{children:i})]}),c.jsxs("div",{className:" mb-8 ",children:[c.jsx(du,{type:"text",placeholder:"Username",name:"username",register:e}),r.username&&c.jsx("p",{className:" bg-red-500  ",children:r.username.message})]}),c.jsxs("div",{className:"mb-8 ",children:[c.jsx(du,{type:"password",placeholder:"Password",name:"password",register:e}),r.password&&c.jsx("p",{className:" bg-red-500  ",children:r.password.message})]}),c.jsxs("div",{children:[c.jsx(du,{type:"email",placeholder:"Email",name:"email",register:e}),r.email&&c.jsx("p",{className:" bg-red-500  ",children:r.email.message})]}),c.jsx(kI,{name:"REGISTER"})]})}function r6(){const t=[{title:"Our Vision",content:"To be a leading global destination where fashion, elegance, and technology converge, creating an unparalleled shopping experience that inspires and empowers our customers to express their unique style and embrace modern living."},{title:"Our Mission",content:"At Amabilis, our mission is to curate a diverse and innovative selection of high-quality clothing, jewelry, and electronics that cater to the evolving needs and desires of our customers. We are committed to excellence, sustainability, and customer satisfaction, ensuring that every product and service we offer enhances the lives of those we serve."},{title:"Our Goal",content:"Our goal is to continually expand our product range, embrace the latest trends, and foster a loyal community of satisfied customers. We strive to set new standards in the online retail space, offering an effortless shopping experience, exceptional value, and unparalleled quality."}];return c.jsx("div",{className:" flex my-20 gap-8 px-3 sm:flex-col ",children:t.map(e=>c.jsxs("div",{className:" basis-2/6 ",children:[c.jsx("h4",{className:" font-medium text-2xl mb-4 ",children:e.title}),c.jsx("p",{children:e.content})]},di()))})}const s6="/amabilis-e-commerce-website/assets/earrings-C1m4AEcD.jpg",i6="/amabilis-e-commerce-website/assets/malebag-BPb88_W-.jpg",o6="/amabilis-e-commerce-website/assets/tv-BcGZUUSF.jpg";function a6(){const t=xo(),e=()=>{t("/collection/grid")},n=[{image:s6,title:"Earrings"},{image:i6,title:"School Bags"},{image:o6,title:"Television"}];return c.jsx("div",{className:" flex mt-20 gap-8 px-3 sm:flex-col ",children:n.map(r=>c.jsxs("div",{className:" basis-2/6 h-64 relative md:h-32 sm:h-40 ",children:[c.jsx("img",{src:r.image,alt:r.title,className:" h-full w-full "}),c.jsxs("div",{className:" absolute top-0 left-0 p-12 md:p-1 ",children:[c.jsx("h3",{className:" font-semibold text-3xl text-yellow-400 md:text-xl ",children:r.title}),c.jsxs("p",{className:" mb-12 md:mb-6 ",children:["Starting at ",c.jsx("span",{className:" italic text-yellow-400 ",children:"$100"})]}),c.jsx(bV,{onClick:e,className:" size-8 text-yellow-400 hover:text-lilac "})]})]},di()))})}const l6="/amabilis-e-commerce-website/assets/manager-C82ru0RX.jpg",u6="/amabilis-e-commerce-website/assets/developer-DMcNjs35.jpg",c6="/amabilis-e-commerce-website/assets/designer-BkXmQ7Iy.jpg",d6="/amabilis-e-commerce-website/assets/chairman-DdA7c6B7.jpg";function h6(t){return je({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm215.3 337.7c.3 4.7.3 9.6.3 14.4 0 146.8-111.8 315.9-316.1 315.9-63 0-121.4-18.3-170.6-49.8 9 1 17.6 1.4 26.8 1.4 52 0 99.8-17.6 137.9-47.4-48.8-1-89.8-33-103.8-77 17.1 2.5 32.5 2.5 50.1-2a111 111 0 0 1-88.9-109v-1.4c14.7 8.3 32 13.4 50.1 14.1a111.13 111.13 0 0 1-49.5-92.4c0-20.7 5.4-39.6 15.1-56a315.28 315.28 0 0 0 229 116.1C492 353.1 548.4 292 616.2 292c32 0 60.8 13.4 81.1 35 25.1-4.7 49.1-14.1 70.5-26.7-8.3 25.7-25.7 47.4-48.8 61.1 22.4-2.4 44-8.6 64-17.3-15.1 22.2-34 41.9-55.7 57.6z"},child:[]}]})(t)}function f6(){const t=[{id:1,image:l6,name:"Mr. Omari Davis",position:"Manager",socialMedia:{facebook:"https://www.facebook.com",twitter:"https://www.twitter.com",instagram:"https://www.instagram.com"}},{id:2,image:u6,name:"Ms. Nia Thompson",position:"Developer",socialMedia:{facebook:"https://www.facebook.com",twitter:"https://www.twitter.com",instagram:"https://www.instagram.com"}},{id:3,image:c6,name:"Ms. Kamaria Clark",position:"Designer",socialMedia:{facebook:"https://www.facebook.com",twitter:"https://www.twitter.com",instagram:"https://www.instagram.com"}},{id:4,image:d6,name:"Mr. Jabari Harris",position:"Chairman",socialMedia:{facebook:"https://www.facebook.com",twitter:"https://www.twitter.com",instagram:"https://www.instagram.com"}}],{isShow:e,setIsShow:n,handleShow:r}=jc();return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col items-center pb-24",children:[c.jsx("h2",{className:' font-semibold text-3xl pb-4 relative before:absolute before:bg-black before:content-[""] before:h-1 before:w-16 before:left-0 before:right-0 before:bottom-0 before:my-0 before:mx-auto ',children:"Team Members"}),c.jsx("p",{className:"pt-6 sm:text-center",children:"Team members that give sustainability, quality and customer satisfaction"})]}),c.jsx("div",{className:" flex gap-6 sm:flex-col ",children:t.map(s=>c.jsxs("div",{className:" basis-1/4 ",children:[c.jsxs("div",{className:"h-80 relative sm:h-[30rem]",onMouseEnter:()=>r(s.id),onMouseLeave:()=>n(!1),onClick:()=>r(s.id),children:[c.jsx("img",{src:s.image,alt:s.name,className:" h-full w-full "}),e===s.id&&c.jsxs("div",{className:"bg-white flex absolute top-2/4 z-20 justify-center w-full p-2 gap-2",children:[c.jsx("a",{href:s.socialMedia.facebook,target:"_blank",children:c.jsx(V5,{className:"size-6 text-[#1877F2] sm:size-9"})}),c.jsx("a",{href:s.socialMedia.twitter,target:"_blank",children:c.jsx(h6,{className:"size-6 text-[#1DA1F2] sm:size-9"})}),c.jsx("a",{href:s.socialMedia.instagram,target:"_blank",children:c.jsx(TV,{className:"size-6 text-[#E1306C] sm:size-9"})})]})]}),c.jsxs("div",{className:"text-center p-4 bg-gray-500",children:[c.jsx("p",{className:"font-medium text-xl",children:s.name}),c.jsx("p",{className:"italic",children:s.position})]})]},s.id))})]})}function m6(){return c.jsxs("section",{className:" pb-20 sm:text-sm  ",children:[c.jsxs("div",{className:" flex flex-col items-center",children:[c.jsx("h4",{className:" text-lg font-medium ",children:"Who are we"}),c.jsx("h2",{className:' text-3xl pb-6 font-medium relative before:absolute before:bg-black before:content-[""] before:h-1 before:w-16 before:left-0 before:right-0 before:bottom-0 before:my-0 before:mx-auto ',children:"Welcome to Amabilis"}),c.jsx("p",{className:" px-20 mt-12 text-center sm:px-4 ",children:"At Amabilis, we are more than just a brand; we are a community of trendsetters, innovators, and dreamers. Our journey began with a simple idea: to create a space where fashion and technology coexist harmoniously. With a keen eye on the latest trends and a passion for quality, we handpick every item in our collection to ensure it meets our high standards of excellence. Our team is dedicated to providing you with the best products and customer service, making sure your experience with us is nothing short of extraordinary."})]}),c.jsxs("div",{className:" px-20 md:px-8 sm:px-4 ",children:[c.jsx(a6,{}),c.jsx(r6,{}),c.jsx(f6,{})]})]})}const p6=()=>c.jsx("div",{className:" py-20 sm:py-10 ",children:c.jsx(m6,{})}),g6=qe.object({firstName:qe.string().min(6,{message:"Must be at least 6 characters long"}),lastName:qe.string().min(6,{message:"Must be at least 6 characters long"}),companyName:qe.string().optional(),country:qe.string().min(1,{message:"Please select a country"}),address:qe.object({street:qe.string().min(1,{message:"Street name and number is required"}),apartment:qe.string().optional()}),townOrCity:qe.string().min(1,{message:"Town is required"}),stateOrCounty:qe.string().min(1,{message:"State is required"}),postcodeOrZip:qe.string(),phone:qe.string(),email:qe.string().email("Please enter a valid email address"),additionalInformation:qe.string().optional()}),y6=()=>{var s,i;const{register:t,handleSubmit:e,formState:{errors:n}}=Qf({resolver:Gf(g6)}),r=o=>{console.log(o)};return c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"font-medium text-xl",children:"Billing Details"}),c.jsxs("form",{onSubmit:e(r),children:[c.jsxs("div",{className:"flex gap-8 mt-4 sm:flex-col",children:[c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("label",{htmlFor:"firstName",children:"First Name"}),c.jsx("input",{type:"text",id:"firstName",...t("firstName"),className:"border border-gray-200 h-12 p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),n.firstName&&c.jsx("p",{className:" bg-red-500  ",children:n.firstName.message})]}),c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("label",{htmlFor:"lastName",children:"Last Name"}),c.jsx("input",{type:"text",id:"lastName",...t("lastName"),className:"border border-gray-200 h-12  p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),n.lastName&&c.jsx("p",{className:" bg-red-500  ",children:n.lastName.message})]})]}),c.jsxs("div",{className:"flex flex-col w-full mt-4",children:[c.jsx("label",{htmlFor:"companyName",children:"Company Name"}),c.jsx("input",{type:"text",id:"companyName",...t("companyName"),className:"border border-gray-200 h-12  p-3 mt-2 outline-lilac md:text-sm sm:text-sm "})]}),c.jsxs("div",{className:"flex flex-col w-full mt-4",children:[c.jsx("label",{htmlFor:"country",children:"Country"}),c.jsx("select",{name:"",id:"country",...t("country"),className:"border border-gray-200 h-12 p-3 mt-2 outline-lilac md:text-sm sm:text-sm",children:c.jsx("option",{value:"",children:"Select a Country"})}),n.country&&c.jsx("p",{className:" bg-red-500  ",children:n.country.message})]}),c.jsxs("div",{className:"flex flex-col w-full mt-4",children:[c.jsx("label",{htmlFor:"streetAddress",children:"Street Address"}),c.jsx("input",{type:"text",id:"streetAddress",placeholder:"House number and street name",...t("address.street"),className:"border border-gray-200 h-12  p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),((s=n.address)==null?void 0:s.street)&&c.jsx("p",{className:" bg-red-500  ",children:n.address.street.message}),c.jsx("input",{type:"text",placeholder:"Apartment, suite, unit, etc",...t("address.apartment"),className:"border border-gray-200 h-12  p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),((i=n.address)==null?void 0:i.apartment)&&c.jsx("p",{className:" bg-red-500  ",children:n.address.apartment.message})]}),c.jsxs("div",{className:"flex flex-col w-full mt-4",children:[c.jsx("label",{htmlFor:"townOrCity",children:"Town / City"}),c.jsx("input",{type:"text",id:"townOrCity",...t("townOrCity"),className:"border border-gray-200 h-12  p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),n.townOrCity&&c.jsx("p",{className:" bg-red-500  ",children:n.townOrCity.message})]}),c.jsxs("div",{className:"flex gap-8 mt-4 sm:flex-col",children:[c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("label",{htmlFor:"stateOrCounty",children:"State / County"}),c.jsx("input",{type:"text",id:"stateOrCounty",...t("stateOrCounty"),className:"border border-gray-200 h-12 p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),n.stateOrCounty&&c.jsx("p",{className:" bg-red-500  ",children:n.stateOrCounty.message})]}),c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("label",{htmlFor:"postcodeOrZip",children:"Postcode / ZIP"}),c.jsx("input",{type:"text",id:"postcodeOrZip",...t("postcodeOrZip"),className:"border border-gray-200 h-12  p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),n.postcodeOrZip&&c.jsx("p",{className:" bg-red-500  ",children:n.postcodeOrZip.message})]})]}),c.jsxs("div",{className:"flex gap-8 mt-4 sm:flex-col",children:[c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("label",{htmlFor:"phone",children:"Phone"}),c.jsx("input",{type:"number",id:"phone",...t("phone"),className:"border border-gray-200 h-12 p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),n.phone&&c.jsx("p",{className:" bg-red-500  ",children:n.phone.message})]}),c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("label",{htmlFor:"email",children:"Email Address"}),c.jsx("input",{type:"email",id:"email",...t("email"),className:"border border-gray-200 h-12  p-3 mt-2 outline-lilac md:text-sm sm:text-sm "}),n.email&&c.jsx("p",{className:" bg-red-500  ",children:n.email.message})]})]}),c.jsxs("div",{className:" mt-8",children:[c.jsx("h3",{children:"Additional Information"}),c.jsx("p",{children:"Order notes"}),c.jsx("textarea",{name:"",id:"",...t("additionalInformation"),placeholder:"Notes about your order, e.g special notes for delivery.",className:"w-full border border-gray-200 h-40 p-3 mt-2 outline-lilac md:text-sm sm:text-sm"})]})]})]})},v6=({cart:t,getTotalPriceForItem:e,getTotalPriceOfCart:n})=>{const r=n();return c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"font-medium text-xl",children:"Your Order"}),c.jsxs("div",{className:"bg-gray-200 p-8 my-6 rounded-xl",children:[c.jsxs("div",{className:"flex justify-between pb-8 border-b border-dark-gray *:font-medium",children:[c.jsx("h3",{children:"Product"}),c.jsx("h3",{children:"Total"})]}),c.jsx("div",{className:"py-4 border-b border-dark-gray ",children:t==null?void 0:t.map(s=>c.jsxs("ul",{className:"flex justify-between *:mb-4",children:[c.jsxs("li",{children:[s.title," X ",s.quantity]}),c.jsxs("li",{children:["$",e(s)]})]},s.id))}),c.jsxs("div",{className:" flex justify-between py-4 border-b border-dark-gray ",children:[c.jsx("h3",{children:"Shipping"}),c.jsx("h3",{children:"Free Shipping"})]}),c.jsxs("div",{className:" flex justify-between py-4 border-b border-dark-gray *:font-medium",children:[c.jsx("h3",{children:"Total"}),c.jsxs("h3",{className:"text-lilac",children:["$",r]})]})]}),c.jsx("button",{className:"w-full py-4 rounded-full text-white bg-lilac",children:"PLACE ORDER"})]})};function _6(){const{cart:t,getTotalPriceForItem:e,getTotalPriceOfCart:n}=F.useContext(gr);return c.jsxs("div",{className:" flex gap-8 md:flex-col sm:flex-col ",children:[c.jsx("div",{className:" w-3/5 h-fit md:w-full sm:w-full ",children:c.jsx(y6,{})}),c.jsx("div",{className:" w-2/5 h-fit md:w-full sm:w-full ",children:c.jsx(v6,{cart:t,getTotalPriceForItem:e,getTotalPriceOfCart:n})})]})}function w6(){return c.jsx("div",{className:" p-20 md:px-8 sm:p-6 ",children:c.jsx(_6,{})})}const x6=()=>{const{products:t=[],isLoading:e,error:n,refetch:r}=Io(),{isShow:s,setIsShow:i,handleShow:o}=jc(),{isProductModal:a,handleProductModal:u,closeProductModal:d}=Hf(),{addToCart:h}=F.useContext(gr),{addToWishList:p}=F.useContext(bo),m=new URLSearchParams(wo().search).get("query")||"",v=Array.isArray(t)?t.filter(y=>{var b,R;return((b=y.title)==null?void 0:b.toLowerCase().includes(m.toLowerCase()))||((R=y.category)==null?void 0:R.toLowerCase().includes(m.toLowerCase()))}):[];return e?c.jsx("div",{className:"fixed inset-0 z-[60] flex justify-center items-center bg-white ",children:c.jsx("div",{className:"w-12 h-12 aspect-square rounded-full border-8 border-lilac border-t-transparent animate-spin"})}):n?c.jsxs("div",{className:"fixed inset-0 z-[60] flex flex-col items-center justify-center bg-white",children:[c.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Something went wrong"}),c.jsxs("p",{className:"text-gray-600 mb-6",children:["Error: ",n.message]}),c.jsx("button",{className:"bg-lilac text-white py-2 px-4 rounded hover:bg-lilac-dark transition duration-300",onClick:()=>r(),children:"Refresh Page"})]}):c.jsxs("div",{className:"m-6 p-10 shadow-sm border",children:[c.jsxs("h2",{className:"font-medium text-2xl",children:['Search Results for "',m,'"']}),c.jsx("div",{className:"grid grid-cols-5 gap-8 mt-6 md:grid-cols-2 sm:grid-cols-1",children:v.length>0?v.map(y=>c.jsxs("div",{className:"border shadow-md p-2 w-56 h-96 md:h-fit md:w-full sm:h-fit sm:w-full ",children:[c.jsxs("div",{className:"h-3/5 relative shadow-sm md:h-[27rem] sm:h-[27rem] ",onMouseEnter:()=>o(y.id),onMouseLeave:()=>i(!1),onClick:()=>o(y.id),children:[c.jsx("img",{src:y.image,alt:y.title,className:" p-5 w-full h-full sm:object-contain "}),s===y.id&&c.jsxs("div",{className:" flex absolute top-2/4 w-full justify-center ",children:[c.jsx("button",{className:"size-8 flex justify-center items-center bg-lilac rounded-full mr-2 hover:bg-black md:size-12 sm:size-12",onClick:()=>h(y),children:c.jsx(Wf,{className:"text-white size-5 md:size-8 sm:size-8 "})}),c.jsx("button",{className:"size-8 flex justify-center items-center bg-lilac rounded-full mr-2 hover:bg-black md:size-12 sm:size-12",onClick:()=>u(y.id),children:c.jsx(Vf,{className:"text-white size-5 md:size-10 sm:size-10"})}),c.jsx("button",{className:"size-8 flex justify-center items-center bg-lilac rounded-full hover:bg-black md:size-12 sm:size-12",onClick:()=>p(y),children:c.jsx(hi,{className:"text-white size-5 md:size-10 sm:size-10"})})]}),a===y.id&&c.jsx(Ff,{items:y,closeModal:d,addToCart:h,addToWishList:p})]}),c.jsxs("div",{className:" mt-6 ",children:[c.jsx("p",{children:Zv(y.title)}),c.jsxs("p",{children:["$ ",y.price]})]})]},y.id)):c.jsx("p",{children:"No Products Found"})})]})},E6=()=>c.jsx(c.Fragment,{children:c.jsx(x6,{})}),T6=()=>{const{id:t}=Pk(),{products:e,isLoading:n,error:r,refetch:s,incrementProductQuantity:i,decrementProductQuantity:o}=Io(),a=e==null?void 0:e.find(T=>T.id===Number(t)),u=e==null?void 0:e.filter(T=>T.category===a.category&&T!==a),{isShow:d,setIsShow:h,handleShow:p}=jc(),{isProductModal:m,handleProductModal:v,closeProductModal:y}=Hf(),{addToCart:b}=F.useContext(gr),{addToWishList:R}=F.useContext(bo);return n?c.jsx("div",{className:"fixed inset-0 z-[60] flex justify-center items-center bg-white ",children:c.jsx("div",{className:"w-12 h-12 aspect-square rounded-full border-8 border-lilac border-t-transparent animate-spin"})}):r?c.jsxs("div",{className:"fixed inset-0 z-[60] flex flex-col items-center justify-center bg-white",children:[c.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Something went wrong"}),c.jsxs("p",{className:"text-gray-600 mb-6",children:["Error: ",r.message]}),c.jsx("button",{className:"bg-lilac text-white py-2 px-4 rounded hover:bg-lilac-dark transition duration-300",onClick:()=>s(),children:"Refresh Page"})]}):c.jsxs(c.Fragment,{children:[a&&c.jsxs("div",{className:" flex gap-8 h-[43rem] md:h-fit sm:flex-col sm:h-fit",children:[c.jsx("div",{className:"basis-1/2 border p-8 h-full md:h-96 sm:w-full sm:h-[35rem] sm:basis-0 ",children:c.jsx("img",{src:a.image,alt:a.title,className:"h-full w-full"})}),c.jsxs("div",{className:"basis-1/2 sm:basis-0",children:[c.jsxs("div",{className:"border-b mb-8 pb-8",children:[c.jsx("h2",{className:"font-medium text-3xl mb-4",children:a.title}),c.jsxs("p",{className:"text-red-500 text-2xl mb-4",children:["$",a.price]}),c.jsxs("div",{className:"mb-4 flex",children:[c.jsx(zv,{size:20,className:"inline mr-2 text-orange-600"}),c.jsx("span",{children:a.rating.rate}),c.jsx("span",{className:"border-l pl-5 ml-5 mr-1",children:a.rating.count}),c.jsx("span",{children:"Reviews"})]}),c.jsx("p",{children:a.description})]}),c.jsxs("div",{className:"w-72 flex justify-between sm:w-full",children:[c.jsxs("div",{className:"border w-24 h-12 flex items-center",children:[c.jsx("button",{className:"w-1/4 text-center",onClick:()=>o(a.id),children:"-"}),c.jsx("span",{className:"w-1/2 text-center",children:a.quantity}),c.jsx("button",{className:"w-1/4 text-center",onClick:()=>i(a.id),children:"+"})]}),c.jsx("button",{className:"bg-black text-white w-32 h-12 hover:bg-lilac",onClick:()=>b(a),children:"Add to Cart"}),c.jsx("div",{className:"flex items-center justify-center",onClick:()=>R(a),children:c.jsx(hi,{className:"hover:text-lilac",size:25})})]}),c.jsx("div",{className:"mt-4",children:c.jsxs("span",{children:["Categories: ",a.category,", Minimal"]})}),c.jsx("div",{className:"mt-4",children:c.jsx("span",{children:"Tags: Fashion, Electronic, Furniture"})}),c.jsx("div",{className:" mt-14 text-center sm:mt-7",children:c.jsxs("ul",{className:" flex ",children:[c.jsx("li",{className:" mx-[0.625rem] hover:text-lilac ",children:c.jsx("a",{href:"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer",children:c.jsx(gI,{size:20})})}),c.jsx("li",{className:" mx-[0.625rem] hover:text-lilac ",children:c.jsx("a",{href:"https://www.pinterest.com",target:"_blank",children:c.jsx(yI,{size:20})})}),c.jsx("li",{className:" mx-[0.625rem] hover:text-lilac ",children:c.jsx("a",{href:"https://www.twitter.com",target:"_blank",children:c.jsx(vI,{size:20})})}),c.jsx("li",{className:" mx-[0.625rem] hover:text-lilac ",children:c.jsx("a",{href:"https://www.instagram.com",target:"_blank",children:c.jsx(xV,{size:20})})}),c.jsxs("li",{className:" mx-[0.625rem] hover:text-lilac ",children:[c.jsx("a",{href:"https://www.linkedIn.com",target:"_blank",children:c.jsx(EV,{size:20,className:"bg-white"})})," "]})]})})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"my-[3.75rem] text-center",children:c.jsx("h2",{className:'text-3xl font-semibold mb-4 pb-4 relative before:content-[""] before:bg-black before:w-20 before:h-[0.125rem] before:absolute before:left-[22rem] before:top-4 after:content-[""] after:bg-black after:w-20 after:h-[0.125rem] after:absolute after:right-[22rem] after:top-4 md:before:left-32 md:after:right-32 sm:before:w-7 sm:after:w-7 sm:mb-4 sm:before:left-4 sm:after:right-4',children:"Related Products"})}),c.jsx("div",{className:"grid gap-8 grid-cols-4 md:grid-cols-2 sm:grid-cols-1",children:u.map(T=>c.jsxs("div",{className:"h-fit",children:[c.jsxs("div",{className:"relative h-80 border p-4",onMouseEnter:()=>p(T.id),onMouseLeave:()=>h(!1),onClick:()=>p(T.id),children:[c.jsx("img",{src:T.image,alt:T.title,className:"h-full w-full"}),d===T.id&&c.jsxs("div",{className:" z-50 flex absolute left-0 bottom-0 w-full h-12 ",children:[c.jsx("div",{className:" bg-lilac w-1/4 h-full flex justify-center hover:bg-black md:w-[15%] sm:w-[15%] ",children:c.jsxs("button",{className:" flex justify-center items-center cursor-pointer  ",onClick:()=>R(T),children:[" ",c.jsx(hi,{size:25,className:"text-white"})," "]})}),c.jsx("div",{className:" bg-lilac w-2/4 h-full border-x border-slate-100 flex justify-center cursor-pointer hover:bg-black md:w-[70%] sm:w-[70%] ",children:c.jsxs("button",{className:" flex justify-center items-center text-white ",onClick:()=>b(T),children:[" ",c.jsx(Wf,{className:" m-1 text-white "}),"Add to Cart"," "]})}),c.jsx("div",{className:" bg-lilac w-1/4 h-full flex justify-center cursor-pointer hover:bg-black md:w-[15%] sm:w-[15%] ",children:c.jsxs("button",{className:" flex justify-center items-center cursor-pointer text-white ",onClick:()=>v(T.id),children:[" ",c.jsx(Vf,{size:30})," "]})})]})]}),c.jsxs("div",{className:"text-center mt-4",children:[c.jsx("p",{className:"hover:text-lilac mb-2",children:c.jsx(et,{to:`/product-details/${T.id}`,children:Zv(T.title)})}),c.jsxs("p",{children:["$",T.price]})]}),m===T.id&&c.jsx(Ff,{items:T,closeModal:y,addToCart:b,addToWishList:R,decrementItemQuantity:o,incrementItemQuantity:i})]},T.id))})]})]})},S6=()=>c.jsx("div",{className:"my-16 mx-24 md:mx-8 sm:mx-4",children:c.jsx(T6,{})}),px=({children:t})=>{const{isLoggedIn:e}=Mf();return e?t:c.jsx(ng,{to:"/login-register/login"})},b6=()=>{const{user:t}=Mf(),[e,n]=F.useState(!1),[r,s]=F.useState({username:"",email:"",address:"",phone:""}),[i,o]=F.useState({...r}),[a,u]=F.useState(null),[d,h]=F.useState(null);F.useEffect(()=>{(async()=>{if(t){const b=za(Xi,"users",t.uid),R=await Uv(b);R.exists()&&(s(R.data()),o(R.data()))}})()},[t]);const p=()=>{n(!e)},m=y=>{o({...i,[y.target.name]:y.target.value})},v=async()=>{if(t){const y=za(Xi,"users",t.uid);try{await E5(y,i),s(i),u("Changes saved successfully"),setTimeout(()=>u(""),3e3),n(!1)}catch(b){h("Error updating user information:",b),setTimeout(()=>h(""),3e3),console.error("Error updating user information:",b)}}};return c.jsxs("div",{className:" p-10 bg-white shadow-md rounded-lg max-w-2xl mx-auto",children:[a&&c.jsxs("div",{className:"fixed top-12 left-1/2 transform -translate-x-1/2 px-4 py-2 w-fit rounded shadow-lg z-[57] flex justify-center items-center gap-2 border-gray-500 text-white bg-lilac sm:w-full ",children:[c.jsx($a,{className:"text-white"}),c.jsx("p",{children:a})]}),d&&c.jsxs("div",{className:"fixed top-12 left-1/2 transform -translate-x-1/2 px-4 py-2 w-fit rounded shadow-lg z-[57] flex justify-center items-center gap-2 border-gray-500 text-white bg-red-400 sm:w-full ",children:[c.jsx(t0,{className:"text-white"}),c.jsx("p",{children:d})]}),c.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your Account"}),e?c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700",children:"Display Name"}),c.jsx("input",{type:"text",name:"username",value:i.username,onChange:m,className:"w-full border p-2 rounded mt-1"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700",children:"Email"}),c.jsx("input",{type:"email",name:"email",value:i.email,onChange:m,className:"w-full border p-2 rounded mt-1"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700",children:"Address"}),c.jsx("input",{type:"text",name:"address",value:i.address,onChange:m,className:"w-full border p-2 rounded mt-1"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700",children:"Phone"}),c.jsx("input",{type:"number",name:"phone",value:i.phone,onChange:m,className:"w-full border p-2 rounded mt-1"})]}),c.jsxs("div",{className:"flex justify-around",children:[c.jsx("button",{className:"text-[0.938rem] font-medium bg-gray-300 w-36 h-10 mt-7 rounded-md transition-colors duration-100 ease-linear delay-75 transform hover:bg-lilac hover:text-white md:text-sm sm:text-sm sm:h-9 ",onClick:v,children:"Save Changes"}),c.jsx("button",{onClick:p,className:"text-[0.938rem] font-medium bg-red-500 w-28 h-10 mt-7 rounded-md transition-colors duration-100 ease-linear delay-75 transform hover:bg-lilac hover:text-white md:text-sm sm:text-sm sm:h-9",children:"Cancel"})]})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700",children:"Display Name:"}),c.jsx("p",{children:r.username})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700",children:"Email:"}),c.jsx("p",{children:r.email})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700",children:"Address:"}),c.jsx("p",{children:r.address})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700",children:"Phone:"}),c.jsx("p",{children:r.phone})]}),c.jsx("button",{className:"text-[0.938rem] font-medium bg-gray-300 w-full h-10 mt-7 transition-colors duration-100 ease-linear delay-75 rounded-md transform hover:bg-lilac hover:text-white md:text-sm sm:text-sm sm:h-9 ",onClick:p,children:"Edit Information"})]})]})};function I6(){return c.jsx("div",{className:"p-20",children:c.jsx(b6,{})})}const C6=Kk(vh(c.jsxs(mt,{path:"/",element:c.jsx(P5,{}),children:[c.jsx(mt,{index:!0,element:c.jsx(tV,{})}),c.jsxs(mt,{path:"collection",element:c.jsx(B9,{}),children:[c.jsx(mt,{index:!0,element:c.jsx(ng,{to:"grid"})}),c.jsx(mt,{path:"grid",element:c.jsx($9,{})}),c.jsx(mt,{path:"list",element:c.jsx(Y9,{})})]}),c.jsx(mt,{path:"about",element:c.jsx(p6,{})}),c.jsx(mt,{path:"contact",element:c.jsx(j9,{})}),c.jsx(mt,{path:"wishlist",element:c.jsx(J9,{})}),c.jsx(mt,{path:"cart",element:c.jsx(Q9,{})}),c.jsxs(mt,{path:"login-register",element:c.jsx(G9,{}),children:[c.jsx(mt,{index:!0,element:c.jsx(ng,{to:"login"})}),c.jsx(mt,{path:"login",element:c.jsx(e6,{})}),c.jsx(mt,{path:"register",element:c.jsx(n6,{})})]}),c.jsx(mt,{path:"checkout",element:c.jsx(px,{children:c.jsx(w6,{})})}),c.jsx(mt,{path:"/search",element:c.jsx(E6,{})}),c.jsx(mt,{path:"product-details/:id",element:c.jsx(S6,{})}),c.jsx(mt,{path:"my-account",element:c.jsx(px,{children:c.jsx(I6,{})})}),c.jsx(mt,{path:"*",element:c.jsx(D9,{})})]})));function A6(){return c.jsx(Uk,{router:C6})}const R6=new tL({});lp.createRoot(document.getElementById("root")).render(c.jsx(ct.StrictMode,{children:c.jsx(oL,{client:R6,children:c.jsx(b5,{children:c.jsx(EN,{children:c.jsx(k5,{children:c.jsx(A6,{})})})})})}));
